{"flow":{"onboarding":{"$contentActions":[{"input":{"bypass":false,"$cardContent":{"document":{"id":"72e9ad6e-9dd4-4df6-b70f-e936af8cac4a","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":false,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"7dcd714e-5ae9-498c-b44a-26ed05592d77","typeOfStateId":"state","$connId":"con_3","$id":"f5a4c958-00c8-4758-96ec-109dd13c9809","conditions":[{"source":"context","comparison":"equals","values":["true"],"variable":"return"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"76700234-42bb-43f5-8359-777344031156","conditions":[{"source":"input","comparison":"matches","values":[".*"]}],"$id":"33d9a4a7-9456-49d8-8cfc-dfa22161ba3b","$connId":"con_8","$invalid":false,"typeOfStateId":"state"}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"38b2307e-0aac-4c44-a5be-62656da3ccec","$typeOfContent":"","type":"ExecuteScript","$title":"Process channel","$invalid":false,"settings":{"function":"run","source":"function run(originator) { \n    channel=\"\";\n    \n    domain = originator.split(\"@\")[1];\n\n    switch (domain) {\n        \n        case '0mn.io':\n            channel = \"CHAT\";\n            return channel;\n\n        case 'tangram.com.br':\n            channel = \"SMS\";\n            return channel;\n\n         case 'take.io':\n            channel = \"SMS\";\n            return channel;\n\n        case 'messenger.gw.msging.net':\n            channel = \"Messenger\";\n            return channel;\n        \n        case 'instagram.gw.msging.net':\n            channel = \"Instagram\";\n            return channel;\n\n        case 'wa.gw.msging.net':\n            channel = \"WHATSAPP\";\n            return channel;\n\n        case 'abs.gw.msging.net':\n            channel = \"Microsoft Teams\";\n            return channel;\n\n        case 'businessmessages.gw.msging.net':\n            channel = \"GBM\";\n            return channel;\n\n        case 'skype.gw.msging.net':\n            channel = \"Skype\";\n            return channel;\n\n        case 'telegram.gw.msging.net':\n            channel = \"Telegram\";\n            return channel;\n\n        case 'workplace.gw.msging.net':\n            channel = 'Workplace';\n            return channel;\n\n        case 'mailgun.gw.msging.net':\n            channel = \"Email\";\n            return channel;\n\n        case 'googlercs.gw.msging.net':\n            channel = \"RCS\";\n            return channel;   \n\n        default:\n            channel = \"Other\";\n            return channel;\n    }\n}","inputVariables":["contact.identity"],"outputVariable":"channel","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"bc8731e5-204a-4bae-a6f9-be68e4a43419","$typeOfContent":"","type":"SetVariable","$title":"Set dataIn to calendar.datetime","$invalid":false,"settings":{"value":"{{calendar.datetime}}","variable":"dataIn"},"conditions":[]},{"$id":"a8d4614b-dae4-4709-a465-8d63afe74e0a","$typeOfContent":"","type":"ExecuteScript","$title":"Set - telefone","$invalid":false,"settings":{"function":"run","source":"function run(identificador) {\n\ttry {\n\t\tif(!identificador) return \"{{contact.phoneNumber}}\"\n\n\t\tconst [numero, canal] = identificador.split(\"@\");\n\n\t\tif(canal === \"wa.gw.msging.net\") return \"+\" + numero;\n\n\t\treturn \"{{contact.phoneNumber}}\"\n\t} catch (e) {\n\t\treturn \"{{contact.phoneNumber}}\"\n\t}\n}","inputVariables":["contact.identity"],"outputVariable":"telefone","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"023ccfec-d855-4c12-9f68-a3bdb90ce09f","$typeOfContent":"","type":"TrackEvent","$title":"Tracker Canais","$invalid":false,"settings":{"extras":{},"category":"Canal","action":"{{channel}}"},"conditions":[]},{"$id":"beb32a48-9802-457e-b7d1-85dbbe864759","$typeOfContent":"","type":"SetVariable","$title":"setCountError","$invalid":false,"settings":{"variable":"countError","value":"0"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"id":"blip-tag-0559535d-1062-48c7-ad11-48735e3a1c0f","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-80cdd6ff-f65c-41fe-9b44-434758ed78bf","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-21e4f9ad-cab7-48ad-8ec0-0c098d0fafda","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-e424547c-a343-4862-8311-8bb2d00c45b2","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"onboarding","root":true,"$title":"In√≠cio","$position":{"top":"184px","left":"639px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"fallback":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"3ac7213c-c202-412b-9be2-1a24a527de36","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"5698fca8-6b9d-4a24-85e0-13ecdecb4b61","typeOfStateId":"state","$connId":"con_13","$id":"37797719-e105-4d7b-8396-63ea50c90cc0","conditions":[{"source":"context","comparison":"greaterThanOrEquals","values":["2"],"variable":"countError"}],"$invalid":false},{"stateId":"c52830fc-03d8-45e0-a56d-e572777f53fc","typeOfStateId":"state","$connId":"con_18","$id":"799cff1a-f81a-4145-9a48-5b5eb2b11f3e","conditions":[{"source":"context","comparison":"contains","values":["[API]"],"variable":"statePreviousName"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"75bc93ca-bdb0-4d7e-8d15-9c2223432af6","typeOfStateId":"state","$connId":"con_23","$id":"292cc0ba-0e9f-46cc-9dfc-25246716d969","conditions":[{"source":"context","comparison":"contains","values":["Nome"],"variable":"statePreviousName"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"b381b050-7ffc-4cd8-ae69-84655b6a67c4","typeOfStateId":"state","$connId":"con_28","$id":"850c9e99-5af2-4939-8308-e529d22315fc","conditions":[{"source":"context","comparison":"contains","values":["CPF"],"variable":"statePreviousName"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"b41d6070-f123-4ea4-b563-9de2d79400e0","typeOfStateId":"state","$connId":"con_33","$id":"772a2bc8-f8d8-4c95-b24f-11e80d5fe6ec","conditions":[{"source":"context","comparison":"contains","values":["Telefone"],"variable":"statePreviousName"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"34805a0d-d1ae-4372-a21e-5397517690e2","typeOfStateId":"state","$connId":"con_38","$id":"928df346-0e44-444f-aeb5-e6853d8b896b","conditions":[{"source":"context","comparison":"contains","values":["UF"],"variable":"statePreviousName"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"de4a55fa-d3ff-48cf-8642-0b22b525af83","typeOfStateId":"state","$connId":"con_43","$id":"9500905a-3f9c-4d0d-8d61-54691be9dda6","conditions":[{"source":"input","comparison":"exists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false}],"$enteringCustomActions":[{"$id":"6ac97d1c-43ce-43c6-afa6-8908f79c1641","$typeOfContent":"","type":"SetVariable","$title":"statePreviousId","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.previous.id}}","expiration":null},"conditions":[]},{"$id":"dd8c7e4a-afae-4ce7-82d9-584ad909cf88","$typeOfContent":"","type":"SetVariable","$title":"statePreviousName","$invalid":false,"settings":{"variable":"statePreviousName","value":"{{state.previous.name}}"},"conditions":[]},{"$id":"7017759f-6e5e-4f76-a957-81eb7e312ea1","$typeOfContent":"","type":"SetVariable","$title":"setCountError","$invalid":false,"settings":{"variable":"countError","value":"0"},"conditions":[{"source":"context","comparison":"notExists","variable":"countError","values":[]}]}],"$leavingCustomActions":[{"$id":"1f48d371-c012-429d-904a-08d620298d86","$typeOfContent":"","type":"ExecuteScript","$title":"processCountError","$invalid":false,"settings":{"function":"run","source":"function run(countError, statePreviousId, currentBlock) {\n    try {\n        // Converte countError para n√∫mero ou inicia com 0\n        countError = Number(countError) || 0;\n\n        if (statePreviousId === currentBlock) {\n            // Mesma etapa -> soma mais 1\n            countError += 1;\n        } else {\n            // Nova etapa -> reinicia contagem\n            countError = 0;\n        }\n\n        // Retorna o contador atualizado\n        return countError;\n\n    } catch (e) {\n        // Em caso de erro, reinicia contagem\n        return 0;\n    }\n}\n","inputVariables":["countError","statePreviousId","currentBlock"],"outputVariable":"countError","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"bd058e0d-bda3-4807-8de4-db948cd85ec9","$typeOfContent":"","type":"SetVariable","$title":"statePreviousId","$invalid":false,"settings":{"variable":"statePreviousId","value":"{{currentBlock}}","expiration":null},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"de4a55fa-d3ff-48cf-8642-0b22b525af83","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-b768f6d7-2fe3-49b8-b891-a0e2f257830c","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-dc9ef3e1-5688-4f96-99d3-a49da0072af5","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false}],"id":"fallback","$title":"Exce√ß√µes","$position":{"top":"292.444px","left":"2227.33px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"76700234-42bb-43f5-8359-777344031156":{"$contentActions":[{"action":{"$id":"b549e56e-6595-4c47-b10c-2930c06a230d","$typeOfContent":"text","type":"SendMessage","settings":{"id":"6af0f1a5-27be-4748-84bb-34c49a831d79","type":"text/plain","content":"Ol√°, {{saudacao}}\nEu sou o Mavi, assistente virtual da futura Engenheira de Software Marcela. ü§ñ","metadata":{}},"$cardContent":{"document":{"id":"6af0f1a5-27be-4748-84bb-34c49a831d79","type":"text/plain","content":"Ol√°, {{saudacao}}\nEu sou o Mavi, assistente virtual da futura Engenheira de Software Marcela. ü§ñ"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"f7b04422-1e50-4066-9601-c30e45f70d6b","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"f9d6a2d8-2ab6-4b1b-949e-f3e88998a517","typeOfStateId":"state","$connId":"con_48","$id":"b7ebcb9b-a9c8-461b-b718-224d6e7d9356","conditions":[{"source":"input","comparison":"exists","values":[],"variable":"channel"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"5e3b5c8c-f08e-4abe-9ef9-9ce3bbab56b7","$typeOfContent":"","type":"ExecuteScript","$title":"Process saudacao","$invalid":false,"settings":{"function":"run","source":"function run() {\n    var horaAtual = new Date().getHours();\n\n    if (horaAtual >= 5 && horaAtual < 12) {\n        return \"Bom dia!\";\n    } else if (horaAtual >= 12 && horaAtual < 18) {\n        return \"Boa tarde!\";\n    } else {\n        return \"Boa noite!\";\n    }\n}","inputVariables":[],"outputVariable":"saudacao","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"561f1aa0-5b29-4be6-80a8-ecbf4c5bbf2d","$typeOfContent":"","type":"TrackEvent","$title":"Sauda√ß√£o - Exibi√ß√£o","$invalid":false,"settings":{"extras":{"sessionId":"{{contact.extras.sessionId}}"},"category":"Sauda√ß√£o - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-6e246607-f608-4143-bde4-7857d2698821","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-46a82ba1-6866-4e48-9998-ab052e18ee1a","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-16203ef3-30e6-49ca-a333-1ad75aa4d258","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"76700234-42bb-43f5-8359-777344031156","root":false,"$title":"Boas vindas","$position":{"top":"365px","left":"639px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"ae3a716b-abf5-41e0-85ea-5eaefa1406ca":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"9b276421-1c40-4b0d-9885-2421bbc12d0c","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"6f6fcd2a-125c-4e2f-843d-96ed979443fe","$typeOfContent":"","type":"ExecuteScript","$title":"Process redirectStep","$invalid":false,"settings":{"function":"run","source":"function run(intentAction) {\n    let stepId = \"\";\n\n    switch (intentAction) {\n        case \"API REST - Conceitos\":\n            stepId = \"9951fbf7-e9a2-48d2-b9b9-d2d0acf07c1c\";\n            return stepId;\n\n        case \"API REST - Estrutura\":\n            stepId = \"5aa1b513-2961-411a-8acf-08d2e551511f\";\n            return stepId;\n\n        case \"Governan√ßa de APIs\":\n            stepId = \"7453ada1-929a-4751-a5d0-2c93376c2678\";\n            return stepId;\n\n        case \"APIs em chatbots\":\n            stepId = \"f2c2b4b1-1795-448b-b32a-e074e78b8482\";\n            return stepId;\n\n        case \"Docs e refer√™ncias\":\n            stepId = \"f220f764-fa7d-4b31-9819-f5cf2a7af75d\";\n            return stepId;\n\n        case \"Teste de rotas API\":\n            stepId = \"610ae296-8cb6-4342-84d3-aa651d3dc6cf\";\n            return stepId;\n\n        default:\n            stepId = \"default\";\n            return stepId;\n    }\n}\n","inputVariables":["intentAction"],"outputVariable":"redirectStep","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"{{redirectStep}}","$invalid":false,"typeOfStateId":"variable"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-5ec81a0d-39ff-4756-838d-8646d2d42cdd","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false}],"id":"ae3a716b-abf5-41e0-85ea-5eaefa1406ca","root":false,"$title":"Redirect - redirectStep","$position":{"top":"982.667px","left":"632.667px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"0 0 50% 50%","backgroundColor":"#031b3f"}},"0f14f96c-a4ea-48dc-88cd-acba838683df":{"$contentActions":[{"action":{"$id":"c8fe9a01-afee-4f21-bff9-179d4034a873","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"81c0e1ba-abc4-4927-b1af-9edc9924b141","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"81c0e1ba-abc4-4927-b1af-9edc9924b141","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"1db48693-0577-4f6e-928b-ca765574a095","$typeOfContent":"select","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"5351e2f2-5100-409c-8529-6df088e5d948","type":"application/vnd.lime.select+json","content":{"text":"Que √≥timo! üòÑ ‚Ä®\nEnt√£o vamos falar sobre <b>Conceitos b√°sicos de API REST.</b>\n\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\n\nClique em  um dos bot√µes de acordo com as op√ß√µes abaixo: \n\n<b>1.</b> API REST\nO que √© uma API REST?\n\n<b>2.</b> Diferen√ßa entre REST\nQual a diferen√ßa entre REST e outros estilos de API?\n\n<b>3.</b> Uso da REST\nPor que REST √© t√£o usado?","options":[{"text":"API REST","previewText":"API REST","value":null,"index":0,"type":null},{"text":"Diferen√ßa entre REST","previewText":"Diferen√ßa entre REST","value":null,"index":1,"type":null},{"text":"Uso da REST","previewText":"Uso da REST","value":null,"index":2,"type":null}],"limitMenu":false},"metadata":{}},"$cardContent":{"document":{"id":"5351e2f2-5100-409c-8529-6df088e5d948","type":"application/vnd.lime.select+json","content":{"text":"Que √≥timo! üòÑ ‚Ä®\nEnt√£o vamos falar sobre <b>Conceitos b√°sicos de API REST.</b>\n\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\n\nClique em  um dos bot√µes de acordo com as op√ß√µes abaixo: \n\n<b>1.</b> API REST\nO que √© uma API REST?\n\n<b>2.</b> Diferen√ßa entre REST\nQual a diferen√ßa entre REST e outros estilos de API?\n\n<b>3.</b> Uso da REST\nPor que REST √© t√£o usado?","options":[{"text":"API REST","previewText":"API REST","value":null,"index":0,"type":null},{"text":"Diferen√ßa entre REST","previewText":"Diferen√ßa entre REST","value":null,"index":1,"type":null},{"text":"Uso da REST","previewText":"Uso da REST","value":null,"index":2,"type":null}],"limitMenu":false}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"69fde033-3aaa-407f-a8ff-f4815f4a6542","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$contentId":"1db48693-0577-4f6e-928b-ca765574a095","$id":"5ad244f4-12cd-4926-a266-41588760fc02","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$invalid":false},{"stateId":"b1e6f9c4-81a5-4f8c-b580-8c570f156b61","typeOfStateId":"state","$connId":"con_53","$contentId":"1db48693-0577-4f6e-928b-ca765574a095","$id":"f142eb1e-bed6-4227-bafb-7204f67de5ad","conditions":[{"source":"context","comparison":"notEquals","values":["Input inesperado"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"13a7621a-78fa-409a-be6d-b03643b52a10","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"26d57398-ee8c-477a-ba59-11229807303c","$typeOfContent":"","type":"TrackEvent","$title":"Menu Conceitos Basicos de API REST - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Menu Conceitos Basicos de API REST - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"81e30014-3298-4a5f-9eab-5094a7428832","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"API REST\",\n        \"2\": \"Diferen√ßa entre REST\",\n        \"3\": \"Uso da REST\"\n        \n    };\n\n    const menuStrings = {\n        \"1\": [\"API REST\", \"1\"],\n        \"2\": [\"Diferen√ßa entre REST\", \"2\"],\n        \"3\": [\"Uso da REST\", \"3\"]\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"1813db0b-5259-496c-9fe0-f6f69b66bbe8","$typeOfContent":"","type":"TrackEvent","$title":"Menu Conceitos Basicos de API REST - Input","$invalid":false,"settings":{"extras":{"sessionId":"{{contact.extras.sessionId}}"},"category":"Menu Conceitos Basicos de API REST - Input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"6caaa234-bb10-40d6-bb06-c009855522ef","$typeOfContent":"","type":"TrackEvent","$title":"Menu Conceitos Basicos de API REST - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Menu Conceitos Basicos de API REST - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":["API REST","Diferen√ßa entre REST","Uso da REST"],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-2bb7be5b-967f-4b54-b8a8-24e2e8163fb6","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-3d109669-c017-43b5-9cf6-05bfcbfda7da","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-3fc4460e-6903-4d24-bb81-66e25268daec","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-13e7d1f1-ace9-4be2-bf69-5be068dc411b","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-f05451f4-cb5d-4d0f-bf72-851bed2ea20c","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"0f14f96c-a4ea-48dc-88cd-acba838683df","root":false,"$title":"WC - API REST - Conceitos","$position":{"top":"1406px","left":"431px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#455a64"}},"29215e06-6480-4963-9a8b-45af16147aa3":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"1f440c36-a048-4f3e-bec7-3a9dea1d302f","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[],"id":"29215e06-6480-4963-9a8b-45af16147aa3","root":false,"$title":"Redirect MAIN","$position":{"top":"337px","left":"1149px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"fa5b74cc-4990-4966-90db-ef0bde3351cb":{"$contentActions":[{"input":{"bypass":false,"$cardContent":{"document":{"id":"97d5bf25-58de-44c5-b5af-81009077a94a","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"29215e06-6480-4963-9a8b-45af16147aa3","typeOfStateId":"state","$connId":"con_58","$id":"55838f36-ff00-48f5-8748-1382830a0810","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false},{"stateId":"29215e06-6480-4963-9a8b-45af16147aa3","typeOfStateId":"state","$connId":"con_63","$id":"f7baa7ad-4bc8-47a9-83c6-d16d2c605e4f","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-7a917367-4804-4364-b942-135bff7264ac","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"fa5b74cc-4990-4966-90db-ef0bde3351cb","root":false,"$title":"Finaliza","$position":{"top":"185px","left":"1149px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"d4c48a12-869e-499b-a9df-52c50bf3d5b9":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"69ca7a57-6ff7-4f1f-9c98-2b3b4c72e5b3","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"bef06fb2-ff24-4659-9c0e-8c2ea61190dd","typeOfStateId":"state","$connId":"con_68","$id":"b049cd16-b8da-4378-aa6e-10588fb0b295","conditions":[{"source":"context","comparison":"contains","values":["WHATSAPP"],"variable":"channel"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"5d2c7b36-e94b-4e72-b24d-62c87ef33e8f","typeOfStateId":"state","$connId":"con_73","$id":"abb5d55f-c920-47a1-a699-83685fb817de","conditions":[{"source":"context","comparison":"contains","values":["CHAT"],"variable":"channel"}],"$isBuilderDefaultOutput":true,"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[],"id":"d4c48a12-869e-499b-a9df-52c50bf3d5b9","root":false,"$title":"Verifica Canal","$position":{"top":"669.667px","left":"639px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"5d2c7b36-e94b-4e72-b24d-62c87ef33e8f":{"$contentActions":[{"action":{"$id":"b46a839b-f7db-4bcd-9a3d-a2064ca5e99e","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"ca5afb6d-617d-4a04-9dd5-82dde62143d0","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"ca5afb6d-617d-4a04-9dd5-82dde62143d0","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"f974439b-86f2-4920-84a3-2215c3b62e3e","$typeOfContent":"select","type":"SendMessage","settings":{"id":"b63584df-04dc-4ced-a720-cb73264e96cc","type":"application/vnd.lime.select+json","content":{"text":"Como podemos ajudar voc√™ hoje? üòä‚Ä®‚Ä®\n\nEscolha abaixo sobre qual t√≥pico deseja tirar suas d√∫vidas.\n\nSelecione uma das op√ß√µes abaixo:\n\n1. API REST - Conceitos\nüîç Conceitos b√°sicos de API REST\n\n2. API REST - Estrutura\nüèóÔ∏è Estrutura√ß√£o de API REST\n\n3. Governan√ßa de APIs\nüõ°Ô∏è Governan√ßa de APIs\n\n4. APIs em chatbots\nü§ñ APIs em Chatbots\n\n5. Docs e refer√™ncias\nüìö Documenta√ß√µes, fontes e refer√™ncias do projeto.\n\n6. Teste de rotas API\n‚ö†Ô∏è Aqui voc√™ pode testar rotas e entender como cada uma funciona.","options":[{"text":"API REST - Conceitos","previewText":"API REST - Conceitos","value":null,"index":0,"type":null},{"text":"API REST - Estrutura","previewText":"API REST - Estrutura","value":null,"index":1,"type":null},{"text":"Governan√ßa de APIs","previewText":"Governan√ßa de APIs","value":null,"index":2,"type":null},{"index":3,"text":"APIs em chatbots","previewText":"APIs em chatbots","type":null,"value":null},{"index":-1,"text":"Docs e refer√™ncias","previewText":"Docs e refer√™ncias","type":null,"value":null},{"index":-1,"text":"Teste de rotas API","previewText":"Teste de rotas API","type":null,"value":null}],"limitMenu":false},"metadata":{}},"$cardContent":{"document":{"id":"b63584df-04dc-4ced-a720-cb73264e96cc","type":"application/vnd.lime.select+json","content":{"text":"Como podemos ajudar voc√™ hoje? üòä‚Ä®‚Ä®\n\nEscolha abaixo sobre qual t√≥pico deseja tirar suas d√∫vidas.\n\nSelecione uma das op√ß√µes abaixo:\n\n1. API REST - Conceitos\nüîç Conceitos b√°sicos de API REST\n\n2. API REST - Estrutura\nüèóÔ∏è Estrutura√ß√£o de API REST\n\n3. Governan√ßa de APIs\nüõ°Ô∏è Governan√ßa de APIs\n\n4. APIs em chatbots\nü§ñ APIs em Chatbots\n\n5. Docs e refer√™ncias\nüìö Documenta√ß√µes, fontes e refer√™ncias do projeto.\n\n6. Teste de rotas API\n‚ö†Ô∏è Aqui voc√™ pode testar rotas e entender como cada uma funciona.","options":[{"text":"API REST - Conceitos","previewText":"API REST - Conceitos","value":null,"index":0,"type":null},{"text":"API REST - Estrutura","previewText":"API REST - Estrutura","value":null,"index":1,"type":null},{"text":"Governan√ßa de APIs","previewText":"Governan√ßa de APIs","value":null,"index":2,"type":null},{"index":3,"text":"APIs em chatbots","previewText":"APIs em chatbots","type":null,"value":null},{"index":-1,"text":"Docs e refer√™ncias","previewText":"Docs e refer√™ncias","type":null,"value":null},{"index":-1,"text":"Teste de rotas API","previewText":"Teste de rotas API","type":null,"value":null}],"limitMenu":false}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"52fa24d0-7601-4e51-b776-fbe8782895b8","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$contentId":"f974439b-86f2-4920-84a3-2215c3b62e3e","$id":"d4d8c362-cbbd-4bbd-88b0-9d470e8b611c","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$invalid":false},{"stateId":"ae3a716b-abf5-41e0-85ea-5eaefa1406ca","typeOfStateId":"state","$connId":"con_78","$contentId":"f974439b-86f2-4920-84a3-2215c3b62e3e","$id":"528f9e2a-7338-4ac3-9c52-8678d6eb64b8","conditions":[{"source":"context","comparison":"notEquals","values":["Input inesperado"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"6b058712-ca5d-4e23-a43b-771dd83ba26a","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"50a47058-37c0-4331-8945-5d1176e010ec","$typeOfContent":"","type":"TrackEvent","$title":"Menu Principal - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Menu Principal - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"e95e2068-41a7-4ed6-adc3-7cfcc127f85a","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"API REST - Conceitos\",\n        \"2\": \"API REST - Estrutura\",\n        \"3\": \"Governan√ßa de APIs\",\n        \"4\": \"APIs em chatbots\",\n        \"5\": \"Docs e refer√™ncias\",\n        \"6\": \"Teste de rotas API\"\n        \n    };\n\n    const menuStrings = {\n        \"1\": [\"API REST - Conceitos\", \"1\"],\n        \"2\": [\"API REST - Estrutura\", \"2\"],\n        \"3\": [\"Governan√ßa de APIs\", \"3\"],\n        \"4\": [\"APIs em chatbots\", \"4\"],\n        \"5\": [\"Docs e refer√™ncias\", \"5\"],\n        \"6\": [\"Teste de rotas API\", \"6\"],\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"34cb37ec-944d-459d-9c33-7975587fc85f","$typeOfContent":"","type":"TrackEvent","$title":"Menu Principal - Input","$invalid":false,"settings":{"extras":{},"category":"Menu Principal - Input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"48335350-ba08-4ec0-b782-39872c399417","$typeOfContent":"","type":"TrackEvent","$title":"Menu Principal- input inesperado","$invalid":false,"settings":{"extras":{},"category":"Menu Principal- input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":["API REST - Conceitos","API REST - Estrutura","Governan√ßa de APIs","APIs em chatbots","Docs e refer√™ncias","Teste de rotas API"],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"id":"blip-tag-fe13df41-2cdf-4bd6-9fce-7e936b670eb5","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-50b38481-ed5e-4794-b0b0-ba1e148c7f46","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-db20d906-397c-4fe3-b456-da9bf36733d9","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-16a52c0c-a339-49d7-9313-9916821d1d0f","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-0edab331-a288-4410-8fbd-2461fe2c731c","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"5d2c7b36-e94b-4e72-b24d-62c87ef33e8f","root":false,"$title":"Menu Principal- Web Chat (WC)","$position":{"top":"775.667px","left":"512px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true,"isAiGenerated":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"841f69e1-2a83-4fb6-a5f3-6df0fa97f2dc":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"52fa24d0-7601-4e51-b776-fbe8782895b8","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"c3f2a9fd-39ba-4abf-8b77-dbda17822d52","typeOfStateId":"state","$connId":"con_83","$id":"1c1fb7fd-8ede-44b2-8319-b098336e88fb","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"a2599706-3ca2-48fc-bc9f-dba06d58a81f","$typeOfContent":"","type":"SetVariable","$title":"statePreviousIdInactivity","$invalid":false,"settings":{"variable":"statePreviousIdInactivity","value":"{{state.previous.id}}","expiration":null},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"c3f2a9fd-39ba-4abf-8b77-dbda17822d52","$invalid":false,"typeOfStateId":"state"},"$tags":[{"id":"blip-tag-f86c0dde-5695-444d-bc17-bd9ff3bd40df","label":"SetVariable","background":"#9900ef","canChangeBackground":false}],"id":"841f69e1-2a83-4fb6-a5f3-6df0fa97f2dc","root":false,"$title":"Inicia Inatividade","$position":{"top":"186px","left":"1571px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true,"isAiGenerated":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"9bd4007a-1378-4c47-b71b-01bb251116cc":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"6b8fc77d-7aa6-483a-b8d5-d1eec58c3bd7","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"{{statePreviousIdInactivity}}","$invalid":false,"typeOfStateId":"variable"},"isAiGenerated":false,"$tags":[],"id":"9bd4007a-1378-4c47-b71b-01bb251116cc","root":false,"$title":"Return - Etapa onde parou","$position":{"top":"441px","left":"1439px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"669bd6a2-b8d0-453f-ad12-47809b99fc08":{"$contentActions":[{"action":{"$id":"e33bc5ff-4824-42d9-9109-d4421dde90e6","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"68001d89-28a2-45cb-88ee-ba15ae36faf8","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"68001d89-28a2-45cb-88ee-ba15ae36faf8","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"dfb90127-a42b-4ff4-a10b-c44925e88b27","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"a0ee814b-96d8-4c97-83f6-692c24d74645","type":"text/plain","content":"Como n√£o me respondeu estarei encerrando nossa intera√ß√£o.\nCaso precise de algo mais, estaremos aqui para ajudar. \n\nObrigado e at√© a pr√≥xima! üëã","metadata":{}},"$cardContent":{"document":{"id":"a0ee814b-96d8-4c97-83f6-692c24d74645","type":"text/plain","content":"Como n√£o me respondeu estarei encerrando nossa intera√ß√£o.\nCaso precise de algo mais, estaremos aqui para ajudar. \n\nObrigado e at√© a pr√≥xima! üëã"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"6b8fc77d-7aa6-483a-b8d5-d1eec58c3bd7","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fa5b74cc-4990-4966-90db-ef0bde3351cb","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-1911d6cd-f652-4bd4-b66e-9061cc8cfb74","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"669bd6a2-b8d0-453f-ad12-47809b99fc08","root":false,"$title":"Msgm - Finaliza√ß√£o","$position":{"top":"434px","left":"1693px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"f9d6a2d8-2ab6-4b1b-949e-f3e88998a517":{"$contentActions":[{"action":{"$id":"19bab755-475b-4857-8591-566424043206","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"0f954509-9e3d-452f-b336-3f73c7829afb","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"0f954509-9e3d-452f-b336-3f73c7829afb","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"7317311e-6593-45df-88af-059ac4b57650","$typeOfContent":"select-immediate","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"9ea92412-1e4c-4487-81a9-f02025d25c9c","type":"application/vnd.lime.select+json","content":{"text":"Estou aqui para te orientar e tirar suas d√∫vidas sobre as melhores pr√°ticas de <b>Governan√ßa e Estrutura√ß√£o de APIs REST em Plataformas Conversacionais.</b>\n\nVamos come√ßar?","scope":"immediate","options":[{"text":"Sim","previewText":"Sim","value":null,"index":0,"type":null},{"text":"N√£o","previewText":"N√£o","value":null,"index":1,"type":null}],"quikReply":false},"metadata":{}},"$cardContent":{"document":{"id":"9ea92412-1e4c-4487-81a9-f02025d25c9c","type":"application/vnd.lime.select+json","content":{"text":"Estou aqui para te orientar e tirar suas d√∫vidas sobre as melhores pr√°ticas de <b>Governan√ßa e Estrutura√ß√£o de APIs REST em Plataformas Conversacionais.</b>\n\nVamos come√ßar?","scope":"immediate","options":[{"text":"Sim","previewText":"Sim","value":null,"index":0,"type":null},{"text":"N√£o","previewText":"N√£o","value":null,"index":1,"type":null}],"quikReply":false}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"f0694a9f-845d-469a-aab4-1b3a914d0e86","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"6d544698-fd78-417e-b2de-39791e1a9c75","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"d4c48a12-869e-499b-a9df-52c50bf3d5b9","typeOfStateId":"state","$connId":"con_88","$contentId":"7317311e-6593-45df-88af-059ac4b57650","$id":"dbb88e55-62dc-4d72-aea9-d235d6881aeb","conditions":[{"source":"context","comparison":"equals","values":["Sim"],"variable":"intentAction"}],"$invalid":false},{"stateId":"04677084-4f74-4d6c-9abc-c54e1c7b576c","typeOfStateId":"state","$connId":"con_93","$contentId":"7317311e-6593-45df-88af-059ac4b57650","$id":"cac5f379-0a12-4cc6-a6b2-7438ca508792","conditions":[{"source":"context","comparison":"equals","values":["N√£o"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"f2f91bb6-281a-4108-bf00-3ce5335cdb4e","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - return","$invalid":false,"settings":{"variable":"return","value":"true"},"conditions":[]},{"$id":"3f7b8ee5-ef8a-4436-871b-6af91d70c659","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"0a41e3c2-a8bf-4443-98b1-602c4381bab7","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"88f4b1f6-ffbf-4316-b2de-fe83041fc66f","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"Sim\",\n        \"2\": \"N√£o\",  \n    };\n\n    const menuStrings = {\n        \"1\": [\"Sim\", \"Ss\", \"Yes\",  \"1\"],\n        \"2\": [ \"N√£o\", \"nao\", \"No\", \"Nn\", \"Nop\",   \"2\"],\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"056981d7-d7cf-40b5-8417-8d26603c5f60","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - input","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"2a96e23c-af28-4750-a010-0b10da862c79","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":["Sim","N√£o"],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-c54afa78-7b1e-4f16-b59b-5388948bdac2","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-1c33f240-1ab5-47ea-b910-7ef5ace46a2b","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-e131ed96-6121-4a85-8681-146a096f2be6","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-b7c85089-5ce4-4ebb-b902-d98b0e0fb7da","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-9e35a3d6-452a-4c91-9297-86f321526ad7","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"f9d6a2d8-2ab6-4b1b-949e-f3e88998a517","root":false,"$title":"Deseja iniciar?","$position":{"top":"501px","left":"638.75px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#455a64"}},"7dcd714e-5ae9-498c-b44a-26ed05592d77":{"$contentActions":[{"action":{"$id":"b549e56e-6595-4c47-b10c-2930c06a230d","$typeOfContent":"text","type":"SendMessage","settings":{"id":"6af0f1a5-27be-4748-84bb-34c49a831d79","type":"text/plain","content":"Ol√°, {{saudacao}}\nQue bom te ver de volta. \n\nLembra de mim? Eu sou o Mavi, assistente virtual da futura Engenheira de Software Marcela. ü§ñ","metadata":{}},"$cardContent":{"document":{"id":"6af0f1a5-27be-4748-84bb-34c49a831d79","type":"text/plain","content":"Ol√°, {{saudacao}}\nQue bom te ver de volta. \n\nLembra de mim? Eu sou o Mavi, assistente virtual da futura Engenheira de Software Marcela. ü§ñ"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"f7b04422-1e50-4066-9601-c30e45f70d6b","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"f9d6a2d8-2ab6-4b1b-949e-f3e88998a517","typeOfStateId":"state","$connId":"con_98","$id":"b7ebcb9b-a9c8-461b-b718-224d6e7d9356","conditions":[{"source":"input","comparison":"exists","values":[],"variable":"channel"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"5e3b5c8c-f08e-4abe-9ef9-9ce3bbab56b7","$typeOfContent":"","type":"ExecuteScript","$title":"Process saudacao","$invalid":false,"settings":{"function":"run","source":"function run() {\n    var horaAtual = new Date().getHours();\n\n    if (horaAtual >= 5 && horaAtual < 12) {\n        return \"Bom dia!\";\n    } else if (horaAtual >= 12 && horaAtual < 18) {\n        return \"Boa tarde!\";\n    } else {\n        return \"Boa noite!\";\n    }\n}","inputVariables":[],"outputVariable":"saudacao","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"561f1aa0-5b29-4be6-80a8-ecbf4c5bbf2d","$typeOfContent":"","type":"TrackEvent","$title":"Saudacao Retorno- Exibicao","$invalid":false,"settings":{"extras":{},"category":"Saudacao Retorno- Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-47bed4de-afd7-45e5-9918-21d7037871c7","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-fc9aeb98-8c3d-495f-9376-46a48513a33b","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-6b91ac7a-f651-4623-ba79-a69af93584b9","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"7dcd714e-5ae9-498c-b44a-26ed05592d77","root":false,"$title":"Boas vindas [Retorno]","$position":{"top":"298px","left":"836px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"bef06fb2-ff24-4659-9c0e-8c2ea61190dd":{"$contentActions":[{"action":{"$id":"d94ed518-fb75-4cab-8864-fd19b7f9a572","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"c3465c00-9641-4fa5-8ea1-a84d7de88203","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"c3465c00-9641-4fa5-8ea1-a84d7de88203","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"b03c751e-ec3e-4e02-9e9b-c3c285dabbf7","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"application/json","rawContent":"{\n  \"recipient_type\": \"individual\",\n  \"type\": \"interactive\",\n  \"interactive\": {\n    \"type\": \"list\",\n    \"body\": {\n      \"text\": \"Como podemos ajudar voc√™ hoje? üòä\\n\\nEscolha abaixo sobre qual t√≥pico deseja tirar suas d√∫vidas.\"\n    },\n    \"action\": {\n      \"button\": \"Selecione üëá\",\n      \"sections\": [\n        {\n          \"title\": \"Selecione\",\n          \"rows\": [\n            {\n              \"id\": \"ID_1_0\",\n              \"title\": \"API REST - Conceitos\",\n              \"description\": \"üîç Conceitos b√°sicos de API REST\"\n            },\n            {\n              \"id\": \"ID_1_1\",\n              \"title\": \"API REST - Estrutura\",\n              \"description\": \"üèóÔ∏è Estrutura√ß√£o de API REST\"\n            },\n            {\n              \"id\": \"ID_1_2\",\n              \"title\": \"Governan√ßa de APIs\",\n              \"description\": \"üõ°Ô∏è Governan√ßa de APIs\"\n            },\n            {\n              \"id\": \"ID_1_3\",\n              \"title\": \"APIs em chatbots\",\n              \"description\": \"ü§ñ APIs em Chatbots\"\n            },\n            {\n              \"id\": \"ID_1_4\",\n              \"title\": \"Docs e refer√™ncias\",\n              \"description\": \"üìö Documenta√ß√µes, fontes e refer√™ncias do projeto.\"\n            },\n            {\n              \"id\": \"ID_1_5\",\n              \"title\": \"Teste de rotas API\",\n              \"description\": \"‚ö†Ô∏è Aqui voc√™ pode testar rotas e entender como cada uma funciona.\"\n            }\n          ]\n        }\n      ]\n    }\n  }\n}"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"52fa24d0-7601-4e51-b776-fbe8782895b8","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"81b2b599-03b8-4aa9-b8d5-ae12235e066a","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"ae3a716b-abf5-41e0-85ea-5eaefa1406ca","typeOfStateId":"state","$connId":"con_103","$id":"449a77c2-464f-4a52-b6a7-4f9c67a97366","conditions":[{"source":"context","comparison":"notEquals","values":["Input inesperado"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"c0a9d2af-118c-41cf-9d4b-d56f42b16569","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"0a58404a-f02a-4d68-80f2-e0f7c8d8466f","$typeOfContent":"","type":"TrackEvent","$title":"Menu Principal - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Menu Principal - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"96f3cac1-f3a7-4cfd-9ec2-4c3826761b30","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"API REST - Conceitos\",\n        \"2\": \"API REST - Estrutura\",\n        \"3\": \"Governan√ßa de APIs\",\n        \"4\": \"APIs em chatbots\",\n        \"5\": \"Docs e refer√™ncias\",\n        \"6\": \"Teste de rotas API\"\n        \n    };\n\n    const menuStrings = {\n        \"1\": [\"API REST - Conceitos\", \"1\"],\n        \"2\": [\"API REST - Estrutura\", \"2\"],\n        \"3\": [\"Governan√ßa de APIs\", \"3\"],\n        \"4\": [\"APIs em chatbots\", \"4\"],\n        \"5\": [\"Docs e refer√™ncias\", \"5\"],\n        \"6\": [\"Teste de rotas API\", \"6\"],\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"7c94a3ec-6cab-4b3c-b0f8-13bbe8d0c6ea","$typeOfContent":"","type":"TrackEvent","$title":"Menu Principal - Input","$invalid":false,"settings":{"extras":{},"category":"Menu Principal - Input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"f6f84dd9-6446-48de-85c9-92f6e43dcfb3","$typeOfContent":"","type":"TrackEvent","$title":"Menu Principal- input inesperado","$invalid":false,"settings":{"extras":{},"category":"Menu Principal- input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"id":"blip-tag-6174ff93-f06a-4445-9107-1436e752a015","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-57561641-0924-49b7-ba13-f262e1dfa745","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-55c50468-3f3f-46fe-a5b4-e9a8fb98ed2b","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-943d8a58-7bfd-4b85-a46b-a04b9f26ff9f","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-bf0c5255-992e-41ca-a878-c259c838a353","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"bef06fb2-ff24-4659-9c0e-8c2ea61190dd","root":false,"$title":"Menu Principal - WhatsApp (WPP)","$position":{"top":"775.667px","left":"757.333px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true,"isAiGenerated":false,"addonsSettings":{"backgroundColor":"#455a64"}},"04677084-4f74-4d6c-9abc-c54e1c7b576c":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"4c5398fc-d14e-4328-b038-856392f5a82d","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"e5454156-3f88-48da-9a92-9d91b96e0671","$typeOfContent":"","type":"TrackEvent","$title":"Finalizacao - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Finalizacao - Exibicao","action":"Nao quis iniciar"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"669bd6a2-b8d0-453f-ad12-47809b99fc08","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-ac71ce96-42c9-49e7-af11-8929fdd3023d","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false}],"id":"04677084-4f74-4d6c-9abc-c54e1c7b576c","root":false,"$title":"Go to - Finaliza√ß√£o","$position":{"top":"474.5px","left":"388.25px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#1e668c","shape":"50%"}},"9951fbf7-e9a2-48d2-b9b9-d2d0acf07c1c":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"69ca7a57-6ff7-4f1f-9c98-2b3b4c72e5b3","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"8661754b-c979-4b11-9fcb-0b5c6bdef2a3","typeOfStateId":"state","$connId":"con_108","$id":"b049cd16-b8da-4378-aa6e-10588fb0b295","conditions":[{"source":"context","comparison":"contains","values":["WHATSAPP"],"variable":"channel"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"0f14f96c-a4ea-48dc-88cd-acba838683df","typeOfStateId":"state","$connId":"con_113","$id":"abb5d55f-c920-47a1-a699-83685fb817de","conditions":[{"source":"context","comparison":"contains","values":["CHAT"],"variable":"channel"}],"$isBuilderDefaultOutput":true,"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[],"id":"9951fbf7-e9a2-48d2-b9b9-d2d0acf07c1c","root":false,"$title":"API REST - Conceitos","$position":{"top":"1293px","left":"550px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"50% 0 50% 0","backgroundColor":"#05122b"}},"8661754b-c979-4b11-9fcb-0b5c6bdef2a3":{"$contentActions":[{"action":{"$id":"d94ed518-fb75-4cab-8864-fd19b7f9a572","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"c3465c00-9641-4fa5-8ea1-a84d7de88203","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"c3465c00-9641-4fa5-8ea1-a84d7de88203","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"b03c751e-ec3e-4e02-9e9b-c3c285dabbf7","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"application/json","rawContent":"{\n   \"recipient_type\":\"individual\",\n   \"type\":\"interactive\",\n   \"interactive\":{\n      \"type\":\"list\",\n      \"body\":{\n         \"text\":\"Que √≥timo! üòÑ\\nEnt√£o vamos falar sobre *Conceitos b√°sicos de API REST.*\\n\\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\"\n      },\n      \"action\":{\n         \"button\":\"Selecione üëá\",\n         \"sections\":[\n            {\n               \"title\":\"Selecione\",\n               \"rows\":[\n                  {\n                     \"id\":\"ID 1.0\",\n                     \"title\":\"API REST\",\n                     \"description\":\"O que √© uma API REST?\"\n                  },\n                  {\n                     \"id\":\"ID 1.1\",\n                     \"title\":\"Diferen√ßa entre REST\",\n                     \"description\": \"Qual a diferen√ßa entre REST e outros estilos de API?\"\n                  },\n                  {\n                     \"id\":\"ID 1.2\",\n                     \"title\":\"Governan√ßa de APIs\",\n                     \"description\": \"üõ°Ô∏è Governan√ßa de APIs\"\n                  },\n                  {\n                     \"id\":\"ID 1.3\",\n                     \"title\":\"Uso da REST\",\n                     \"description\": \"Por que REST √© t√£o usado?\"\n                  }\n              ]\n            }\n         ]\n      }\n   }\n}"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"52fa24d0-7601-4e51-b776-fbe8782895b8","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"81b2b599-03b8-4aa9-b8d5-ae12235e066a","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"b1e6f9c4-81a5-4f8c-b580-8c570f156b61","typeOfStateId":"state","$connId":"con_118","$id":"449a77c2-464f-4a52-b6a7-4f9c67a97366","conditions":[{"source":"context","comparison":"notEquals","values":["Input inesperado"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"f519af6b-63e0-4921-b73a-ea2e448909ba","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"0a58404a-f02a-4d68-80f2-e0f7c8d8466f","$typeOfContent":"","type":"TrackEvent","$title":"Menu Conceitos Basicos de API REST - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Menu Conceitos Basicos de API REST - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"96f3cac1-f3a7-4cfd-9ec2-4c3826761b30","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"API REST\",\n        \"2\": \"Diferen√ßa entre REST\",\n        \"3\": \"Uso da REST\"\n        \n    };\n\n    const menuStrings = {\n        \"1\": [\"API REST\", \"1\"],\n        \"2\": [\"Diferen√ßa entre REST\", \"2\"],\n        \"3\": [\"Uso da REST\", \"3\"]\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"dd8d9616-ed9b-4e20-99aa-9d55893a8840","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"7c94a3ec-6cab-4b3c-b0f8-13bbe8d0c6ea","$typeOfContent":"","type":"TrackEvent","$title":"Menu Conceitos Basicos de API REST - Input","$invalid":false,"settings":{"extras":{},"category":"Menu Conceitos Basicos de API REST - Input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"f6f84dd9-6446-48de-85c9-92f6e43dcfb3","$typeOfContent":"","type":"TrackEvent","$title":"Menu Conceitos Basicos de API REST - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Menu Conceitos Basicos de API REST - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"id":"blip-tag-2dfa15d6-12d3-4f27-9294-2aec78453e7a","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-67de7cdb-b9f7-4d84-b072-41a2547d6999","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-0787e2f2-c044-4a68-9062-b30e980d8072","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-a4bc84a3-df0f-4ddd-92a0-e676ff837fce","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-933587be-2447-44c2-922c-a42044a98cf1","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"8661754b-c979-4b11-9fcb-0b5c6bdef2a3","root":false,"$title":"WPP - API REST - Conceitos","$position":{"top":"1401px","left":"669px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true,"isAiGenerated":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"b1e6f9c4-81a5-4f8c-b580-8c570f156b61":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"3c9ad21e-e731-4899-8520-4a5e4800ea51","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"40b9338d-f48a-451a-a1cb-3972b3f3905f","typeOfStateId":"state","$connId":"con_123","$id":"22566814-0399-4de8-b037-ce3b0c650b90","conditions":[{"source":"context","comparison":"startsWith","values":["2"],"variable":"statusPesquisa"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"655de4a4-e9b0-4de0-8b18-fd00937c4b5c","$typeOfContent":"","type":"ExecuteScript","$title":"Process - questionId","$invalid":false,"settings":{"function":"run","source":"function run(intentAction) {\n    let questionId = \"\";\n\n    switch (intentAction) {\n        case \"API REST\":\n            questionId = \"1\";\n            return questionId;\n\n        case \"Diferen√ßa entre REST\":\n            questionId = \"2\";\n            return questionId;\n\n        case \"Uso da REST\":\n            questionId = \"3\";\n            return questionId;\n\n        case \"Como estruturar?\":\n            questionId = \"4\";\n            return questionId;\n\n        case \"Versionamento\":\n            questionId = \"5 \";\n            return questionId;\n\n        case \"Documenta√ß√£o\":\n            questionId = \"6\";\n            return questionId;\n\n        case \"Tratativa de Erros\":\n            questionId = \"7\";\n            return questionId;\n\n        case \"O que √©?\":\n            questionId = \"8\";\n            return questionId;\n\n        case \"Seguran√ßa\":\n            questionId = \"9\";\n            return questionId;\n\n        case \"Monitorar e auditar\":\n            questionId = \"10\";\n            return questionId;\n\n        case \"Ferramentas\":\n            questionId = \"11\";\n            return questionId;\n\n        case \"Integrar em Bots\":\n            questionId = \"12\";\n            return questionId;\n\n        case \"Desafios\":\n            questionId = \"13\";\n            return questionId;\n\n        case \"Uso no Blip\":\n            questionId = \"14\";\n            return questionId;\n\n        case \"Escala e manuten√ß√£o\":\n            questionId = \"15\";\n            return questionId;\n\n        default:\n            questionId = \"default\";\n            return questionId;\n    }\n}\n","inputVariables":["intentAction"],"outputVariable":"questionId","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"4055c7f0-b175-48d2-922a-98fd3c328e72","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ProcessHttp","$title":"HTTP - Pesquisa","$invalid":false,"settings":{"headers":{"Content-Type":"application/json","x-api-key":"{{config.apiKey}}"},"method":"GET","uri":"{{config.urlPesquisa}}","responseStatusVariable":"statusPesquisa","responseBodyVariable":"responsePesquisa"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-ac51295f-0ea8-43b0-aa4c-26e3d66047f7","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-f356f1cc-066f-4542-817b-cd4b3dc051af","label":"ProcessHttp","background":"#ff0000","canChangeBackground":false}],"id":"b1e6f9c4-81a5-4f8c-b580-8c570f156b61","root":false,"$title":"[API] GET - Resposta Pesquisa","$position":{"top":"1571px","left":"937px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"50% 0 50% 0","backgroundColor":"#48052a"}},"bd462489-c993-4ee7-a7d5-f1797b161951":{"$contentActions":[{"action":{"$id":"c8fe9a01-afee-4f21-bff9-179d4034a873","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"81c0e1ba-abc4-4927-b1af-9edc9924b141","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"81c0e1ba-abc4-4927-b1af-9edc9924b141","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"1db48693-0577-4f6e-928b-ca765574a095","$typeOfContent":"select","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"5351e2f2-5100-409c-8529-6df088e5d948","type":"application/vnd.lime.select+json","content":{"text":"Perfeito! üòÑ\nEnt√£o vamos falar sobre <b>Estrutura√ß√£o de API REST.</b>\n\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\n\nSelecione uma das op√ß√µes abaixo:\n\n<b>1.</b> Como estruturar?\nComo estruturar uma API REST?\n\n<b>2.</b> Versionamento\nO que √© versionamento de API?\n\n<b>3.</b> Documenta√ß√£o\nComo documentar uma API REST?\n\n<b>4.</b> Tratativa de Erros\nComo lidar com erros em uma API REST?","options":[{"text":"Como estruturar?","previewText":"Como estruturar?","value":null,"index":0,"type":null},{"text":"Versionamento","previewText":"Versionamento","value":null,"index":1,"type":null},{"text":"Documenta√ß√£o","previewText":"Documenta√ß√£o","value":null,"index":2,"type":null},{"index":-1,"text":"Tratativa de Erros","previewText":"Tratativa de Erros","type":null,"value":null}],"limitMenu":false},"metadata":{}},"$cardContent":{"document":{"id":"5351e2f2-5100-409c-8529-6df088e5d948","type":"application/vnd.lime.select+json","content":{"text":"Perfeito! üòÑ\nEnt√£o vamos falar sobre <b>Estrutura√ß√£o de API REST.</b>\n\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\n\nSelecione uma das op√ß√µes abaixo:\n\n<b>1.</b> Como estruturar?\nComo estruturar uma API REST?\n\n<b>2.</b> Versionamento\nO que √© versionamento de API?\n\n<b>3.</b> Documenta√ß√£o\nComo documentar uma API REST?\n\n<b>4.</b> Tratativa de Erros\nComo lidar com erros em uma API REST?","options":[{"text":"Como estruturar?","previewText":"Como estruturar?","value":null,"index":0,"type":null},{"text":"Versionamento","previewText":"Versionamento","value":null,"index":1,"type":null},{"text":"Documenta√ß√£o","previewText":"Documenta√ß√£o","value":null,"index":2,"type":null},{"index":-1,"text":"Tratativa de Erros","previewText":"Tratativa de Erros","type":null,"value":null}],"limitMenu":false}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"69fde033-3aaa-407f-a8ff-f4815f4a6542","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$contentId":"1db48693-0577-4f6e-928b-ca765574a095","$id":"1dfd88ca-7394-4b3e-8fd4-13bcf2194c1c","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$invalid":false},{"stateId":"b1e6f9c4-81a5-4f8c-b580-8c570f156b61","typeOfStateId":"state","$connId":"con_128","$contentId":"1db48693-0577-4f6e-928b-ca765574a095","$id":"7753cb52-5144-4bcf-a08f-1e2a56a35d8c","conditions":[{"source":"context","comparison":"notEquals","values":["Input inesperado"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"a3ed5abc-5e09-4ac5-918b-c4644e748071","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"5ebcd050-193e-4c9e-b1e0-c38007c82743","$typeOfContent":"","type":"TrackEvent","$title":"Menu Estruturacao de API REST - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Menu Estruturacao de API REST - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"6850ba2a-49f8-4606-b870-d2916a0d80fe","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"Como estruturar?\",\n        \"2\": \"Versionamento\",\n        \"3\": \"Documenta√ß√£o\",\n        \"4\": \"Tratativa de Erros\"\n        \n    };\n\n    const menuStrings = {\n        \"1\": [\"Como estruturar?\", \"1\"],\n        \"2\": [\"Versionamento\", \"2\"],\n        \"3\": [\"Documenta√ß√£o\", \"3\"],\n        \"4\": [\"Tratativa de Erros\", \"4\"]\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"d86c1573-6c1f-471e-8042-0eb10cbac7c5","$typeOfContent":"","type":"TrackEvent","$title":"Menu Estruturacao de API REST - Input","$invalid":false,"settings":{"extras":{},"category":"Menu Estruturacao de API REST - Input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"7fc1efbf-f14d-439a-9c23-6afcb7361c8e","$typeOfContent":"","type":"TrackEvent","$title":"Menu Estruturacao de API REST - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Menu Estruturacao de API REST - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":["Como estruturar?","Versionamento","Documenta√ß√£o","Tratativa de Erros"],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-84edad80-297a-48b4-b5d7-afeb9718906d","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-23a6a573-0cff-4077-a3cd-7a51b339d24b","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-e9c859f1-0b06-4af5-8035-4efee4daba3d","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-82bba0f8-d24b-48a4-a48d-d328e4dee882","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-599ec77b-dcd7-4adf-9db6-0f52409cdbc7","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"bd462489-c993-4ee7-a7d5-f1797b161951","root":false,"$title":"WC - API REST - Estrutura","$position":{"top":"1419px","left":"1148.25px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"1427790f-530d-429c-8f22-7cc7bb144db6":{"$contentActions":[{"action":{"$id":"d94ed518-fb75-4cab-8864-fd19b7f9a572","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"c3465c00-9641-4fa5-8ea1-a84d7de88203","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"c3465c00-9641-4fa5-8ea1-a84d7de88203","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"b03c751e-ec3e-4e02-9e9b-c3c285dabbf7","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"application/json","rawContent":"{\n   \"recipient_type\":\"individual\",\n   \"type\":\"interactive\",\n   \"interactive\":{\n      \"type\":\"list\",\n      \"body\":{\n         \"text\":\"Perfeito! üòÑ\\nEnt√£o vamos falar sobre *Estrutura√ß√£o de API REST.*\\n\\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\"\n      },\n      \"action\":{\n         \"button\":\"Selecione üëá\",\n         \"sections\":[\n            {\n               \"title\":\"Selecione\",\n               \"rows\":[\n                  {\n                     \"id\":\"ID 1.0\",\n                     \"title\":\"Como estruturar?\",\n                     \"description\":\"Como estruturar uma API REST?\"\n                  },\n                  {\n                     \"id\":\"ID 1.1\",\n                     \"title\":\"API REST - Estrutura\",\n                     \"description\": \"üèóÔ∏è Estrutura√ß√£o de API REST\"\n                  },\n                  {\n                     \"id\":\"ID 1.2\",\n                     \"title\":\"Versionamento\",\n                     \"description\": \"O que √© versionamento de API? \"\n                  },\n                  {\n                     \"id\":\"ID 1.3\",\n                     \"title\":\"Documenta√ß√£o\",\n                     \"description\": \"Como documentar uma API REST?\"\n                  },\n                  {\n                     \"id\":\"ID 1.4\",\n                     \"title\":\"Tratativa de Erros\",\n                     \"description\": \"Como lidar com erros em uma API REST?\"\n                  }\n              ]\n            }\n         ]\n      }\n   }\n}"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"52fa24d0-7601-4e51-b776-fbe8782895b8","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"81b2b599-03b8-4aa9-b8d5-ae12235e066a","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"b1e6f9c4-81a5-4f8c-b580-8c570f156b61","typeOfStateId":"state","$connId":"con_133","$id":"449a77c2-464f-4a52-b6a7-4f9c67a97366","conditions":[{"source":"context","comparison":"notEquals","values":["Input inesperado"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"40c61078-fa7c-4f9d-bd02-682de4ae6797","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"0a58404a-f02a-4d68-80f2-e0f7c8d8466f","$typeOfContent":"","type":"TrackEvent","$title":"Menu Estruturacao de API REST - Exibicao","$invalid":false,"settings":{"extras":{"sessionId":"{{contact.extras.sessionId}}"},"category":"Menu Estruturacao de API REST - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"55da8efa-fd29-4724-9c97-e6e340cd1716","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"Como estruturar?\",\n        \"2\": \"Versionamento\",\n        \"3\": \"Documenta√ß√£o\",\n        \"4\": \"Tratativa de Erros\"\n        \n    };\n\n    const menuStrings = {\n        \"1\": [\"Como estruturar?\", \"1\"],\n        \"2\": [\"Versionamento\", \"2\"],\n        \"3\": [\"Documenta√ß√£o\", \"3\"],\n        \"4\": [\"Tratativa de Erros\", \"4\"]\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"7c94a3ec-6cab-4b3c-b0f8-13bbe8d0c6ea","$typeOfContent":"","type":"TrackEvent","$title":"Menu Estruturacao de API REST - Input","$invalid":false,"settings":{"extras":{"sessionId":"{{contact.extras.sessionId}}"},"category":"Menu Estruturacao de API REST - Input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"f6f84dd9-6446-48de-85c9-92f6e43dcfb3","$typeOfContent":"","type":"TrackEvent","$title":"Menu Estruturacao de API REST - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Menu Estruturacao de API REST - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"id":"blip-tag-f108859a-14a6-43e2-84ab-7e8bc648b2f3","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-c2562cc6-f30d-4f1d-90b1-277ce05b9ffe","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-4e49b1db-69fb-4e3e-8ab2-54671a7fd392","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-e3896d06-07f0-4ff6-b24d-a8f40235ff13","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-82e1cd33-1eb8-46f2-92a0-5e17ed1dce5c","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"1427790f-530d-429c-8f22-7cc7bb144db6","root":false,"$title":"WPP - API REST - Estrutura","$position":{"top":"1416px","left":"1436px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true,"isAiGenerated":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"5aa1b513-2961-411a-8acf-08d2e551511f":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"69ca7a57-6ff7-4f1f-9c98-2b3b4c72e5b3","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"1427790f-530d-429c-8f22-7cc7bb144db6","typeOfStateId":"state","$connId":"con_138","$id":"b049cd16-b8da-4378-aa6e-10588fb0b295","conditions":[{"source":"context","comparison":"contains","values":["WHATSAPP"],"variable":"channel"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"bd462489-c993-4ee7-a7d5-f1797b161951","typeOfStateId":"state","$connId":"con_143","$id":"abb5d55f-c920-47a1-a699-83685fb817de","conditions":[{"source":"context","comparison":"contains","values":["CHAT"],"variable":"channel"}],"$isBuilderDefaultOutput":true,"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"34cd4406-909e-45d7-84bf-af62d73ef75e","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"Executar script","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    let menu = {\n        \"text\": \"Escolha uma op√ß√£o abaixo üëá\",\n        \"options\": [\n            {\n                \"order\": 1,\n                \"text\": \"API REST - Conceitos\",\n                \"type\": \"text/plain\",\n                \"value\": \"API REST - Conceitos\"\n            },\n            {\n                \"order\": 2,\n                \"text\": \"API REST - Estrutura\",\n                \"type\": \"text/plain\",\n                \"value\": \"API REST - Estrutura\"\n            },\n            {\n                \"order\": 3,\n                \"text\": \"Governan√ßa de APIs\",\n                \"type\": \"text/plain\",\n                \"value\": \"Governan√ßa de APIs\"\n            },\n            {\n                \"order\": 4,\n                \"text\": \"APIs em chatbots\",\n                \"type\": \"text/plain\",\n                \"value\": \"APIs em chatbots\"\n            },\n            {\n                \"order\": 5,\n                \"text\": \"Docs e refer√™ncias\",\n                \"type\": \"text/plain\",\n                \"value\": \"Docs e refer√™ncias\"\n            },\n            {\n                \"order\": 6,\n                \"text\": \"Teste de rotas API\",\n                \"type\": \"text/plain\",\n                \"value\": \"Teste de rotas API\"\n            }\n        ]\n    };\n\n    return menu;\n}\n","inputVariables":[],"outputVariable":"menuApiRest","LocalTimeZoneEnabled":false},"conditions":[{"source":"context","comparison":"equals","variable":"channel","values":["WEB"]}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"id":"blip-tag-c338de90-dc89-4f8d-a2fe-6217104f8ff1","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false}],"id":"5aa1b513-2961-411a-8acf-08d2e551511f","root":false,"$title":"API REST - Estrutura","$position":{"top":"1285px","left":"1317px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"50% 0 50% 0","backgroundColor":"#05122b","commentsIdList":[]}},"7453ada1-929a-4751-a5d0-2c93376c2678":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"69ca7a57-6ff7-4f1f-9c98-2b3b4c72e5b3","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"95d923af-e6aa-4cc7-bba2-f5e27f683290","typeOfStateId":"state","$connId":"con_148","$id":"b049cd16-b8da-4378-aa6e-10588fb0b295","conditions":[{"source":"context","comparison":"contains","values":["WHATSAPP"],"variable":"channel"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"df9a30c0-e2fc-46a8-8476-6e1fa7f7a24f","typeOfStateId":"state","$connId":"con_153","$id":"abb5d55f-c920-47a1-a699-83685fb817de","conditions":[{"source":"context","comparison":"contains","values":["CHAT"],"variable":"channel"}],"$isBuilderDefaultOutput":true,"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"34cd4406-909e-45d7-84bf-af62d73ef75e","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"Executar script","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    let menu = {\n        \"text\": \"Escolha uma op√ß√£o abaixo üëá\",\n        \"options\": [\n            {\n                \"order\": 1,\n                \"text\": \"API REST - Conceitos\",\n                \"type\": \"text/plain\",\n                \"value\": \"API REST - Conceitos\"\n            },\n            {\n                \"order\": 2,\n                \"text\": \"API REST - Estrutura\",\n                \"type\": \"text/plain\",\n                \"value\": \"API REST - Estrutura\"\n            },\n            {\n                \"order\": 3,\n                \"text\": \"Governan√ßa de APIs\",\n                \"type\": \"text/plain\",\n                \"value\": \"Governan√ßa de APIs\"\n            },\n            {\n                \"order\": 4,\n                \"text\": \"APIs em chatbots\",\n                \"type\": \"text/plain\",\n                \"value\": \"APIs em chatbots\"\n            },\n            {\n                \"order\": 5,\n                \"text\": \"Docs e refer√™ncias\",\n                \"type\": \"text/plain\",\n                \"value\": \"Docs e refer√™ncias\"\n            },\n            {\n                \"order\": 6,\n                \"text\": \"Teste de rotas API\",\n                \"type\": \"text/plain\",\n                \"value\": \"Teste de rotas API\"\n            }\n        ]\n    };\n\n    return menu;\n}\n","inputVariables":[],"outputVariable":"menuApiRest","LocalTimeZoneEnabled":false},"conditions":[{"source":"context","comparison":"equals","variable":"channel","values":["WEB"]}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"id":"blip-tag-8baa7625-a3ed-4aa8-927c-f22d99a14fc6","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false}],"id":"7453ada1-929a-4751-a5d0-2c93376c2678","root":false,"$title":"Governan√ßa de APIs","$position":{"top":"1657px","left":"536px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"50% 0 50% 0","backgroundColor":"#05122b","commentsIdList":[]}},"df9a30c0-e2fc-46a8-8476-6e1fa7f7a24f":{"$contentActions":[{"action":{"$id":"c8fe9a01-afee-4f21-bff9-179d4034a873","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"81c0e1ba-abc4-4927-b1af-9edc9924b141","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"81c0e1ba-abc4-4927-b1af-9edc9924b141","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"1db48693-0577-4f6e-928b-ca765574a095","$typeOfContent":"select","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"5351e2f2-5100-409c-8529-6df088e5d948","type":"application/vnd.lime.select+json","content":{"text":"Vamos l√°! üòÑ ‚Ä®\nEnt√£o vamos falar sobre <b>Governan√ßa de APIs.</b>\n\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\nSelecione uma das op√ß√µes abaixo:\n\n<b>1.</b> O que √©?\nO que √© governan√ßa de API?\n\n<b>2.</b> Seguran√ßa\nQuais pr√°ticas garantem seguran√ßa?\n\n<b>3.</b> Monitorar e auditar\nComo monitorar e auditar?\n\n<b>4.</b> Ferramentas\nFerramentas de governan√ßa?","options":[{"text":"O que √©?","previewText":"O que √©?","value":null,"index":0,"type":null},{"text":"Seguran√ßa","previewText":"Seguran√ßa","value":null,"index":1,"type":null},{"text":"Monitorar e auditar","previewText":"Monitorar e auditar","value":null,"index":2,"type":null},{"index":-1,"text":"Ferramentas","previewText":"Ferramentas","type":null,"value":null}],"limitMenu":false},"metadata":{}},"$cardContent":{"document":{"id":"5351e2f2-5100-409c-8529-6df088e5d948","type":"application/vnd.lime.select+json","content":{"text":"Vamos l√°! üòÑ ‚Ä®\nEnt√£o vamos falar sobre <b>Governan√ßa de APIs.</b>\n\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\nSelecione uma das op√ß√µes abaixo:\n\n<b>1.</b> O que √©?\nO que √© governan√ßa de API?\n\n<b>2.</b> Seguran√ßa\nQuais pr√°ticas garantem seguran√ßa?\n\n<b>3.</b> Monitorar e auditar\nComo monitorar e auditar?\n\n<b>4.</b> Ferramentas\nFerramentas de governan√ßa?","options":[{"text":"O que √©?","previewText":"O que √©?","value":null,"index":0,"type":null},{"text":"Seguran√ßa","previewText":"Seguran√ßa","value":null,"index":1,"type":null},{"text":"Monitorar e auditar","previewText":"Monitorar e auditar","value":null,"index":2,"type":null},{"index":-1,"text":"Ferramentas","previewText":"Ferramentas","type":null,"value":null}],"limitMenu":false}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"69fde033-3aaa-407f-a8ff-f4815f4a6542","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$contentId":"1db48693-0577-4f6e-928b-ca765574a095","$id":"7d9624ef-bd74-40e2-8495-f5ca3f11318f","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$invalid":false},{"stateId":"b1e6f9c4-81a5-4f8c-b580-8c570f156b61","typeOfStateId":"state","$connId":"con_158","$contentId":"1db48693-0577-4f6e-928b-ca765574a095","$id":"e692cda6-fbea-4d04-90db-08ba8a60ae7e","conditions":[{"source":"context","comparison":"notEquals","values":["Input inesperado"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"6910fb07-9a6a-4257-a871-af4d307a1e84","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"db8ea786-3ecb-4eac-8555-988c42ab52e4","$typeOfContent":"","type":"TrackEvent","$title":"Menu Governanca de API REST - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Menu Governanca de API REST - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"bc6be2b1-2ee3-4325-8b1a-a5cfff3cf7f7","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"O que √©?\",\n        \"2\": \"Seguran√ßa\",\n        \"3\": \"Monitorar e auditar\",\n        \"4\": \"Ferramentas\"\n        \n    };\n\n    const menuStrings = {\n        \"1\": [\"O que √©?\", \"1\"],\n        \"2\": [\"Seguran√ßa\", \"2\"],\n        \"3\": [\"Monitorar e auditar\", \"3\"],\n        \"4\": [\"Ferramentas\", \"4\"]\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"a90ae6e7-43ab-474d-9d6e-e3d5ad43972b","$typeOfContent":"","type":"TrackEvent","$title":"Menu Governanca de API REST - Input","$invalid":false,"settings":{"extras":{},"category":"Menu Governanca de API REST - Input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"14aa957d-049f-4143-84d8-14ad0569ab27","$typeOfContent":"","type":"TrackEvent","$title":"Menu Inicial - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Menu Governanca de API REST - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":["O que √©?","Seguran√ßa","Monitorar e auditar","Ferramentas"],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-684598a4-55dc-4668-a7e6-9bcbbba9da61","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-e4775859-cd2e-47bb-bc5f-76826268da80","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-01325b91-f0e7-4640-b17a-59ebc3dfc182","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-cdeabfc6-7b7b-4015-8c48-7d888d96e778","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-3b3acb87-e1d4-4aa8-b3d8-2303a1f598b7","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"df9a30c0-e2fc-46a8-8476-6e1fa7f7a24f","root":false,"$title":"WC - Governan√ßa de APIs","$position":{"top":"1793px","left":"408px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"95d923af-e6aa-4cc7-bba2-f5e27f683290":{"$contentActions":[{"action":{"$id":"d94ed518-fb75-4cab-8864-fd19b7f9a572","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"c3465c00-9641-4fa5-8ea1-a84d7de88203","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"c3465c00-9641-4fa5-8ea1-a84d7de88203","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"b03c751e-ec3e-4e02-9e9b-c3c285dabbf7","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"application/json","rawContent":"{\n   \"recipient_type\":\"individual\",\n   \"type\":\"interactive\",\n   \"interactive\":{\n      \"type\":\"list\",\n      \"body\":{\n         \"text\":\"Vamos l√°! üòÑ\\nEnt√£o vamos falar sobre *Governan√ßa de APIs.*\\n\\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\"\n      },\n      \"action\":{\n         \"button\":\"Selecione üëá\",\n         \"sections\":[\n            {\n               \"title\":\"Selecione\",\n               \"rows\":[\n                  {\n                     \"id\":\"ID 1.0\",\n                     \"title\":\"O que √©?\",\n                     \"description\":\"O que √© governan√ßa de API?\"\n                  },\n                  {\n                     \"id\":\"ID 1.1\",\n                     \"title\":\"Seguran√ßa\",\n                     \"description\": \"Quais pr√°ticas garantem seguran√ßa?\"\n                  },\n                  {\n                     \"id\":\"ID 1.2\",\n                     \"title\":\"Monitorar e auditar\",\n                     \"description\": \"Como monitorar e auditar?\"\n                  },\n                  {\n                     \"id\":\"ID 1.3\",\n                     \"title\":\"Ferramentas\",\n                     \"description\": \"Ferramentas de governan√ßa?\"\n                  }\n              ]\n            }\n         ]\n      }\n   }\n}"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"52fa24d0-7601-4e51-b776-fbe8782895b8","type":"text/plain","content":"respostaTipoAntena"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10","variable":"respostaTipoAntena"},"$invalid":false}],"$conditionOutputs":[{"typeOfStateId":"variable","$id":"81b2b599-03b8-4aa9-b8d5-ae12235e066a","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false,"stateId":"{{config.inactivityStateId}}"},{"stateId":"b1e6f9c4-81a5-4f8c-b580-8c570f156b61","typeOfStateId":"state","$connId":"con_163","$id":"449a77c2-464f-4a52-b6a7-4f9c67a97366","conditions":[{"source":"context","comparison":"notEquals","values":["Input inesperado"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"8a187272-9fcb-4dec-b932-98eb535fa0d7","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"0a58404a-f02a-4d68-80f2-e0f7c8d8466f","$typeOfContent":"","type":"TrackEvent","$title":"Menu Governanca de API REST - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Menu Governanca de API REST - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"dfee6d36-3ccf-4b36-bae4-90af49185b34","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"O que √©?\",\n        \"2\": \"Seguran√ßa\",\n        \"3\": \"Monitorar e auditar\",\n        \"4\": \"Ferramentas\"\n        \n    };\n\n    const menuStrings = {\n        \"1\": [\"O que √©?\", \"1\"],\n        \"2\": [\"Seguran√ßa\", \"2\"],\n        \"3\": [\"Monitorar e auditar\", \"3\"],\n        \"4\": [\"Ferramentas\", \"4\"]\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"7c94a3ec-6cab-4b3c-b0f8-13bbe8d0c6ea","$typeOfContent":"","type":"TrackEvent","$title":"Menu Governanca de API REST - Input","$invalid":false,"settings":{"extras":{},"category":"Menu Governanca de API REST - Input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"f6f84dd9-6446-48de-85c9-92f6e43dcfb3","$typeOfContent":"","type":"TrackEvent","$title":"Menu Governanca de API REST - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Menu Governanca de API REST - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"id":"blip-tag-fc7ca302-bc93-4323-833f-4d7670aec80b","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-7b18367a-f14e-4569-a9d1-835fb993e38d","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-fa55285d-54ee-47bc-af7d-1854310960ae","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-759edde2-13ed-4657-b8d5-f96be2753654","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-4eb84b1d-b969-4e61-a623-6a577cf7b003","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"95d923af-e6aa-4cc7-bba2-f5e27f683290","root":false,"$title":"WPP - Governan√ßa de APIs","$position":{"top":"1773px","left":"683px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true,"isAiGenerated":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"f2c2b4b1-1795-448b-b32a-e074e78b8482":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"69ca7a57-6ff7-4f1f-9c98-2b3b4c72e5b3","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0465fcca-d354-4767-a8bf-9814402886d7","typeOfStateId":"state","$connId":"con_168","$id":"b049cd16-b8da-4378-aa6e-10588fb0b295","conditions":[{"source":"context","comparison":"contains","values":["WHATSAPP"],"variable":"channel"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"c6f1d6b5-8c66-41a0-97f8-506530c9ace7","typeOfStateId":"state","$connId":"con_173","$id":"abb5d55f-c920-47a1-a699-83685fb817de","conditions":[{"source":"context","comparison":"contains","values":["CHAT"],"variable":"channel"}],"$isBuilderDefaultOutput":true,"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"34cd4406-909e-45d7-84bf-af62d73ef75e","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"Executar script","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    let menu = {\n        \"text\": \"Escolha uma op√ß√£o abaixo üëá\",\n        \"options\": [\n            {\n                \"order\": 1,\n                \"text\": \"API REST - Conceitos\",\n                \"type\": \"text/plain\",\n                \"value\": \"API REST - Conceitos\"\n            },\n            {\n                \"order\": 2,\n                \"text\": \"API REST - Estrutura\",\n                \"type\": \"text/plain\",\n                \"value\": \"API REST - Estrutura\"\n            },\n            {\n                \"order\": 3,\n                \"text\": \"Governan√ßa de APIs\",\n                \"type\": \"text/plain\",\n                \"value\": \"Governan√ßa de APIs\"\n            },\n            {\n                \"order\": 4,\n                \"text\": \"APIs em chatbots\",\n                \"type\": \"text/plain\",\n                \"value\": \"APIs em chatbots\"\n            },\n            {\n                \"order\": 5,\n                \"text\": \"Docs e refer√™ncias\",\n                \"type\": \"text/plain\",\n                \"value\": \"Docs e refer√™ncias\"\n            },\n            {\n                \"order\": 6,\n                \"text\": \"Teste de rotas API\",\n                \"type\": \"text/plain\",\n                \"value\": \"Teste de rotas API\"\n            }\n        ]\n    };\n\n    return menu;\n}\n","inputVariables":[],"outputVariable":"menuApiRest","LocalTimeZoneEnabled":false},"conditions":[{"source":"context","comparison":"equals","variable":"channel","values":["WEB"]}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"id":"blip-tag-c8302eb4-c41a-4ef6-bbb7-6b5021429826","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false}],"id":"f2c2b4b1-1795-448b-b32a-e074e78b8482","root":false,"$title":"APIs em chatbots","$position":{"top":"1657px","left":"1314px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"50% 0 50% 0","backgroundColor":"#05122b","commentsIdList":[]}},"5a11f841-faab-4d83-af01-fb592ad7f5ba":{"$contentActions":[{"action":{"$id":"c8fe9a01-afee-4f21-bff9-179d4034a873","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"81c0e1ba-abc4-4927-b1af-9edc9924b141","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"81c0e1ba-abc4-4927-b1af-9edc9924b141","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"1db48693-0577-4f6e-928b-ca765574a095","$typeOfContent":"select","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"5351e2f2-5100-409c-8529-6df088e5d948","type":"application/vnd.lime.select+json","content":{"text":"Certo! üòÑ ‚Ä®\nEnt√£o vamos falar sobre <b>Docs e refer√™ncias.</b>\n\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\n\nSelecione uma das op√ß√µes abaixo:\n\n<b>1.</b> Fontes e Autores\nO que √© uma API REST?\n\n<b>2.</b> Documenta√ß√£o API\nDocumenta√ß√£o api no Swagger.\n\n<b>3.</b> Monografia\nPDF Livro do projeto TCC.\n\n<b>4.</b> Reposit√≥rio GitHub\nBase de conhecimento do projeto","options":[{"text":"Fontes e Autores","previewText":"Fontes e Autores","value":null,"index":0,"type":null},{"text":"Documenta√ß√£o API","previewText":"Documenta√ß√£o API","value":null,"index":1,"type":null},{"text":"Monografia","previewText":"Monografia","value":null,"index":2,"type":null},{"index":-1,"text":"Reposit√≥rio GitHub","previewText":"Reposit√≥rio GitHub","type":null,"value":null}],"limitMenu":false},"metadata":{}},"$cardContent":{"document":{"id":"5351e2f2-5100-409c-8529-6df088e5d948","type":"application/vnd.lime.select+json","content":{"text":"Certo! üòÑ ‚Ä®\nEnt√£o vamos falar sobre <b>Docs e refer√™ncias.</b>\n\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\n\nSelecione uma das op√ß√µes abaixo:\n\n<b>1.</b> Fontes e Autores\nO que √© uma API REST?\n\n<b>2.</b> Documenta√ß√£o API\nDocumenta√ß√£o api no Swagger.\n\n<b>3.</b> Monografia\nPDF Livro do projeto TCC.\n\n<b>4.</b> Reposit√≥rio GitHub\nBase de conhecimento do projeto","options":[{"text":"Fontes e Autores","previewText":"Fontes e Autores","value":null,"index":0,"type":null},{"text":"Documenta√ß√£o API","previewText":"Documenta√ß√£o API","value":null,"index":1,"type":null},{"text":"Monografia","previewText":"Monografia","value":null,"index":2,"type":null},{"index":-1,"text":"Reposit√≥rio GitHub","previewText":"Reposit√≥rio GitHub","type":null,"value":null}],"limitMenu":false}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"69fde033-3aaa-407f-a8ff-f4815f4a6542","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"c80d8234-89b5-478c-a3b7-a2773e58649c","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"89ae9ebd-af9a-46d3-8240-12212ce78430","typeOfStateId":"state","$connId":"con_178","$contentId":"1db48693-0577-4f6e-928b-ca765574a095","$id":"c0bf3a9f-5396-4182-addf-32e8affc84e1","conditions":[{"source":"context","comparison":"equals","values":["Fontes e Autores"],"variable":"intentAction"}],"$invalid":false},{"stateId":"c28b50f6-84fa-4f0c-a19b-791b528bf166","typeOfStateId":"state","$connId":"con_183","$contentId":"1db48693-0577-4f6e-928b-ca765574a095","$id":"77081917-0e9c-4e0c-be87-d2d96fef0b99","conditions":[{"source":"context","comparison":"equals","values":["Documenta√ß√£o API"],"variable":"intentAction"}],"$invalid":false},{"stateId":"08fcdf33-a88f-44eb-8e10-3a29f8556aa0","typeOfStateId":"state","$connId":"con_188","$contentId":"1db48693-0577-4f6e-928b-ca765574a095","$id":"22d265d5-1e2a-4f0e-9aaa-725e522a0061","conditions":[{"source":"context","comparison":"equals","values":["Monografia"],"variable":"intentAction"}],"$invalid":false},{"stateId":"d494f30e-617c-49fc-b42d-cc4ac720688e","typeOfStateId":"state","$connId":"con_193","$contentId":"1db48693-0577-4f6e-928b-ca765574a095","$id":"252007e6-8ca3-4b75-8027-81150505e800","conditions":[{"source":"context","comparison":"equals","values":["Reposit√≥rio GitHub"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"1f02aad8-1ff1-43bb-b5c5-879b9c758106","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"f3565fe7-25cc-4cc3-a628-d25186e28570","$typeOfContent":"","type":"TrackEvent","$title":"Menu Docs e Referencias - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Menu Docs e Referencias - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"fee33946-8048-4a29-8306-7f02b1e517a0","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"Fontes e Autores\",\n        \"2\": \"Documenta√ß√£o API\",\n        \"3\": \"Monografia\",\n        \"4\": \"Reposit√≥rio GitHub\"\n        \n    };\n\n    const menuStrings = {\n        \"1\": [\"Fontes e Autores\", \"1\"],\n        \"2\": [\"Documenta√ß√£o API\", \"2\"],\n        \"3\": [\"Monografia\", \"3\"],\n        \"4\": [\"Reposit√≥rio GitHub\", \"4\"]\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"bd297cc9-ad74-49f4-bc2f-4b4f48f8cc17","$typeOfContent":"","type":"TrackEvent","$title":"Menu Docs e Referencias - Input","$invalid":false,"settings":{"extras":{},"category":"Menu Docs e Referencias - Input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"1af5fd53-e11e-4416-aec0-8b314b228de1","$typeOfContent":"","type":"TrackEvent","$title":"Menu Docs e Referencias  - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Menu Docs e Referencias  - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":["Fontes e Autores","Documenta√ß√£o API","Monografia","Reposit√≥rio GitHub"],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-85f8bde6-1ed9-40c5-b745-7b7e6ad53d3e","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-df1b08dd-2395-4028-ae5d-b7ad7e0699d5","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-3cb6bc7f-abcc-4543-bb95-b15d79aa4c0f","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-34405f51-4ad5-4461-bdc8-54952e50b7ff","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-5d3dc1b0-1b19-4fc4-b40b-94f6f0fc5af0","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"5a11f841-faab-4d83-af01-fb592ad7f5ba","root":false,"$title":"WC - APIs em chatbots","$position":{"top":"2343px","left":"240px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"0465fcca-d354-4767-a8bf-9814402886d7":{"$contentActions":[{"action":{"$id":"d94ed518-fb75-4cab-8864-fd19b7f9a572","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"c3465c00-9641-4fa5-8ea1-a84d7de88203","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"c3465c00-9641-4fa5-8ea1-a84d7de88203","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"b03c751e-ec3e-4e02-9e9b-c3c285dabbf7","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"application/json","rawContent":"{\n   \"recipient_type\":\"individual\",\n   \"type\":\"interactive\",\n   \"interactive\":{\n      \"type\":\"list\",\n      \"body\":{\n         \"text\":\"Legal! üòÑ\\nEnt√£o vamos falar sobre *APIs em Chatbots.*\\n\\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\"\n      },\n      \"action\":{\n         \"button\":\"Selecione üëá\",\n         \"sections\":[\n            {\n               \"title\":\"Selecione\",\n               \"rows\":[\n                  {\n                     \"id\":\"ID 1.0\",\n                     \"title\":\"Integrar em Bots\",\n                     \"description\":\"Como integrar APIs REST em bots?\"\n                  },\n                  {\n                     \"id\":\"ID 1.1\",\n                     \"title\":\"Desafios\",\n                     \"description\": \"Quais os desafios na integra√ß√£o com plataformas como Blip?\"\n                  },\n                  {\n                     \"id\":\"ID 1.2\",\n                     \"title\":\"Uso no Blip\",\n                     \"description\": \"Exemplo de uso no Blip?\"\n                  },\n                  {\n                     \"id\":\"ID 1.3\",\n                     \"title\":\"Escala e manuten√ß√£o\",\n                     \"description\": \"Como garantir a escalabilidade e manuten√ß√£o?\"\n                  }\n              ]\n            }\n         ]\n      }\n   }\n}"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"52fa24d0-7601-4e51-b776-fbe8782895b8","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"typeOfStateId":"variable","$id":"81b2b599-03b8-4aa9-b8d5-ae12235e066a","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false,"stateId":"{{config.inactivityStateId}}"},{"stateId":"b1e6f9c4-81a5-4f8c-b580-8c570f156b61","typeOfStateId":"state","$connId":"con_198","$id":"449a77c2-464f-4a52-b6a7-4f9c67a97366","conditions":[{"source":"context","comparison":"notEquals","values":["Input inesperado"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"9182f5a9-cf65-4445-8507-13e8cf9b50a9","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"0a58404a-f02a-4d68-80f2-e0f7c8d8466f","$typeOfContent":"","type":"TrackEvent","$title":"Menu APIs em chatbots - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Menu APIs em chatbots - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"4c4a8896-4fdf-485d-90a3-e20aba427cd0","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"Integrar em Bots\",\n        \"2\": \"Desafios\",\n        \"3\": \"Uso no Blip\",\n        \"4\": \"Escala e manuten√ß√£o\"\n        \n    };\n\n    const menuStrings = {\n        \"1\": [\"Integrar em Bots\", \"1\"],\n        \"2\": [\"Desafios\", \"2\"],\n        \"3\": [\"Uso no Blip\", \"3\"],\n        \"4\": [\"Escala e manuten√ß√£o\", \"4\"]\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"7c94a3ec-6cab-4b3c-b0f8-13bbe8d0c6ea","$typeOfContent":"","type":"TrackEvent","$title":"Menu APIs em chatbots - Input","$invalid":false,"settings":{"extras":{},"category":"Menu APIs em chatbots - Input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"f6f84dd9-6446-48de-85c9-92f6e43dcfb3","$typeOfContent":"","type":"TrackEvent","$title":"Menu APIs em chatbots - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Menu APIs em chatbots - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"id":"blip-tag-e321d62c-1ded-4c8e-9c71-ce1cb4644a08","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-48ad2564-7da5-4bc0-9c8a-8e7c3d4fb9fa","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-c5a2de22-7a46-4664-8059-7e9cc3e9b630","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-6ae5880d-a8d5-4539-a715-9bc9eb5e952d","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-c0eb7d4b-cac6-46fa-bd12-fbf21ee1f24b","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"0465fcca-d354-4767-a8bf-9814402886d7","root":false,"$title":"WPP - APIs em chatbots","$position":{"top":"1762px","left":"1432px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true,"isAiGenerated":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"f220f764-fa7d-4b31-9819-f5cf2a7af75d":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"69ca7a57-6ff7-4f1f-9c98-2b3b4c72e5b3","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"fc4808fc-44f6-414f-b540-8f5c27d58a6d","typeOfStateId":"state","$connId":"con_203","$id":"b049cd16-b8da-4378-aa6e-10588fb0b295","conditions":[{"source":"context","comparison":"contains","values":["WHATSAPP"],"variable":"channel"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"5a11f841-faab-4d83-af01-fb592ad7f5ba","typeOfStateId":"state","$connId":"con_208","$id":"abb5d55f-c920-47a1-a699-83685fb817de","conditions":[{"source":"context","comparison":"contains","values":["CHAT"],"variable":"channel"}],"$isBuilderDefaultOutput":true,"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"34cd4406-909e-45d7-84bf-af62d73ef75e","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"Executar script","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    let menu = {\n        \"text\": \"Escolha uma op√ß√£o abaixo üëá\",\n        \"options\": [\n            {\n                \"order\": 1,\n                \"text\": \"API REST - Conceitos\",\n                \"type\": \"text/plain\",\n                \"value\": \"API REST - Conceitos\"\n            },\n            {\n                \"order\": 2,\n                \"text\": \"API REST - Estrutura\",\n                \"type\": \"text/plain\",\n                \"value\": \"API REST - Estrutura\"\n            },\n            {\n                \"order\": 3,\n                \"text\": \"Governan√ßa de APIs\",\n                \"type\": \"text/plain\",\n                \"value\": \"Governan√ßa de APIs\"\n            },\n            {\n                \"order\": 4,\n                \"text\": \"APIs em chatbots\",\n                \"type\": \"text/plain\",\n                \"value\": \"APIs em chatbots\"\n            },\n            {\n                \"order\": 5,\n                \"text\": \"Docs e refer√™ncias\",\n                \"type\": \"text/plain\",\n                \"value\": \"Docs e refer√™ncias\"\n            },\n            {\n                \"order\": 6,\n                \"text\": \"Teste de rotas API\",\n                \"type\": \"text/plain\",\n                \"value\": \"Teste de rotas API\"\n            }\n        ]\n    };\n\n    return menu;\n}\n","inputVariables":[],"outputVariable":"menuApiRest","LocalTimeZoneEnabled":false},"conditions":[{"source":"context","comparison":"equals","variable":"channel","values":["WEB"]}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"id":"blip-tag-e21a2646-d580-4374-abbd-05c5aa8ff1a6","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false}],"id":"f220f764-fa7d-4b31-9819-f5cf2a7af75d","root":false,"$title":"Docs e refer√™ncias","$position":{"top":"2087.25px","left":"514.25px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"50% 0 50% 0","backgroundColor":"#05122b","commentsIdList":[]}},"c6f1d6b5-8c66-41a0-97f8-506530c9ace7":{"$contentActions":[{"action":{"$id":"c8fe9a01-afee-4f21-bff9-179d4034a873","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"81c0e1ba-abc4-4927-b1af-9edc9924b141","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"81c0e1ba-abc4-4927-b1af-9edc9924b141","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"1db48693-0577-4f6e-928b-ca765574a095","$typeOfContent":"select","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"5351e2f2-5100-409c-8529-6df088e5d948","type":"application/vnd.lime.select+json","content":{"text":"Legal! üòÑ ‚Ä®\nEnt√£o vamos falar sobre <b>APIs em Chatbots.</b>\n\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\nSelecione uma das op√ß√µes abaixo:\n\n<b>1.</b> Integrar em Bots\nComo integrar APIs REST em bots?\n\n<b>2.</b> Desafios\nQuais os desafios na integra√ß√£o com plataformas como Blip?\n\n<b>3.</b> Uso no Blip\nExemplo de uso no Blip?\n\n<b>4.</b> Escala e manuten√ß√£o\nComo garantir a escalabilidade e manuten√ß√£o?","options":[{"text":"Integrar em Bots","previewText":"Integrar em Bots","value":null,"index":0,"type":null},{"text":"Desafios","previewText":"Desafios","value":null,"index":1,"type":null},{"text":"Uso no Blip","previewText":"Uso no Blip","value":null,"index":2,"type":null},{"index":-1,"text":"Escala e manuten√ß√£o","previewText":"Escala e manuten√ß√£o","type":null,"value":null}],"limitMenu":false},"metadata":{}},"$cardContent":{"document":{"id":"5351e2f2-5100-409c-8529-6df088e5d948","type":"application/vnd.lime.select+json","content":{"text":"Legal! üòÑ ‚Ä®\nEnt√£o vamos falar sobre <b>APIs em Chatbots.</b>\n\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\nSelecione uma das op√ß√µes abaixo:\n\n<b>1.</b> Integrar em Bots\nComo integrar APIs REST em bots?\n\n<b>2.</b> Desafios\nQuais os desafios na integra√ß√£o com plataformas como Blip?\n\n<b>3.</b> Uso no Blip\nExemplo de uso no Blip?\n\n<b>4.</b> Escala e manuten√ß√£o\nComo garantir a escalabilidade e manuten√ß√£o?","options":[{"text":"Integrar em Bots","previewText":"Integrar em Bots","value":null,"index":0,"type":null},{"text":"Desafios","previewText":"Desafios","value":null,"index":1,"type":null},{"text":"Uso no Blip","previewText":"Uso no Blip","value":null,"index":2,"type":null},{"index":-1,"text":"Escala e manuten√ß√£o","previewText":"Escala e manuten√ß√£o","type":null,"value":null}],"limitMenu":false}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"69fde033-3aaa-407f-a8ff-f4815f4a6542","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$contentId":"1db48693-0577-4f6e-928b-ca765574a095","$id":"ed3f0afe-368a-48c6-8892-76078fe5fa74","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$invalid":false},{"stateId":"b1e6f9c4-81a5-4f8c-b580-8c570f156b61","typeOfStateId":"state","$connId":"con_213","$id":"7975d817-b8b9-46f8-a6fb-b9e21991e656","conditions":[{"source":"context","comparison":"notEquals","values":["Input inesperado"],"variable":"intentAction"}],"$isBuilderDefaultOutput":true,"$invalid":false}],"$enteringCustomActions":[{"$id":"5e8f16e3-2beb-49dc-ae25-8abace5f6f3e","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"0e1beb34-0e4e-48ef-bbd4-8f4a1bb8d1c9","$typeOfContent":"","type":"TrackEvent","$title":"Menu APIs em chatbots - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Menu APIs em chatbots - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"9a3512e6-c34f-44c2-aecd-098736bbb0db","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"Integrar em Bots\",\n        \"2\": \"Desafios\",\n        \"3\": \"Uso no Blip\",\n        \"4\": \"Escala e manuten√ß√£o\"\n        \n    };\n\n    const menuStrings = {\n        \"1\": [\"Integrar em Bots\", \"1\"],\n        \"2\": [\"Desafios\", \"2\"],\n        \"3\": [\"Uso no Blip\", \"3\"],\n        \"4\": [\"Escala e manuten√ß√£o\", \"4\"]\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"6d8d56ae-ca2c-4382-b7cc-7c5a1072dfd3","$typeOfContent":"","type":"TrackEvent","$title":"Menu APIs em chatbots - Input","$invalid":false,"settings":{"extras":{},"category":"Menu APIs em chatbots - Input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"60776f1e-a93c-4eae-ba66-87af22b9c58f","$typeOfContent":"","type":"TrackEvent","$title":"Menu APIs em chatbots - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Menu APIs em chatbots - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":["Integrar em Bots","Desafios","Uso no Blip","Escala e manuten√ß√£o"],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-09277b8d-ac4f-4a48-97fa-6a7645932a8a","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-a22afeb9-36a4-4168-9896-b7c35a9f8b66","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-e6e44785-2689-4480-b4e6-62e865e94c59","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-b20c4e96-06fb-48eb-a677-bfe58d189312","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-6b4066a0-4c61-42e9-8e24-b2ebded1d857","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"c6f1d6b5-8c66-41a0-97f8-506530c9ace7","root":false,"$title":"WC - APIs em chatbots","$position":{"top":"1771px","left":"1196px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"fc4808fc-44f6-414f-b540-8f5c27d58a6d":{"$contentActions":[{"action":{"$id":"d94ed518-fb75-4cab-8864-fd19b7f9a572","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"c3465c00-9641-4fa5-8ea1-a84d7de88203","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"c3465c00-9641-4fa5-8ea1-a84d7de88203","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"b03c751e-ec3e-4e02-9e9b-c3c285dabbf7","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"application/json","rawContent":"{\n   \"recipient_type\":\"individual\",\n   \"type\":\"interactive\",\n   \"interactive\":{\n      \"type\":\"list\",\n      \"body\":{\n         \"text\":\"Certo! üòÑ\\nEnt√£o vamos falar sobre *Docs e refer√™ncias.*\\n\\nSobre qual assunto voc√™ deseja mais informa√ß√µes?\"\n      },\n      \"action\":{\n         \"button\":\"Selecione üëá\",\n         \"sections\":[\n            {\n               \"title\":\"Selecione\",\n               \"rows\":[\n                  {\n                     \"id\":\"ID 1.0\",\n                     \"title\":\"Fontes e Autores\",\n                     \"description\":\"\"\n                  },\n                  {\n                     \"id\":\"ID 1.1\",\n                     \"title\":\"Documenta√ß√£o API\",\n                     \"description\": \"Documenta√ß√£o api no Swagger.\"\n                  },\n                  {\n                     \"id\":\"ID 1.2\",\n                     \"title\":\"Monografia\",\n                     \"description\": \"PDF Livro do projeto TCC.\"\n                  },\n                  {\n                     \"id\":\"ID 1.3\",\n                     \"title\":\"APIs em chatbots\",\n                     \"description\": \"ü§ñ APIs em Chatbots\"\n                  },\n                  {\n                     \"id\":\"ID 1.4\",\n                     \"title\":\"Reposit√≥rio GitHub\",\n                     \"description\": \"Base de conhecimento do projeto\"\n                  }\n              ]\n            }\n         ]\n      }\n   }\n}"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"52fa24d0-7601-4e51-b776-fbe8782895b8","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"typeOfStateId":"variable","$id":"81b2b599-03b8-4aa9-b8d5-ae12235e066a","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false,"stateId":"{{config.inactivityStateId}}"},{"stateId":"89ae9ebd-af9a-46d3-8240-12212ce78430","typeOfStateId":"state","$connId":"con_218","$id":"449a77c2-464f-4a52-b6a7-4f9c67a97366","conditions":[{"source":"context","comparison":"equals","values":["Fontes e Autores"],"variable":"intentAction"}],"$invalid":false},{"stateId":"c28b50f6-84fa-4f0c-a19b-791b528bf166","typeOfStateId":"state","$connId":"con_223","$id":"429924b8-62a7-4fc7-ae13-d0e2be4c17e4","conditions":[{"source":"context","comparison":"equals","values":["Documenta√ß√£o API"],"variable":"intentAction"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"08fcdf33-a88f-44eb-8e10-3a29f8556aa0","typeOfStateId":"state","$connId":"con_228","$id":"96961ca1-0d50-476a-ae81-34d685a3b78c","conditions":[{"source":"context","comparison":"equals","values":["Monografia"],"variable":"intentAction"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"d494f30e-617c-49fc-b42d-cc4ac720688e","typeOfStateId":"state","$connId":"con_233","$id":"6d99ad11-3706-4ea4-8ddf-65f255de10e8","conditions":[{"source":"context","comparison":"equals","values":["Reposit√≥rio GitHub"],"variable":"intentAction"}],"$isBuilderDefaultOutput":true,"$invalid":false}],"$enteringCustomActions":[{"$id":"b13cc2e7-ef9a-40f0-a2e8-3929f0e05a6e","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"0a58404a-f02a-4d68-80f2-e0f7c8d8466f","$typeOfContent":"","type":"TrackEvent","$title":"Menu Docs e Referencias - Exibicao","$invalid":false,"settings":{"extras":{"sessionId":"{{contact.extras.sessionId}}"},"category":"Menu Docs e Referencias - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"fba70311-5b33-42ee-803e-3b1d0ab2d72d","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"Fontes e Autores\",\n        \"2\": \"Documenta√ß√£o API\",\n        \"3\": \"Monografia\",\n        \"4\": \"Reposit√≥rio GitHub\"\n        \n    };\n\n    const menuStrings = {\n        \"1\": [\"Fontes e Autores\", \"1\"],\n        \"2\": [\"Documenta√ß√£o API\", \"2\"],\n        \"3\": [\"Monografia\", \"3\"],\n        \"4\": [\"Reposit√≥rio GitHub\", \"4\"]\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"7c94a3ec-6cab-4b3c-b0f8-13bbe8d0c6ea","$typeOfContent":"","type":"TrackEvent","$title":"Menu Docs e Referencias - Input","$invalid":false,"settings":{"extras":{},"category":"Menu Docs e Referencias - Input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"f6f84dd9-6446-48de-85c9-92f6e43dcfb3","$typeOfContent":"","type":"TrackEvent","$title":"Menu Docs e Referencias  - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Menu Docs e Referencias  - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"id":"blip-tag-d8ba1dc4-f414-4e2b-b352-2d2a67bd4e10","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-44ffa45b-000d-4d5c-a5ed-60ad5c325b07","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-cb827801-3c8b-447e-a0a8-d77c361b9b6e","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-9da6f59b-1818-4112-bb05-7b248d00209d","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-c2628947-6d38-4da2-8eea-824a73204f28","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"fc4808fc-44f6-414f-b540-8f5c27d58a6d","root":false,"$title":"WPP - Docs e refer√™ncias","$position":{"top":"2344.71px","left":"786.571px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true,"isAiGenerated":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"610ae296-8cb6-4342-84d3-aa651d3dc6cf":{"$contentActions":[{"action":{"$id":"5f5d0e00-0415-4146-9bee-7435c2817fc2","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"7378c300-52e4-4512-b8b7-c31a8a53148f","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"7378c300-52e4-4512-b8b7-c31a8a53148f","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ac4cdeaf-e40e-4e92-9cfd-6a625500cef4","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"941aef8a-47cf-4f45-a7ef-59a9d9e33489","type":"text/plain","content":"Vamos come√ßar! üòÑ\n\nAqui falaremos sobre os testes das rotas da <b>API REST</b> e esclareceremos d√∫vidas sobre as requisi√ß√µes.\n\nVou te mostrar, na <b>pr√°tica,</b> como tudo acontece utilizando uma automa√ß√£o de <b>Cadastro de Usu√°rios.</b>","metadata":{}},"$cardContent":{"document":{"id":"941aef8a-47cf-4f45-a7ef-59a9d9e33489","type":"text/plain","content":"Vamos come√ßar! üòÑ\n\nAqui falaremos sobre os testes das rotas da <b>API REST</b> e esclareceremos d√∫vidas sobre as requisi√ß√µes.\n\nVou te mostrar, na <b>pr√°tica,</b> como tudo acontece utilizando uma automa√ß√£o de <b>Cadastro de Usu√°rios.</b>"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"69ca7a57-6ff7-4f1f-9c98-2b3b4c72e5b3","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"19936544-9900-4c7f-81cd-5a53e97b2a92","typeOfStateId":"state","$connId":"con_238","$id":"7164696e-69cd-43e4-93d7-22c9fa5c560d","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"50a21803-9902-43ce-95ad-4ddea5b38bbc","$typeOfContent":"","type":"TrackEvent","$title":"Informativo Testes das Rotas API - Exibicao","$invalid":false,"settings":{"extras":{"sessionId":"{{contact.extras.sessionId}}"},"category":"Informativo Testes das Rotas API - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"34cd4406-909e-45d7-84bf-af62d73ef75e","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"Executar script","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    let menu = {\n        \"text\": \"Escolha uma op√ß√£o abaixo üëá\",\n        \"options\": [\n            {\n                \"order\": 1,\n                \"text\": \"API REST - Conceitos\",\n                \"type\": \"text/plain\",\n                \"value\": \"API REST - Conceitos\"\n            },\n            {\n                \"order\": 2,\n                \"text\": \"API REST - Estrutura\",\n                \"type\": \"text/plain\",\n                \"value\": \"API REST - Estrutura\"\n            },\n            {\n                \"order\": 3,\n                \"text\": \"Governan√ßa de APIs\",\n                \"type\": \"text/plain\",\n                \"value\": \"Governan√ßa de APIs\"\n            },\n            {\n                \"order\": 4,\n                \"text\": \"APIs em chatbots\",\n                \"type\": \"text/plain\",\n                \"value\": \"APIs em chatbots\"\n            },\n            {\n                \"order\": 5,\n                \"text\": \"Docs e refer√™ncias\",\n                \"type\": \"text/plain\",\n                \"value\": \"Docs e refer√™ncias\"\n            },\n            {\n                \"order\": 6,\n                \"text\": \"Teste de rotas API\",\n                \"type\": \"text/plain\",\n                \"value\": \"Teste de rotas API\"\n            }\n        ]\n    };\n\n    return menu;\n}\n","inputVariables":[],"outputVariable":"menuApiRest","LocalTimeZoneEnabled":false},"conditions":[{"source":"context","comparison":"equals","variable":"channel","values":["WEB"]}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"19936544-9900-4c7f-81cd-5a53e97b2a92","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-657376e3-58f6-49d5-b6ee-44976ccef53b","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-6f0cd667-93cf-4764-a607-45a8e65a024c","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-4e94496e-2f75-4fc9-a50f-617fd895d25c","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"610ae296-8cb6-4342-84d3-aa651d3dc6cf","root":false,"$title":"Teste de rotas API","$position":{"top":"1303px","left":"2752px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"50% 0 50% 0","backgroundColor":"#05122b","commentsIdList":[]}},"08fcdf33-a88f-44eb-8e10-3a29f8556aa0":{"$contentActions":[{"action":{"$id":"c173e448-e604-4bbd-99de-a700c54c2bd1","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"a5a9d293-21ad-4459-8904-4b9f49a35197","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a5a9d293-21ad-4459-8904-4b9f49a35197","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"a8200451-39c6-4ea2-92e1-300af4a4ee41","$typeOfContent":"media-document","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"5defb933-9349-4b13-b888-ed6f4e4b6bdb","type":"application/vnd.lime.media-link+json","content":{"title":"Trabalho de Conclus√£o de Curso.‚Ä®","type":"application/pdf","uri":"https://blipmediastore.blob.core.windows.net/public-medias/Media_688c27bd-0cfd-41cd-b4b6-e373b572dc2b"},"metadata":{}},"$cardContent":{"document":{"id":"5defb933-9349-4b13-b888-ed6f4e4b6bdb","type":"application/vnd.lime.media-link+json","content":{"title":"Trabalho de Conclus√£o de Curso.‚Ä®","type":"application/pdf","uri":"https://blipmediastore.blob.core.windows.net/public-medias/Media_688c27bd-0cfd-41cd-b4b6-e373b572dc2b"}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"1ae25569-f870-4670-8fc2-4fee768ed84b","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"3142fc21-e250-422d-a914-4d0e8224e3e3","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-1a3ec953-ee42-4056-ad05-d5b69eec47aa","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"08fcdf33-a88f-44eb-8e10-3a29f8556aa0","root":false,"$title":"PDF - Monografia","$position":{"top":"2342px","left":"512px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"89ae9ebd-af9a-46d3-8240-12212ce78430":{"$contentActions":[{"action":{"$id":"2a9d7a43-d07d-43f6-b392-820a5b99ba37","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"68f517f8-8481-4a9c-91a1-95ec60930023","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"68f517f8-8481-4a9c-91a1-95ec60930023","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"76ba7bf9-98d8-4b5e-9096-cd2df624c4ea","$typeOfContent":"media-document","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"11c1fed5-07dc-4815-988a-6bb083216dc2","type":"application/vnd.lime.media-link+json","content":{"title":"Fontes e Refer√™ncias.pdf","type":"application/pdf","uri":"https://blipmediastore.blob.core.windows.net/public-medias/Media_95502797-91d8-4803-bb94-fa7409f93bf9"},"metadata":{}},"$cardContent":{"document":{"id":"11c1fed5-07dc-4815-988a-6bb083216dc2","type":"application/vnd.lime.media-link+json","content":{"title":"Fontes e Refer√™ncias.pdf","type":"application/pdf","uri":"https://blipmediastore.blob.core.windows.net/public-medias/Media_95502797-91d8-4803-bb94-fa7409f93bf9"}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"3c9ad21e-e731-4899-8520-4a5e4800ea51","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"3142fc21-e250-422d-a914-4d0e8224e3e3","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-df57727b-fd51-4dd6-b460-de05a8189ae8","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"89ae9ebd-af9a-46d3-8240-12212ce78430","root":false,"$title":"[API] GET - Fontes de Pesquisa","$position":{"top":"2597px","left":"513.286px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"c28b50f6-84fa-4f0c-a19b-791b528bf166":{"$contentActions":[{"action":{"$id":"a89b4942-8dde-4187-b046-5b33e3a12acc","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"13d866d9-8fa4-4269-a38f-dffbff51d111","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"13d866d9-8fa4-4269-a38f-dffbff51d111","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ca3ef167-95fe-4aeb-a631-21e375ba03e2","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"application/json","rawContent":"{\n  \"recipient_type\": \"individual\",\n  \"type\": \"interactive\",\n  \"interactive\": {\n    \"type\": \"cta_url\",\n    \"header\": {\n      \"type\": \"text\",\n      \"text\": \"Entendido!\"\n    },\n    \"body\": {\n      \"text\": \"Segue abaixo o link para a documenta√ß√£o da API no Swagger:\\n\\n*Governan√ßa e Estrutura√ß√£o de APIs REST em Plataformas Conversacionais.*\"\n    },\n    \"footer\": {\n      \"text\": \"Clique\"\n    },\n    \"action\": {\n      \"name\": \"cta_url\",\n      \"parameters\": {\n        \"display_text\": \"Documenta√ß√£o API\",\n        \"url\": \"https://projetotccapi.onrender.com/api/v1/docs/\"\n      }\n    }\n  }\n}"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"2789a456-e5cf-445d-8efc-590e501f114b","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"3142fc21-e250-422d-a914-4d0e8224e3e3","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-38706091-2089-4da8-a8ab-64ec490237e9","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"c28b50f6-84fa-4f0c-a19b-791b528bf166","root":false,"$title":"Documenta√ß√£o API","$position":{"top":"2207.71px","left":"509.571px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"d494f30e-617c-49fc-b42d-cc4ac720688e":{"$contentActions":[{"action":{"$id":"a89b4942-8dde-4187-b046-5b33e3a12acc","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"13d866d9-8fa4-4269-a38f-dffbff51d111","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"13d866d9-8fa4-4269-a38f-dffbff51d111","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ca3ef167-95fe-4aeb-a631-21e375ba03e2","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"application/json","rawContent":"{\n  \"recipient_type\": \"individual\",\n  \"type\": \"interactive\",\n  \"interactive\": {\n    \"type\": \"cta_url\",\n    \"header\": {\n      \"type\": \"text\",\n      \"text\": \"Entendido!\"\n    },\n    \"body\": {\n      \"text\": \"Segue abaixo o link para base de conhecimento do projeto no GitHub:\\n\\n*Governan√ßa e Estrutura√ß√£o de APIs REST em Plataformas Conversacionais.*\"\n    },\n    \"footer\": {\n      \"text\": \"Clique\"\n    },\n    \"action\": {\n      \"name\": \"cta_url\",\n      \"parameters\": {\n        \"display_text\": \"Abrir Reposit√≥rio\",\n        \"url\": \"https://github.com/marcelamourahdev/projetoTccAPI\"\n      }\n    }\n  }\n}"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"2789a456-e5cf-445d-8efc-590e501f114b","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"3142fc21-e250-422d-a914-4d0e8224e3e3","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-23180004-1dd7-409f-9536-2e43240c9b8f","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"d494f30e-617c-49fc-b42d-cc4ac720688e","root":false,"$title":"Reposit√≥rio GitHub","$position":{"top":"2461.5px","left":"512px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"6362345a-f89d-43d0-9d21-2ab00a56ddfa":{"$contentActions":[{"action":{"$id":"c8fe9a01-afee-4f21-bff9-179d4034a873","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"81c0e1ba-abc4-4927-b1af-9edc9924b141","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"81c0e1ba-abc4-4927-b1af-9edc9924b141","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"1db48693-0577-4f6e-928b-ca765574a095","$typeOfContent":"select","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"5351e2f2-5100-409c-8529-6df088e5d948","type":"application/vnd.lime.select+json","content":{"text":"Consigo te orientar com algo mais?\nSelecione uma das op√ß√µes abaixo:","options":[{"text":"Menu Anterior","previewText":"Menu Anterior","value":null,"index":0,"type":null},{"text":"Menu principal","previewText":"Menu principal","value":null,"index":1,"type":null},{"text":"Fontes","previewText":"Fontes","value":null,"index":2,"type":null},{"index":-1,"text":"Encerrar conversa","previewText":"Encerrar conversa","type":null,"value":null}],"limitMenu":false},"metadata":{}},"$cardContent":{"document":{"id":"5351e2f2-5100-409c-8529-6df088e5d948","type":"application/vnd.lime.select+json","content":{"text":"Consigo te orientar com algo mais?\nSelecione uma das op√ß√µes abaixo:","options":[{"text":"Menu Anterior","previewText":"Menu Anterior","value":null,"index":0,"type":null},{"text":"Menu principal","previewText":"Menu principal","value":null,"index":1,"type":null},{"text":"Fontes","previewText":"Fontes","value":null,"index":2,"type":null},{"index":-1,"text":"Encerrar conversa","previewText":"Encerrar conversa","type":null,"value":null}],"limitMenu":false}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"69fde033-3aaa-407f-a8ff-f4815f4a6542","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"a31a1505-03d5-49ac-8757-3bb179a31535","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"a520634b-daac-4b3c-9add-a4f65ab2e3b7","typeOfStateId":"state","$connId":"con_243","$contentId":"1db48693-0577-4f6e-928b-ca765574a095","$id":"a3819616-95a6-4d69-9b59-c398f9c8d98d","conditions":[{"source":"context","comparison":"equals","values":["Menu Anterior"],"variable":"intentAction"}],"$invalid":false},{"stateId":"9c707526-8c48-425e-a645-1b4f5c8a8f53","typeOfStateId":"state","$connId":"con_248","$contentId":"1db48693-0577-4f6e-928b-ca765574a095","$id":"472b2127-c712-4ded-9e92-6d3f3b034377","conditions":[{"source":"context","comparison":"equals","values":["Menu principal"],"variable":"intentAction"}],"$invalid":false},{"stateId":"29bf0f26-c3b6-49da-984f-84533c1f8000","typeOfStateId":"state","$connId":"con_253","$contentId":"1db48693-0577-4f6e-928b-ca765574a095","$id":"baf3b88e-b82c-4f84-89f9-07f3e5d6a3ef","conditions":[{"source":"context","comparison":"equals","values":["Encerrar conversa"],"variable":"intentAction"}],"$invalid":false},{"stateId":"657c05dd-4d60-401f-9bef-25d9936a244b","typeOfStateId":"state","$connId":"con_258","$id":"5856a588-1260-460d-ad71-305865a27b56","conditions":[{"source":"context","comparison":"equals","values":["Fontes"],"variable":"intentAction"}],"$isBuilderDefaultOutput":true,"$invalid":false}],"$enteringCustomActions":[{"$id":"9b6cedd7-c510-4614-b9db-7770f12fbcca","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"52135625-81d0-41a5-a223-0a17a53c4cc0","$typeOfContent":"","type":"TrackEvent","$title":"Menu Algo Mais - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Menu Algo Mais - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"c7d6b943-351f-4454-b818-8e63a67ff764","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"Menu Anterior\",\n        \"2\": \"Menu principal\",\n        \"3\": \"Fontes\",\n        \"4\": \"Encerrar conversa\"\n    };\n\n    const menuStrings = {\n        \"1\": [\"Menu Anterior\", \"1\"],\n        \"2\": [\"Menu principal\", \"2\"],\n        \"3\": [\"Fontes\", \"3\"],\n        \"4\": [\"Encerrar conversa\", \"4\"]\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"740c8212-156c-42c3-9f00-257aef2724f1","$typeOfContent":"","type":"TrackEvent","$title":"Menu Algo Mais - Input","$invalid":false,"settings":{"extras":{},"category":"Menu Algo Mais - Input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"ebc08e22-27c7-4d3b-a836-368250999c2e","$typeOfContent":"","type":"TrackEvent","$title":"Menu Algo Mais - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Menu Algo Mais - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":["Menu Anterior","Menu principal","Fontes","Encerrar conversa"],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-cc14d487-5ea2-431b-8682-c649b3eb226d","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-b8c13c09-95d1-41f1-a727-a58a8e1a7c51","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-44f5cc25-7f01-4139-9ba8-3f17ba820b44","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-58918fbf-99d3-420c-93c7-e1e1aeccea90","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-afd94a85-18d1-4ccf-a7a1-017b655ac7e5","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"6362345a-f89d-43d0-9d21-2ab00a56ddfa","root":false,"$title":"Algo mais","$position":{"top":"2241px","left":"1233px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#02163a","commentsIdList":[],"shape":"50% 0 50% 0"}},"a520634b-daac-4b3c-9add-a4f65ab2e3b7":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"9b276421-1c40-4b0d-9885-2421bbc12d0c","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"6f6fcd2a-125c-4e2f-843d-96ed979443fe","$typeOfContent":"","type":"ExecuteScript","$title":"Process redirectStep","$invalid":false,"settings":{"function":"run","source":"function run(intentAction) {\n    let stepId = \"\";\n\n    switch (intentAction) {\n        case \"API REST - Conceitos\":\n            stepId = \"9951fbf7-e9a2-48d2-b9b9-d2d0acf07c1c\";\n            return stepId;\n\n        case \"API REST - Estrutura\":\n            stepId = \"5aa1b513-2961-411a-8acf-08d2e551511f\";\n            return stepId;\n\n        case \"Governan√ßa de APIs\":\n            stepId = \"7453ada1-929a-4751-a5d0-2c93376c2678\";\n            return stepId;\n\n        case \"APIs em chatbots\":\n            stepId = \"f2c2b4b1-1795-448b-b32a-e074e78b8482\";\n            return stepId;\n\n        case \"Docs e refer√™ncias\":\n            stepId = \"f220f764-fa7d-4b31-9819-f5cf2a7af75d\";\n            return stepId;\n\n        case \"Teste de rotas API\":\n            stepId = \"610ae296-8cb6-4342-84d3-aa651d3dc6cf\";\n            return stepId;\n\n        default:\n            stepId = \"default\";\n            return stepId;\n    }\n}\n","inputVariables":["intentAction"],"outputVariable":"redirectStep","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"{{returnBlock}}","$invalid":false,"typeOfStateId":"variable"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-a9cd4f4c-7ba4-40cc-b476-6b541aa54194","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false}],"id":"a520634b-daac-4b3c-9add-a4f65ab2e3b7","root":false,"$title":"Go to - Menu anterior","$position":{"top":"2384px","left":"1026px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"0 0 50% 50%","backgroundColor":"#031b3f","commentsIdList":[]}},"9c707526-8c48-425e-a645-1b4f5c8a8f53":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"4df13b7d-c2df-4e9a-9e4a-322e4e040522","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"d4c48a12-869e-499b-a9df-52c50bf3d5b9","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[],"id":"9c707526-8c48-425e-a645-1b4f5c8a8f53","root":false,"$title":"Go to - Menu principal","$position":{"top":"2367.71px","left":"1487.57px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"29bf0f26-c3b6-49da-984f-84533c1f8000":{"$contentActions":[{"action":{"$id":"39196713-3288-4e1d-99a1-46bec29415aa","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"d74afb46-3539-4794-bb9d-583380987492","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d74afb46-3539-4794-bb9d-583380987492","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"8a85113a-3161-494f-870c-a27916621b17","$typeOfContent":"text","type":"SendMessage","settings":{"id":"65bc9bdb-0d6d-434e-a967-a627a1940651","type":"text/plain","content":"Sem problemas!\n\nCaso tenha alguma d√∫vida,  estarei √† disposi√ß√£o. üòä","metadata":{}},"$cardContent":{"document":{"id":"65bc9bdb-0d6d-434e-a967-a627a1940651","type":"text/plain","content":"Sem problemas!\n\nCaso tenha alguma d√∫vida,  estarei √† disposi√ß√£o. üòä"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"5673bf55-031e-4137-aae9-5cb8c13ef671","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"d2051b50-745b-4b17-8158-50db102eba96","$typeOfContent":"","type":"TrackEvent","$title":"Finaliza Algo Mais - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Finaliza Algo Mais - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"$invalid":false,"typeOfStateId":"state","stateId":"fa5b74cc-4990-4966-90db-ef0bde3351cb"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-29322cb8-31d1-4777-9894-1ffbbaa8007d","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-7dc0bbe7-2ea9-4722-b11c-4ee8381c0c4b","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"29bf0f26-c3b6-49da-984f-84533c1f8000","root":false,"$title":"Encerrar conversa","$position":{"top":"2138.71px","left":"1472.29px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true,"addonsSettings":{"shape":"50%","backgroundColor":"#07445e"}},"19936544-9900-4c7f-81cd-5a53e97b2a92":{"$contentActions":[{"action":{"$id":"13f47805-40d8-4dc7-8de6-3c13bf978c24","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"0c8c4bd7-3690-4343-aa62-d706274a9a78","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"0c8c4bd7-3690-4343-aa62-d706274a9a78","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"d123323c-be7c-4b1f-8aef-642d546ad143","$typeOfContent":"text","type":"SendMessage","settings":{"id":"b1a389c3-70a4-47d3-9491-25e371cf7814","type":"text/plain","content":"Qual o n√∫mero do seu <b>CPF</b>?","metadata":{}},"$cardContent":{"document":{"id":"b1a389c3-70a4-47d3-9491-25e371cf7814","type":"text/plain","content":"Qual o n√∫mero do seu <b>CPF</b>?"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"c1bb0d8a-60d2-4869-a692-6de12a147560","type":"text/plain","textContent":"Entrada do usu√°rio","content":"cpf"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"cpf","expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"5315344f-9f66-47e3-96f2-65512e3aeb33","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$invalid":false},{"stateId":"677e245c-4f97-49b2-a526-427da8cd1b0c","typeOfStateId":"state","$connId":"con_263","$id":"6e577da2-e45b-4a71-b5b2-bd723891d5c3","conditions":[{"source":"context","comparison":"equals","values":["success"],"variable":"cpfValido@type"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"72c894ed-ddf9-4497-96bb-1865baa289c4","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"4b9700b1-b9b3-48eb-a7a5-2948e8580a31","$typeOfContent":"","type":"TrackEvent","$title":"CPF - Exibi√ß√£o","$invalid":false,"settings":{"extras":{"sessionId":"{{contact.extras.sessionId}}"},"category":"CPF - Exibi√ß√£o","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"a499f924-6d67-4734-b4e7-13f85a271a14","$typeOfContent":"","type":"ExecuteScript","$title":"Process cpfValido","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n\n\n    input = input.replace(/[^\\d]+/g, \"\");\n\n    if (!isValidCPF(input)) return { type: \"error\", input: \"ERRO CPF CNPJ\", validation: \"cpfcnpj\" };\n\n    return { type: \"success\", input: input, validation: \"cpfcnpj\" }\n\n\n}\n\nfunction isValidCPF(cpf) {\n    if (typeof cpf !== 'string') return false\n\n    if (cpf.length !== 11 || !!cpf.match(/(\\d)\\1{10}/)) return false;\n    const cpfDigits = cpf.split(\"\").map((el) => +el);\n    const rest = (count) => {\n        return (((cpfDigits.slice(0, count - 12)\n            .reduce((soma, el, index) => soma + el * (count - index), 0) * 10) % 11) % 10);\n    };\n    return rest(10) === cpfDigits[9] && rest(11) === cpfDigits[10];\n}","inputVariables":["cpf"],"outputVariable":"cpfValido","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"1a1fa7fc-4c92-4a54-8205-c540462f612e","$typeOfContent":"","type":"MergeContact","$title":"Set taxDocument","$invalid":false,"settings":{"extras":{},"taxDocument":"{{cpfValido@input}}"},"conditions":[{"values":["success"],"source":"context","comparison":"equals","variable":"cpfValido@type"}]},{"$id":"f6c8c796-a211-477f-b611-745ed8eed2e1","$typeOfContent":"","type":"TrackEvent","$title":"CPF - input","$invalid":false,"settings":{"extras":{"sessionId":"{{contact.extras.sessionId}}"},"category":"CPF - input","action":"{{cpfValido@input}}"},"conditions":[{"values":["success"],"source":"context","comparison":"equals","variable":"cpfValido@type"}]},{"$id":"2294a7e3-66f9-4cfc-978c-3af7fb2fe6bb","$typeOfContent":"","type":"TrackEvent","$title":"CPF - input Inesperado","$invalid":false,"settings":{"extras":{"sessionId":"{{contact.extras.sessionId}}"},"category":"CPF - input Inesperado","action":"{{input.content}}"},"conditions":[{"values":["error"],"source":"context","comparison":"equals","variable":"cpfValido@type"},{"source":"input","comparison":"exists","values":[]}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-3d10a533-d4ff-41f9-ae7f-b3f10a5724bd","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-aec4dfab-af37-4163-84d8-79a42c2ddbca","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-dd35bdde-6b9b-4f83-88a1-fd40cc9d0341","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-a8fe5edb-cf24-40f4-b114-996d95ff044c","label":"MergeContact","background":"#FF1E90","canChangeBackground":false},{"id":"blip-tag-e5b912c8-107a-429f-b0fd-64fca766fb76","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-0d77ae28-568c-4046-9393-a845cd3fdff1","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"19936544-9900-4c7f-81cd-5a53e97b2a92","root":false,"$title":"Pergunta CPF","$position":{"top":"1455px","left":"2753px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"677e245c-4f97-49b2-a526-427da8cd1b0c":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"3c9ad21e-e731-4899-8520-4a5e4800ea51","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"e2cbbd3a-7908-4b88-bf6a-0718739010f3","typeOfStateId":"state","$connId":"con_268","$id":"5d296e5d-577c-413b-aad5-1936324b8349","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"c9823ecd-2a07-44d5-a6aa-0ff560036c77","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ProcessHttp","$title":"HTTP - Consulta Usu√°rio","$invalid":false,"settings":{"headers":{"Content-Type":"application/json","x-api-key":"{{config.apiKey}}"},"method":"GET","uri":"{{config.urlClientes}}/{{cpfValido@input}}","responseStatusVariable":"statusConsultaUsuario","responseBodyVariable":"responseConsultaUsuario"},"conditions":[]},{"$id":"946b55d3-a040-4814-96bd-f834a7c053bc","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"Process - dadosConsulta","$invalid":false,"settings":{"function":"run","source":"function run(responseConsultaUsuario) {\n\ttry {\n\t\tif (typeof responseConsultaUsuario === \"string\") {\n\t\t\tresponseConsultaUsuario = JSON.parse(responseConsultaUsuario);\n\t\t}\n\t\tif (!responseConsultaUsuario.success) {\n\t\t\treturn { success: false, error: responseConsultaUsuario.message || \"Erro na API\" };\n\t\t}\n\t\tif (!responseConsultaUsuario.data) {\n\t\t\treturn { success: false, error: \"Dados do cliente n√£o encontrados\" };\n\t\t}\n\n\t\tconst data = responseConsultaUsuario.data;\n\n\t\treturn {\n\t\t\tsuccess: true,\n\t\t\tnome: validateNullFromApi(data.nome, \"N√£o informado\"),\n\t\t\tcpf: validateNullFromApi(data.cpf, \"N√£o informado\"),\n\t\t\ttelefone: validateNullFromApi(data.telefone, \"N√£o informado\"),\n\t\t\testado: validateNullFromApi(data.estado, \"N√£o informado\")\n\t\t};\n\n\t} catch (err) {\n\t\treturn { success: false, error: \"Erro inesperado\", details: err.message };\n\t}\n}\n\n// Fun√ß√£o auxiliar\nfunction validateNullFromApi(val, valIfNotExists = \"\") {\n\treturn val == null || val === \"NULL\" ? valIfNotExists : val;\n}\n\n","inputVariables":["responseConsultaUsuario"],"outputVariable":"dadosConsulta","LocalTimeZoneEnabled":false},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"e2cbbd3a-7908-4b88-bf6a-0718739010f3","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-803b1bb5-1c27-4c09-a3ee-8a58180ffe6d","label":"ProcessHttp","background":"#ff0000","canChangeBackground":false},{"id":"blip-tag-300acb31-d5f1-4a5a-9e75-80ee1145c90e","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false}],"id":"677e245c-4f97-49b2-a526-427da8cd1b0c","root":false,"$title":"[API] GET - Consulta Usu√°rio","$position":{"top":"1592px","left":"2755px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"50% 0 50% 0","backgroundColor":"#3e0621"}},"e2cbbd3a-7908-4b88-bf6a-0718739010f3":{"$contentActions":[{"action":{"$id":"c341c4bc-24bf-47e5-a9e0-e1b643b43bef","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"f8210420-1298-4114-9c40-e8aec0b9f1c1","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"f8210420-1298-4114-9c40-e8aec0b9f1c1","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"0d0e8bf2-0040-4e51-8d53-43f95235508e","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"e6264798-5eeb-438f-b8f8-981cc06f0e3f","type":"text/plain","content":"Nesta etapa, √© realizada a <b>requisi√ß√£o de consulta</b> do cadastro de um usu√°rio.\n\nO bot armazena o CPF informado e o envia ao endpoint utilizando o <b>m√©todo GET.</b>\nDessa forma, ele acessa o banco de dados do projeto e verifica se j√° existe um cadastro associado a esse CPF.\n\nA garantia de que haver√° apenas um registro por CPF ocorre porque esse campo √© a <b>chave prim√°ria</b> no banco de dados.\n\n<b>Endpoint:</b> https://projetotccapi.onrender.com/api/v1/clientes/{{cpf}}\n<b>M√©todo:</b> GET\n\n<b>Obs.:</b> Neste projeto, √© utilizada uma API Key para autentica√ß√£o.","metadata":{}},"$cardContent":{"document":{"id":"e6264798-5eeb-438f-b8f8-981cc06f0e3f","type":"text/plain","content":"Nesta etapa, √© realizada a <b>requisi√ß√£o de consulta</b> do cadastro de um usu√°rio.\n\nO bot armazena o CPF informado e o envia ao endpoint utilizando o <b>m√©todo GET.</b>\nDessa forma, ele acessa o banco de dados do projeto e verifica se j√° existe um cadastro associado a esse CPF.\n\nA garantia de que haver√° apenas um registro por CPF ocorre porque esse campo √© a <b>chave prim√°ria</b> no banco de dados.\n\n<b>Endpoint:</b> https://projetotccapi.onrender.com/api/v1/clientes/{{cpf}}\n<b>M√©todo:</b> GET\n\n<b>Obs.:</b> Neste projeto, √© utilizada uma API Key para autentica√ß√£o."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"aa27c501-8f18-4bb8-a1db-a8a629280a95","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"f599b36f-2967-4bae-a77a-8dcd28cb7543","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"f599b36f-2967-4bae-a77a-8dcd28cb7543","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"95164798-0ebf-46f3-b7d4-31b9cfbc219d","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"49cb3bb3-ae4b-47cd-ac9c-fa6c1ed36484","type":"text/plain","content":"Abaixo segue o retorno da response da nossa requisi√ß√£o:\n\n{{responseConsultaUsuario}}","metadata":{}},"$cardContent":{"document":{"id":"49cb3bb3-ae4b-47cd-ac9c-fa6c1ed36484","type":"text/plain","content":"Abaixo segue o retorno da response da nossa requisi√ß√£o:\n\n{{responseConsultaUsuario}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"4e652cb8-3b46-4712-9ab2-45129c216b41","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"typeOfStateId":"state","$id":"47e3f0b7-9b97-4c12-896c-e1bb3542b841","conditions":[{"source":"context","comparison":"startsWith","values":["2"],"variable":"statusConsultaUsuario"}],"$isBuilderDefaultOutput":true,"$invalid":false,"stateId":"34d34d3f-1d74-40a0-b018-8154433337b9","$connId":"con_273"},{"stateId":"f23acf95-501c-4038-ae8f-b9f1367e2a81","typeOfStateId":"state","$connId":"con_278","$id":"889aa44a-7a93-4a36-b85c-de9d703dcbd5","conditions":[{"source":"context","comparison":"equals","values":["Cliente n√£o encontrado","Dados do cliente n√£o encontrados"],"variable":"dadosConsulta@error"}],"$isBuilderDefaultOutput":true,"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-6fbc8503-61b4-4760-a9e0-56aa992229e3","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"e2cbbd3a-7908-4b88-bf6a-0718739010f3","root":false,"$title":"Explica etapa: [API] GET - Consulta Usu√°rio","$position":{"top":"1738px","left":"2752px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"f23acf95-501c-4038-ae8f-b9f1367e2a81":{"$contentActions":[{"action":{"$id":"267bd550-807b-43e7-bb74-f90a8e9dda3f","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"2135c43c-d0c7-4ccc-848f-d608d986074b","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"2135c43c-d0c7-4ccc-848f-d608d986074b","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"d492cd9d-b445-43a5-93a6-6e9fbfd44920","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"e603b650-7b8b-4333-98e2-4afb85b5772c","type":"text/plain","content":"Poxa, vi que n√£o possui cadastro no sistema. üòî","metadata":{}},"$cardContent":{"document":{"id":"e603b650-7b8b-4333-98e2-4afb85b5772c","type":"text/plain","content":"Poxa, vi que n√£o possui cadastro no sistema. üòî"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"0a4e379a-d968-47f8-aa87-12ae93fbe713","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0067b267-a13f-44e5-9f41-fdb7046b61f7","typeOfStateId":"state","$connId":"con_283","$id":"fc6f1378-b1d2-4430-a4d8-cf804d0d83e2","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"0067b267-a13f-44e5-9f41-fdb7046b61f7","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-4392f92c-51c5-4dfb-a8b9-e5206790df14","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"f23acf95-501c-4038-ae8f-b9f1367e2a81","root":false,"$title":"N√£o possui cadastro","$position":{"top":"1919px","left":"2978px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"0067b267-a13f-44e5-9f41-fdb7046b61f7":{"$contentActions":[{"action":{"$id":"19bab755-475b-4857-8591-566424043206","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"0f954509-9e3d-452f-b336-3f73c7829afb","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"0f954509-9e3d-452f-b336-3f73c7829afb","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"7317311e-6593-45df-88af-059ac4b57650","$typeOfContent":"select-immediate","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"9ea92412-1e4c-4487-81a9-f02025d25c9c","type":"application/vnd.lime.select+json","content":{"text":"Deseja realizar seu cadastro no sistema?","scope":"immediate","options":[{"text":"Sim","previewText":"Sim","value":null,"index":0,"type":null},{"text":"N√£o","previewText":"N√£o","value":null,"index":1,"type":null}],"quikReply":false},"metadata":{}},"$cardContent":{"document":{"id":"9ea92412-1e4c-4487-81a9-f02025d25c9c","type":"application/vnd.lime.select+json","content":{"text":"Deseja realizar seu cadastro no sistema?","scope":"immediate","options":[{"text":"Sim","previewText":"Sim","value":null,"index":0,"type":null},{"text":"N√£o","previewText":"N√£o","value":null,"index":1,"type":null}],"quikReply":false}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"f0694a9f-845d-469a-aab4-1b3a914d0e86","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"f1b8e349-dd77-44f9-904a-2b9e96eff176","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"e3c4b061-1e46-4251-bb76-8ffaac885486","typeOfStateId":"state","$connId":"con_288","$contentId":"7317311e-6593-45df-88af-059ac4b57650","$id":"dbb88e55-62dc-4d72-aea9-d235d6881aeb","conditions":[{"source":"context","comparison":"equals","values":["Sim"],"variable":"intentAction"}],"$invalid":false},{"stateId":"adb3f461-d7c9-4964-8a35-1327f221b9a5","typeOfStateId":"state","$connId":"con_293","$contentId":"7317311e-6593-45df-88af-059ac4b57650","$id":"cac5f379-0a12-4cc6-a6b2-7438ca508792","conditions":[{"source":"context","comparison":"equals","values":["N√£o"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"f2f91bb6-281a-4108-bf00-3ce5335cdb4e","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - return","$invalid":false,"settings":{"variable":"return","value":"true"},"conditions":[]},{"$id":"0a41e3c2-a8bf-4443-98b1-602c4381bab7","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"88f4b1f6-ffbf-4316-b2de-fe83041fc66f","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"Sim\",\n        \"2\": \"N√£o\",  \n    };\n\n    const menuStrings = {\n        \"1\": [\"Sim\", \"Ss\", \"Yes\",  \"1\"],\n        \"2\": [ \"N√£o\", \"nao\", \"No\", \"Nn\", \"Nop\",   \"2\"],\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"056981d7-d7cf-40b5-8417-8d26603c5f60","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - input","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"2a96e23c-af28-4750-a010-0b10da862c79","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":["Sim","N√£o"],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-63f611ef-63da-44b3-a07d-c16a825044c7","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-8bccf8ab-38d8-4bed-b5f9-5eebfd53a28b","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-8f253b66-e4e7-4787-be9d-c5eb79c04568","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-be758a50-981f-4c62-9c22-5a13344999c3","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-62b951f7-3f3f-4b3f-9e04-9e1a3dd113a8","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"0067b267-a13f-44e5-9f41-fdb7046b61f7","root":false,"$title":"Deseja se cadastrar?","$position":{"top":"2053.57px","left":"3393.43px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"adb3f461-d7c9-4964-8a35-1327f221b9a5":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"4df13b7d-c2df-4e9a-9e4a-322e4e040522","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"6362345a-f89d-43d0-9d21-2ab00a56ddfa","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[],"id":"adb3f461-d7c9-4964-8a35-1327f221b9a5","root":false,"$title":"Go to - Algo mais","$position":{"top":"2068px","left":"3635px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"e3c4b061-1e46-4251-bb76-8ffaac885486":{"$contentActions":[{"action":{"$id":"267bd550-807b-43e7-bb74-f90a8e9dda3f","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"2135c43c-d0c7-4ccc-848f-d608d986074b","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"2135c43c-d0c7-4ccc-848f-d608d986074b","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"d492cd9d-b445-43a5-93a6-6e9fbfd44920","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"e603b650-7b8b-4333-98e2-4afb85b5772c","type":"text/plain","content":"Perfeito!\nPara come√ßar vou precisar de algumas informa√ß√µes. ‚úçÔ∏è","metadata":{}},"$cardContent":{"document":{"id":"e603b650-7b8b-4333-98e2-4afb85b5772c","type":"text/plain","content":"Perfeito!\nPara come√ßar vou precisar de algumas informa√ß√µes. ‚úçÔ∏è"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"0a4e379a-d968-47f8-aa87-12ae93fbe713","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"fc6f1378-b1d2-4430-a4d8-cf804d0d83e2","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$invalid":false},{"stateId":"f5921fc3-48c6-47e7-98a3-086b15e7dcef","typeOfStateId":"state","$connId":"con_298","$id":"ad2ce0ec-1070-4ecb-b315-18bbb5792522","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-c0088867-f4c6-4d32-8979-811ad932a270","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"e3c4b061-1e46-4251-bb76-8ffaac885486","root":false,"$title":"Cadastrar","$position":{"top":"2220px","left":"3394px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"f5921fc3-48c6-47e7-98a3-086b15e7dcef":{"$contentActions":[{"action":{"$id":"2052f58f-d3de-4b95-b6e3-0973c12f1ee3","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"183de5c1-ad62-40b6-aedb-de4edc38d115","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"183de5c1-ad62-40b6-aedb-de4edc38d115","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"b19a08d0-a91b-4b1b-8a44-aa257b8248d8","$typeOfContent":"text","type":"SendMessage","settings":{"id":"11a6528f-a6b5-49b5-a785-9b9024450ed4","type":"text/plain","content":"Informe seu <b>nome completo.</b>","metadata":{}},"$cardContent":{"document":{"id":"11a6528f-a6b5-49b5-a785-9b9024450ed4","type":"text/plain","content":"Informe seu <b>nome completo.</b>"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"1c683b9c-eda6-4195-9fa0-5e80efa4b3a8","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"ce06662b-0eca-4b90-a1a8-5faf2baee5cf","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"106b294e-ebe5-44c4-801c-d6a99d5f3cb3","typeOfStateId":"state","$connId":"con_303","$id":"bdab80ec-74bf-4da6-9cdc-d2467a97fa59","conditions":[{"source":"context","comparison":"notEquals","values":["false"],"variable":"nome"}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"d9f29de8-ad5f-42f8-8954-6c19edc695cd","$typeOfContent":"","type":"ExecuteScript","$title":"Trata input - Nome","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    try {\n        const regex = /^[ a-zA-Z√†√®√¨√≤√π√Ä√à√å√í√ô√°√©√≠√≥√∫√Ω√Å√â√ç√ì√ö√ù√¢√™√Æ√¥√ª√Ç√ä√é√î√õ√£√±√µ√É√ë√ï√§√´√Ø√∂√º√ø√Ñ√ã√è√ñ√ú≈∏√ß√á√ü√ò√∏√Ö√•√Ü√¶≈ì'`'\\-]+$/;\n        \n        if (typeof input !== 'string' || /\\d/.test(input)) {\n            return false;\n        }\n        var words = input.trim().split(' ').filter(Boolean);\n        if (words.length < 2) {\n            return false;\n        }\n        var fullName = '';\n        for (var i = 0; i < words.length; i++) {\n            var name = words[i];\n            if (!regex.test(name)) {\n                return false;\n            }\n            fullName += name.charAt(0).toUpperCase() + name.slice(1) + ' ';\n        }\n\n        return fullName.trim();\n    } catch (e) {\n        return false;\n    }\n}\n","inputVariables":["input.content"],"outputVariable":"nome","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"407b24c4-1848-4d37-acea-671c2756ac3c","$typeOfContent":"","type":"MergeContact","$title":"Definir contato - nome","$invalid":false,"settings":{"extras":{},"name":"{{nome}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"background":"#FFEC03","label":"script","id":"blip-tag-ae3a595a-b66c-81cc-e3fd-8b0da4e7cc88","canChangeBackground":false},{"id":"blip-tag-853a41ff-fc01-49ac-8aa4-9eb141a12f1b","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-5e72a282-5589-4f08-abcc-3f5379b0c2b1","label":"MergeContact","background":"#FF1E90","canChangeBackground":false},{"id":"blip-tag-c5679092-ddc3-458b-913d-1b960fb6c525","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-fe6247e4-180f-48f9-9e25-f5ace871ad99","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"f5921fc3-48c6-47e7-98a3-086b15e7dcef","root":false,"$title":"Pergunta: Nome","$position":{"top":"2359px","left":"3392px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true},"106b294e-ebe5-44c4-801c-d6a99d5f3cb3":{"$contentActions":[{"action":{"$id":"705d8204-157f-4a23-9d00-f8a566b4e6f8","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"1da83a6f-c626-45b7-986a-a23c4fb983e7","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"1da83a6f-c626-45b7-986a-a23c4fb983e7","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"88953d92-52e8-4c87-b229-f2c245600d4a","$typeOfContent":"text","type":"SendMessage","settings":{"id":"2c3121f5-a36d-4c4f-96e2-10e5542035df","type":"text/plain","content":"Informe seu telefone com DD dessa forma:\n<b>Ex: 21999999999</b>","metadata":{}},"$cardContent":{"document":{"id":"2c3121f5-a36d-4c4f-96e2-10e5542035df","type":"text/plain","content":"Informe seu telefone com DD dessa forma:\n<b>Ex: 21999999999</b>"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"2e0c1ecf-996c-4e38-9bc6-fc2fb346c8c3","type":"text/plain","textContent":"Entrada do usu√°rio","content":"telefoneNotFormatted"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"telefoneNotFormatted","expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"834a9d49-298c-4eac-bb71-2a4a8b293793","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"9ed74c51-d8c3-453c-a61a-25b046db4959","typeOfStateId":"state","$connId":"con_308","$id":"4427e9fb-9297-4b87-b259-b26eced7532b","conditions":[{"source":"context","comparison":"notEquals","values":["false"],"variable":"telefone"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"4be259a1-f658-4de0-8700-2e4bdaa5f222","$typeOfContent":"","type":"TrackEvent","$title":"Exibi√ß√£o - Entrada","$invalid":false,"settings":{"extras":{"Identificador":"{{contact.identity}}","Nome":"{{contact.name}}","Telefone":"{{contact.phoneNumber}}","Email":"{{contact.email}}"},"action":"Entrada","category":"[{{application.identifier}}][{{state.name}}] Exibi√ß√£o"},"conditions":[]}],"$leavingCustomActions":[{"$id":"b6437777-5097-422a-b4ac-ee4f5b4d0c9b","$typeOfContent":"","type":"ExecuteScript","$title":"Ajusta - telefone","$invalid":false,"settings":{"function":"run","source":"function run(number) {\n  try {\n    if (!number) return false;\n\n    let digits = number.toString().replace(/\\D/g, \"\");\n\n    if (digits.startsWith(\"55\") && digits.length > 10) {\n      digits = digits.slice(2);\n    }\n\n    if (digits.startsWith(\"0\") && digits.length > 10) {\n      digits = digits.slice(1);\n    }\n\n    if (digits.length < 10) return false;\n\n\n    return digits;\n\n  } catch (e) {\n    return false;\n  }\n}\n","inputVariables":["input.content"],"outputVariable":"telefone","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"5a848105-cab1-4c99-a1ac-ccd841d54f94","$typeOfContent":"","type":"MergeContact","$title":"Definir contato - telefone","$invalid":false,"settings":{"extras":{},"phoneNumber":"{{telefone}}"},"conditions":[]},{"$id":"2d3cd994-8828-45a1-8fc1-acf4b90bcf8e","$typeOfContent":"","type":"TrackEvent","$title":"Exibi√ß√£o - Saida","$invalid":false,"settings":{"extras":{"Identificador":"{{contact.identity}}","Nome":"{{contact.name}}","Telefone":"{{contact.phoneNumber}}","Email":"{{contact.email}}"},"action":"Saida","category":"[{{application.identifier}}][{{state.name}}] Exibi√ß√£o"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"background":"#FFEC03","label":"script","id":"blip-tag-ae3a595a-b66c-81cc-e3fd-8b0da4e7cc88","canChangeBackground":false},{"id":"blip-tag-947fc246-8020-4566-a8e5-662d3a99d82d","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-1f8ee594-f7cb-43e5-9549-b1dc5b82b1e6","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-de90063f-2023-4920-aa24-bbda5c49f643","label":"MergeContact","background":"#FF1E90","canChangeBackground":false},{"id":"blip-tag-9ba505d1-89d6-4e2b-8339-49dfc9a3362f","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-28d2459e-117b-4120-8134-1e751bb629cc","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"106b294e-ebe5-44c4-801c-d6a99d5f3cb3","root":false,"$title":"Pergunta: telefone","$position":{"top":"2487.67px","left":"3390.67px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true},"9ed74c51-d8c3-453c-a61a-25b046db4959":{"$contentActions":[{"action":{"$id":"4989d4e7-b836-4d51-b679-5aae465773d0","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"b76e660c-c73b-47fc-907d-26940e6d1e4d","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"b76e660c-c73b-47fc-907d-26940e6d1e4d","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ee806a87-9ce5-4d1e-a970-1e12ae40dad2","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"a04c9ec6-2ccf-42b9-bb98-b39be8081937","type":"text/plain","content":"Informe seu Estado dessa forma:\n\n<b>Ex: RJ</b>","metadata":{}},"$cardContent":{"document":{"id":"a04c9ec6-2ccf-42b9-bb98-b39be8081937","type":"text/plain","content":"Informe seu Estado dessa forma:\n\n<b>Ex: RJ</b>"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"74320287-30d1-427f-b5db-f1a07442a1f3","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"5df070b1-13b3-4535-a689-d641bd081247","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"3ea87941-4421-41ef-bc57-59524c71fd8f","typeOfStateId":"state","$connId":"con_313","$id":"c67cbc3e-da92-4353-9ead-a11c997c8929","conditions":[{"source":"context","comparison":"notEquals","values":["Input inesperado"],"variable":"validaUf"}],"$isBuilderDefaultOutput":true,"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"6e785695-ddc3-4b09-803a-4f5873fa80cd","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"Executar script - validaUf","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    if (!input || typeof input !== \"string\") return \"Input inesperado\";\n\n    // Lista de siglas v√°lidas do Brasil\n    const siglasValidas = [\n        \"AC\",\"AL\",\"AP\",\"AM\",\"BA\",\"CE\",\"DF\",\"ES\",\"GO\",\"MA\",\"MT\",\"MS\",\n        \"MG\",\"PA\",\"PB\",\"PR\",\"PE\",\"PI\",\"RJ\",\"RN\",\"RS\",\"RO\",\"RR\",\"SC\",\"SP\",\"SE\",\"TO\", \"DF\"\n    ];\n\n    // Normaliza input: remove espa√ßos e coloca em mai√∫scula\n    const uf = input.trim().toUpperCase();\n\n    // Retorna a UF se v√°lida, ou \"Input inesperado\" caso contr√°rio\n    return siglasValidas.includes(uf) ? uf : \"Input inesperado\";\n}","inputVariables":["input.content"],"outputVariable":"validaUf","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"dfaaf6df-236b-40dc-8940-d268c47d0f94","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"MergeContact","$title":"Definir contato - UF","$invalid":false,"settings":{"extras":{"uf":"{{validaUf}}"}},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-5194dd94-611f-4ae2-a9cf-fabbab2b43e0","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-f13e31ba-72f4-4774-b5db-75a617c8c874","label":"MergeContact","background":"#FF1E90","canChangeBackground":false},{"id":"blip-tag-b078e66c-f9de-4852-a281-04648f427999","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-78a3b5a3-b4d3-43cb-8afd-232f2cae791d","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"9ed74c51-d8c3-453c-a61a-25b046db4959","root":false,"$title":"Pergunta Estado","$position":{"top":"2633px","left":"3399px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"3ea87941-4421-41ef-bc57-59524c71fd8f":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"3c9ad21e-e731-4899-8520-4a5e4800ea51","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0bed2de2-1bae-4fb6-9448-4ebba6730ab4","typeOfStateId":"state","$connId":"con_318","$id":"5d296e5d-577c-413b-aad5-1936324b8349","conditions":[{"source":"context","comparison":"startsWith","values":["2"],"variable":"statusCadastraUsuario"}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"65f9980f-4d05-4f58-b344-d477e0793d19","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"body - Cadastra usu√°rio","$invalid":false,"settings":{"function":"run","source":"function run(nome, cpf, telefone, estado) {\n    return {\n        nome: nome,\n        cpf: cpf,\n        telefone: telefone,\n        estado: estado\n    };\n}\n","inputVariables":["contact.name","contact.taxDocument","contact.phoneNumber","contact.extras.uf"],"outputVariable":"bodyCadastro","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"c9823ecd-2a07-44d5-a6aa-0ff560036c77","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ProcessHttp","$title":"HTTP - Consulta Usu√°rio","$invalid":false,"settings":{"headers":{"Content-Type":"application/json","x-api-key":"{{config.apiKey}}"},"method":"POST","uri":"{{config.urlClientes}}","responseStatusVariable":"statusCadastraUsuario","responseBodyVariable":"responseCadastraUsuario","body":"{{bodyCadastro}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-e3020a4d-1d2e-43cf-93e1-e47bda3bb417","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-bfbea823-d65f-4375-9e15-0fd9947ddccf","label":"ProcessHttp","background":"#ff0000","canChangeBackground":false}],"id":"3ea87941-4421-41ef-bc57-59524c71fd8f","root":false,"$title":"[API] POST - Cadastra Usu√°rio","$position":{"top":"2776.67px","left":"3398.67px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"50% 0 50% 0","backgroundColor":"#3f0323"}},"0bed2de2-1bae-4fb6-9448-4ebba6730ab4":{"$contentActions":[{"action":{"$id":"360fc047-1b3f-487c-835b-a47e6c9ec31c","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"9f20d0dc-6d53-4e45-a3a1-3b09f57b9d9b","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"9f20d0dc-6d53-4e45-a3a1-3b09f57b9d9b","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"dfbb0eeb-e0be-4279-8572-a3779fc83c6d","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"1c004937-8dec-4275-ba4d-5600c320064c","type":"text/plain","content":"Aqui temos a requisi√ß√£o de <b>cadastro de usu√°rio.</b>\n\nO bot armazena o CPF informado e o envia ao endpoint utilizando o m√©todo <b>POST.</b>\nCaso n√£o exista cadastro associado ao CPF (chave prim√°ria), o sistema cria um novo registro no banco de dados passando todos os dados pelo body da requisi√ß√£o.\n\n<b>Endpoint:</b> https://projetotccapi.onrender.com/api/v1/clientes\n<b>M√©todo:</b>  POST","metadata":{}},"$cardContent":{"document":{"id":"1c004937-8dec-4275-ba4d-5600c320064c","type":"text/plain","content":"Aqui temos a requisi√ß√£o de <b>cadastro de usu√°rio.</b>\n\nO bot armazena o CPF informado e o envia ao endpoint utilizando o m√©todo <b>POST.</b>\nCaso n√£o exista cadastro associado ao CPF (chave prim√°ria), o sistema cria um novo registro no banco de dados passando todos os dados pelo body da requisi√ß√£o.\n\n<b>Endpoint:</b> https://projetotccapi.onrender.com/api/v1/clientes\n<b>M√©todo:</b>  POST"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"4a11208a-e576-4927-8855-e6c3f9cbb78f","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"0ba630b6-ca9a-4f15-8ddf-87255174463d","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"0ba630b6-ca9a-4f15-8ddf-87255174463d","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"a14a5f66-7757-480a-b6ff-51358b900235","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"846612d1-386f-47e6-ac75-226f2c3ab826","type":"text/plain","content":"Abaixo segue o retorno da response da nossa requisi√ß√£o:\n\n{{responseCadastraUsuario}}","metadata":{}},"$cardContent":{"document":{"id":"846612d1-386f-47e6-ac75-226f2c3ab826","type":"text/plain","content":"Abaixo segue o retorno da response da nossa requisi√ß√£o:\n\n{{responseCadastraUsuario}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"29de6697-c57e-4291-a4ba-f7346b797acc","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"a25287ac-9772-4820-bee9-355e1db1b90c","typeOfStateId":"state","$connId":"con_323","$id":"3fa2a92f-c81f-4393-b147-c7e30c28c764","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"c897792f-973d-4c54-b757-79c1cde2b6ef","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-1b74bd07-4130-416f-87dc-fa80adff78fe","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"0bed2de2-1bae-4fb6-9448-4ebba6730ab4","root":false,"$title":"Explica etapa: [API] POST - Cadastra Usu√°rio","$position":{"top":"2936px","left":"3400px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"c897792f-973d-4c54-b757-79c1cde2b6ef":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"29de6697-c57e-4291-a4ba-f7346b797acc","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"11b0fafd-50ee-4c86-a0dc-35a3a10cd59d","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[],"id":"c897792f-973d-4c54-b757-79c1cde2b6ef","root":false,"$title":"Go to - Confirma dados?","$position":{"top":"3110px","left":"3078px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"34d34d3f-1d74-40a0-b018-8154433337b9":{"$contentActions":[{"action":{"$id":"8d590f33-99b3-40d7-8245-a1b53ce02647","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"8f39fc16-c252-4047-82b9-ccbc5c4bc2df","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"8f39fc16-c252-4047-82b9-ccbc5c4bc2df","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"580eebd5-d569-4850-a8ba-960c5f939f9d","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"1297c2fa-9428-4849-9295-f8c7d6877d51","type":"text/plain","content":"Que maravilha! Vi que voc√™ possui cadastro no sistema. üéâ","metadata":{}},"$cardContent":{"document":{"id":"1297c2fa-9428-4849-9295-f8c7d6877d51","type":"text/plain","content":"Que maravilha! Vi que voc√™ possui cadastro no sistema. üéâ"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"6a19af7a-4e7b-44ee-8453-293b7089116c","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"11b0fafd-50ee-4c86-a0dc-35a3a10cd59d","typeOfStateId":"state","$connId":"con_328","$id":"024f39f3-3284-4253-8760-896e92ccc70d","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"11b0fafd-50ee-4c86-a0dc-35a3a10cd59d","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-01a50f29-857e-49c8-aa6f-e27f005bdfc8","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"34d34d3f-1d74-40a0-b018-8154433337b9","root":false,"$title":"Possui cadastro","$position":{"top":"1932.5px","left":"2463px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"11b0fafd-50ee-4c86-a0dc-35a3a10cd59d":{"$contentActions":[{"action":{"$id":"19bab755-475b-4857-8591-566424043206","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"0f954509-9e3d-452f-b336-3f73c7829afb","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"0f954509-9e3d-452f-b336-3f73c7829afb","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"7317311e-6593-45df-88af-059ac4b57650","$typeOfContent":"select-immediate","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"9ea92412-1e4c-4487-81a9-f02025d25c9c","type":"application/vnd.lime.select+json","content":{"text":"Os dados informados abaixo est√£o corretos?\n\n<b>Nome:</b>  {{dadosConsulta@nome}}\n<b>Telefone:</b>  {{dadosConsulta@telefone}}\n<b>Estado:</b> {{dadosConsulta@estado}} ","scope":"immediate","options":[{"text":"Sim","previewText":"Sim","value":null,"index":0,"type":null},{"text":"N√£o","previewText":"N√£o","value":null,"index":1,"type":null}],"quikReply":false},"metadata":{}},"$cardContent":{"document":{"id":"9ea92412-1e4c-4487-81a9-f02025d25c9c","type":"application/vnd.lime.select+json","content":{"text":"Os dados informados abaixo est√£o corretos?\n\n<b>Nome:</b>  {{dadosConsulta@nome}}\n<b>Telefone:</b>  {{dadosConsulta@telefone}}\n<b>Estado:</b> {{dadosConsulta@estado}} ","scope":"immediate","options":[{"text":"Sim","previewText":"Sim","value":null,"index":0,"type":null},{"text":"N√£o","previewText":"N√£o","value":null,"index":1,"type":null}],"quikReply":false}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"f0694a9f-845d-469a-aab4-1b3a914d0e86","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"8d891a28-185a-4ec9-9325-f877f20fed78","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"a6cf2f40-5087-4b49-9040-c2b6a9af9f15","typeOfStateId":"state","$connId":"con_333","$contentId":"7317311e-6593-45df-88af-059ac4b57650","$id":"dbb88e55-62dc-4d72-aea9-d235d6881aeb","conditions":[{"source":"context","comparison":"equals","values":["Sim"],"variable":"intentAction"}],"$invalid":false},{"stateId":"de73c120-047f-4443-8e88-a73d2e26b333","typeOfStateId":"state","$connId":"con_338","$contentId":"7317311e-6593-45df-88af-059ac4b57650","$id":"cac5f379-0a12-4cc6-a6b2-7438ca508792","conditions":[{"source":"context","comparison":"equals","values":["N√£o"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"e0eff9ee-5854-4459-990d-fb6dce79709a","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"0a41e3c2-a8bf-4443-98b1-602c4381bab7","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"88f4b1f6-ffbf-4316-b2de-fe83041fc66f","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"Sim\",\n        \"2\": \"N√£o\",  \n    };\n\n    const menuStrings = {\n        \"1\": [\"Sim\", \"Ss\", \"Yes\",  \"1\"],\n        \"2\": [ \"N√£o\", \"nao\", \"No\", \"Nn\", \"Nop\",   \"2\"],\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"056981d7-d7cf-40b5-8417-8d26603c5f60","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - input","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"2a96e23c-af28-4750-a010-0b10da862c79","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":["Sim","N√£o"],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-1ea3c2bd-811e-4f44-bcdb-cf7e0c9096ea","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-892a38a2-bff8-4bb9-8eea-70cc10fec57d","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-eefba77e-cabb-4e06-bed7-bcad2c302629","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-3da930a7-372e-47f6-be70-b9ff223bc2b9","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-b13e9350-ba3a-417f-a73b-5e5b90ef28cc","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"11b0fafd-50ee-4c86-a0dc-35a3a10cd59d","root":false,"$title":"Confirma dados?","$position":{"top":"2069px","left":"2167px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"a6cf2f40-5087-4b49-9040-c2b6a9af9f15":{"$contentActions":[{"action":{"$id":"bd3536a6-cbf4-494f-8d89-9f46337af10f","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"ae7f0278-2c2c-4313-8fb2-26b6b24b83fe","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"ae7f0278-2c2c-4313-8fb2-26b6b24b83fe","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"e1d90c16-4aff-4131-9655-3a7b0bd9a236","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"7c0e2aab-880c-49c3-b872-569345113f3b","type":"text/plain","content":"Muito bem, seu cadastro se encontra atualizado no banco de dados! üëè","metadata":{}},"$cardContent":{"document":{"id":"7c0e2aab-880c-49c3-b872-569345113f3b","type":"text/plain","content":"Muito bem, seu cadastro se encontra atualizado no banco de dados! üëè"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"27b6e7c7-c7bd-4311-939c-cf7e4130f5b2","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"50997e6c-c624-4081-a8be-f75ae2e6eae7","typeOfStateId":"state","$connId":"con_343","$id":"63b689c6-6682-41f5-8254-c0cab0bea1fc","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-08dca052-1c92-4b6b-ae68-7c092cf983e0","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"a6cf2f40-5087-4b49-9040-c2b6a9af9f15","root":false,"$title":"Cadastro confirmado","$position":{"top":"2188.71px","left":"1972.57px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"50997e6c-c624-4081-a8be-f75ae2e6eae7":{"$contentActions":[{"action":{"$id":"db3afc95-6fd9-4254-b817-2a5f534d929f","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"714f0f59-257d-46f4-ac3f-706b600e55c9","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"714f0f59-257d-46f4-ac3f-706b600e55c9","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"2ad22d60-e296-4761-904b-b4f8b1b0c9b3","$typeOfContent":"select","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"551773f6-6568-4563-9d88-9a4fd8488eda","type":"application/vnd.lime.select+json","content":{"text":"O que deseja fazer agora?","options":[{"text":"Deletar Cadastro","previewText":"Deletar Cadastro","value":null,"index":0,"type":null},{"text":"Consultar outro CPF","previewText":"Consultar outro CPF","value":null,"index":1,"type":null},{"index":-1,"text":"Menu principal","previewText":"Menu principal","type":null,"value":null},{"index":-1,"text":"Encerrar conversa","previewText":"Encerrar conversa","type":null,"value":null}],"limitMenu":false},"metadata":{}},"$cardContent":{"document":{"id":"551773f6-6568-4563-9d88-9a4fd8488eda","type":"application/vnd.lime.select+json","content":{"text":"O que deseja fazer agora?","options":[{"text":"Deletar Cadastro","previewText":"Deletar Cadastro","value":null,"index":0,"type":null},{"text":"Consultar outro CPF","previewText":"Consultar outro CPF","value":null,"index":1,"type":null},{"index":-1,"text":"Menu principal","previewText":"Menu principal","type":null,"value":null},{"index":-1,"text":"Encerrar conversa","previewText":"Encerrar conversa","type":null,"value":null}],"limitMenu":false}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"f0694a9f-845d-469a-aab4-1b3a914d0e86","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"17fd0293-b038-48a5-9611-d70d05b30a93","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"5bc5e377-4bc0-46a6-b37c-54b56066349f","typeOfStateId":"state","$connId":"con_348","$contentId":"2ad22d60-e296-4761-904b-b4f8b1b0c9b3","$id":"c8a0e12c-2d46-4b6d-90fb-66937746125e","conditions":[{"source":"context","comparison":"equals","values":["Deletar Cadastro"],"variable":"intentAction"}],"$invalid":false},{"stateId":"d0e8c695-c78c-4215-bdde-704b16653b2b","typeOfStateId":"state","$connId":"con_353","$contentId":"2ad22d60-e296-4761-904b-b4f8b1b0c9b3","$id":"26105883-ea6c-40d8-af89-2383335c1b13","conditions":[{"source":"context","comparison":"equals","values":["Consultar outro CPF"],"variable":"intentAction"}],"$invalid":false},{"stateId":"9c707526-8c48-425e-a645-1b4f5c8a8f53","typeOfStateId":"state","$connId":"con_358","$contentId":"2ad22d60-e296-4761-904b-b4f8b1b0c9b3","$id":"ffd6fba2-e630-46ed-86e4-b382b813fe83","conditions":[{"source":"context","comparison":"equals","values":["Menu principal"],"variable":"intentAction"}],"$invalid":false},{"stateId":"29bf0f26-c3b6-49da-984f-84533c1f8000","typeOfStateId":"state","$connId":"con_363","$contentId":"2ad22d60-e296-4761-904b-b4f8b1b0c9b3","$id":"b2531d57-48d5-4d44-a8c0-a9b920ff3429","conditions":[{"source":"context","comparison":"equals","values":["Encerrar conversa"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"da318a7f-82c1-4725-b386-75f1774f1ed5","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"0a41e3c2-a8bf-4443-98b1-602c4381bab7","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"88f4b1f6-ffbf-4316-b2de-fe83041fc66f","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"Deletar Cadastro\",\n        \"2\": \"Consultar outro CPF\",  \n        \"3\": \"Menu principal\",\n        \"4\": \"Encerrar conversa\"\n    };\n\n    const menuStrings = {\n        \"1\": [\"Deletar Cadastro\", \"Deletar\", \"1\"],\n        \"2\": [ \"Consultar outro CPF\", \"outro\", \"2\"],\n        \"3\": [ \"Menu principal\", \"3\"],\n        \"4\": [ \"Encerrar conversa\", \"4\"],\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"056981d7-d7cf-40b5-8417-8d26603c5f60","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - input","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"2a96e23c-af28-4750-a010-0b10da862c79","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":["Deletar Cadastro","Consultar outro CPF","Menu principal","Encerrar conversa"],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-c63da3b9-2277-42b1-9783-44d29b650a4d","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-1a92ae30-cd5b-42c0-8ec5-cc2c542ddc0f","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-33ee9500-21cb-4d96-8cba-92272e99a879","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-4b620095-0d0a-4c88-a8b1-bd09bf8bd6c8","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-a1384917-8164-42e4-8f75-d9e9d64a7dd4","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"50997e6c-c624-4081-a8be-f75ae2e6eae7","root":false,"$title":"O que deseja fazer?","$position":{"top":"2356.57px","left":"1973.43px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"d0e8c695-c78c-4215-bdde-704b16653b2b":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"4df13b7d-c2df-4e9a-9e4a-322e4e040522","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"19936544-9900-4c7f-81cd-5a53e97b2a92","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[],"id":"d0e8c695-c78c-4215-bdde-704b16653b2b","root":false,"$title":"Go to - Pergunta CPF","$position":{"top":"2520.86px","left":"2092px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"5bc5e377-4bc0-46a6-b37c-54b56066349f":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"3c9ad21e-e731-4899-8520-4a5e4800ea51","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"19ed70a3-55a8-45d2-9465-3832098718fb","typeOfStateId":"state","$connId":"con_368","$id":"5d296e5d-577c-413b-aad5-1936324b8349","conditions":[{"source":"context","comparison":"startsWith","values":["2"],"variable":"statusDeletaUsuario"}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"c9823ecd-2a07-44d5-a6aa-0ff560036c77","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ProcessHttp","$title":"HTTP - Consulta Usu√°rio","$invalid":false,"settings":{"headers":{"Content-Type":"application/json","x-api-key":"{{config.apiKey}}"},"method":"DELETE","uri":"{{config.urlClientes}}/{{cpfValido@input}}","responseStatusVariable":"statusDeletaUsuario","responseBodyVariable":"responseDeletaUsuario"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-4f93e807-587b-42c7-a819-2d63d9352d3b","label":"ProcessHttp","background":"#ff0000","canChangeBackground":false}],"id":"5bc5e377-4bc0-46a6-b37c-54b56066349f","root":false,"$title":"[API] DELETE - Deleta Usu√°rio","$position":{"top":"2536.86px","left":"1833px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"50% 0 50% 0","backgroundColor":"#3f0022","commentsIdList":[]}},"19ed70a3-55a8-45d2-9465-3832098718fb":{"$contentActions":[{"action":{"$id":"360fc047-1b3f-487c-835b-a47e6c9ec31c","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"9f20d0dc-6d53-4e45-a3a1-3b09f57b9d9b","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"9f20d0dc-6d53-4e45-a3a1-3b09f57b9d9b","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"dfbb0eeb-e0be-4279-8572-a3779fc83c6d","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"1c004937-8dec-4275-ba4d-5600c320064c","type":"text/plain","content":"Aqui ocorre a <b>requisi√ß√£o de exclus√£o do cadastro de um usu√°rio.</b>\nO bot utiliza o CPF como chave prim√°ria de verifica√ß√£o no banco de dados. Caso o CPF exista, a requisi√ß√£o √© processada e o sistema remove completamente o cadastro do usu√°rio.\n\n<b>Endpoint:</b>  https://projetotccapi.onrender.com/api/v1/clientes/{{cpf}}\n<b>M√©todo:</b> DELETE","metadata":{}},"$cardContent":{"document":{"id":"1c004937-8dec-4275-ba4d-5600c320064c","type":"text/plain","content":"Aqui ocorre a <b>requisi√ß√£o de exclus√£o do cadastro de um usu√°rio.</b>\nO bot utiliza o CPF como chave prim√°ria de verifica√ß√£o no banco de dados. Caso o CPF exista, a requisi√ß√£o √© processada e o sistema remove completamente o cadastro do usu√°rio.\n\n<b>Endpoint:</b>  https://projetotccapi.onrender.com/api/v1/clientes/{{cpf}}\n<b>M√©todo:</b> DELETE"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"1331a550-f2e4-413c-aca3-cee551ab42cf","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"da06ce54-4556-4568-a1b4-50f9b87f3106","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"da06ce54-4556-4568-a1b4-50f9b87f3106","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"10c200bb-b17a-43be-b108-67673dda8e78","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"cd9b0a81-7c49-4f3d-a6a4-75805ffe04a4","type":"text/plain","content":"Abaixo segue o retorno da response da nossa requisi√ß√£o:\n\n{{responseDeletaUsuario}}","metadata":{}},"$cardContent":{"document":{"id":"cd9b0a81-7c49-4f3d-a6a4-75805ffe04a4","type":"text/plain","content":"Abaixo segue o retorno da response da nossa requisi√ß√£o:\n\n{{responseDeletaUsuario}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"29de6697-c57e-4291-a4ba-f7346b797acc","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"f99c03e8-ca20-492b-9d0c-249fd2a1d3c7","typeOfStateId":"state","$connId":"con_373","$id":"1a6f502e-bb98-42fb-a0ce-e2d87832f10c","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"f99c03e8-ca20-492b-9d0c-249fd2a1d3c7","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-ff67ec5d-87bd-4cf5-9790-7c0c1c33007c","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"19ed70a3-55a8-45d2-9465-3832098718fb","root":false,"$title":"Explica etapa: [API] DELETE - Deleta Usu√°rio","$position":{"top":"2697.86px","left":"1833px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"f99c03e8-ca20-492b-9d0c-249fd2a1d3c7":{"$contentActions":[{"action":{"$id":"db3afc95-6fd9-4254-b817-2a5f534d929f","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"714f0f59-257d-46f4-ac3f-706b600e55c9","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"714f0f59-257d-46f4-ac3f-706b600e55c9","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"2ad22d60-e296-4761-904b-b4f8b1b0c9b3","$typeOfContent":"select","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"551773f6-6568-4563-9d88-9a4fd8488eda","type":"application/vnd.lime.select+json","content":{"text":"O que deseja fazer agora?","options":[{"text":"Cadastrar usu√°rio","previewText":"Cadastrar usu√°rio","value":null,"index":0,"type":null},{"text":"Consultar outro CPF","previewText":"Consultar outro CPF","value":null,"index":1,"type":null},{"index":-1,"text":"Menu principal","previewText":"Menu principal","type":null,"value":null},{"index":-1,"text":"Encerrar Atendimento","previewText":"Encerrar Atendimento","type":null,"value":null}],"limitMenu":false},"metadata":{}},"$cardContent":{"document":{"id":"551773f6-6568-4563-9d88-9a4fd8488eda","type":"application/vnd.lime.select+json","content":{"text":"O que deseja fazer agora?","options":[{"text":"Cadastrar usu√°rio","previewText":"Cadastrar usu√°rio","value":null,"index":0,"type":null},{"text":"Consultar outro CPF","previewText":"Consultar outro CPF","value":null,"index":1,"type":null},{"index":-1,"text":"Menu principal","previewText":"Menu principal","type":null,"value":null},{"index":-1,"text":"Encerrar Atendimento","previewText":"Encerrar Atendimento","type":null,"value":null}],"limitMenu":false}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"f0694a9f-845d-469a-aab4-1b3a914d0e86","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"39052606-765c-4654-8d61-ad057909fcc5","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"14d5e6e2-1366-49e2-a32c-bd23f3042523","typeOfStateId":"state","$connId":"con_378","$contentId":"2ad22d60-e296-4761-904b-b4f8b1b0c9b3","$id":"88dc0d87-ee7e-4305-86f4-30c69c00881c","conditions":[{"source":"context","comparison":"equals","values":["Cadastrar usu√°rio"],"variable":"intentAction"}],"$invalid":false},{"stateId":"d0e8c695-c78c-4215-bdde-704b16653b2b","typeOfStateId":"state","$connId":"con_383","$contentId":"2ad22d60-e296-4761-904b-b4f8b1b0c9b3","$id":"26105883-ea6c-40d8-af89-2383335c1b13","conditions":[{"source":"context","comparison":"equals","values":["Consultar outro CPF"],"variable":"intentAction"}],"$invalid":false},{"stateId":"a2180430-6d40-45bf-b10c-37ed74938ac3","typeOfStateId":"state","$connId":"con_388","$contentId":"2ad22d60-e296-4761-904b-b4f8b1b0c9b3","$id":"1c207f44-7b48-41b2-8bc6-a05700ddbefd","conditions":[{"source":"context","comparison":"equals","values":["Menu principal"],"variable":"intentAction"}],"$invalid":false},{"stateId":"84977627-30d0-4ae4-92d1-f7e4a986eca4","typeOfStateId":"state","$connId":"con_393","$contentId":"2ad22d60-e296-4761-904b-b4f8b1b0c9b3","$id":"5ac66843-2820-4ad0-b72c-6ad47c2685b4","conditions":[{"source":"context","comparison":"equals","values":["Encerrar conversa"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"d6e30cf9-2506-4b5d-9acd-162098675d09","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"0a41e3c2-a8bf-4443-98b1-602c4381bab7","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"88f4b1f6-ffbf-4316-b2de-fe83041fc66f","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"Cadastrar usu√°rio\",\n        \"2\": \"Consultar outro CPF\", \n        \"3\": \"Menu principal\",\n        \"4\": \"Encerrar conversa\"\n    };\n\n    const menuStrings = {\n        \"1\": [\"Cadastrar usu√°rio\", \"Deletar\", \"1\"],\n        \"2\": [ \"Consultar outro CPF\", \"outro\", \"2\"],\n        \"3\": [ \"Menu principal\", \"3\"],\n        \"4\": [ \"Encerrar conversa\", \"4\"],\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"056981d7-d7cf-40b5-8417-8d26603c5f60","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - input","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"2a96e23c-af28-4750-a010-0b10da862c79","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":["Cadastrar usu√°rio","Consultar outro CPF","Menu principal","Encerrar Atendimento"],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-dfc5e1ce-bec8-4b08-9b21-bf6108928cbd","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-37cabdce-e3dd-422b-a587-7f84fb471f51","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-19cf4d8b-7106-4424-bbfb-21cd1ae84d40","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-0fa29391-be86-4fb3-b860-3728ec5746a9","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-ee4fd9be-9ceb-4aaf-ba6e-a681723548b4","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"f99c03e8-ca20-492b-9d0c-249fd2a1d3c7","root":false,"$title":"O que deseja fazer agora?","$position":{"top":"2889px","left":"1956px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"14d5e6e2-1366-49e2-a32c-bd23f3042523":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"4df13b7d-c2df-4e9a-9e4a-322e4e040522","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"0067b267-a13f-44e5-9f41-fdb7046b61f7","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[],"id":"14d5e6e2-1366-49e2-a32c-bd23f3042523","root":false,"$title":"Go to - Deseja se cadastrar?","$position":{"top":"2989.86px","left":"1728px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"a2180430-6d40-45bf-b10c-37ed74938ac3":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"4df13b7d-c2df-4e9a-9e4a-322e4e040522","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"d4c48a12-869e-499b-a9df-52c50bf3d5b9","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[],"id":"a2180430-6d40-45bf-b10c-37ed74938ac3","root":false,"$title":"Go to - Menu principal","$position":{"top":"3063.86px","left":"1956px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"84977627-30d0-4ae4-92d1-f7e4a986eca4":{"$contentActions":[{"action":{"$id":"39196713-3288-4e1d-99a1-46bec29415aa","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"d74afb46-3539-4794-bb9d-583380987492","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d74afb46-3539-4794-bb9d-583380987492","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"8a85113a-3161-494f-870c-a27916621b17","$typeOfContent":"text","type":"SendMessage","settings":{"id":"65bc9bdb-0d6d-434e-a967-a627a1940651","type":"text/plain","content":"Sem problemas!\n\nCaso tenha alguma d√∫vida,  estarei √† disposi√ß√£o. üòä","metadata":{}},"$cardContent":{"document":{"id":"65bc9bdb-0d6d-434e-a967-a627a1940651","type":"text/plain","content":"Sem problemas!\n\nCaso tenha alguma d√∫vida,  estarei √† disposi√ß√£o. üòä"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"5673bf55-031e-4137-aae9-5cb8c13ef671","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"d2051b50-745b-4b17-8158-50db102eba96","$typeOfContent":"","type":"TrackEvent","$title":"Finaliza Algo Mais - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Finaliza Algo Mais - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"$invalid":false,"typeOfStateId":"state","stateId":"fa5b74cc-4990-4966-90db-ef0bde3351cb"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-0a0a0091-91e2-4ea8-b836-853c7810e6ac","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-2bd26243-da3c-4651-b512-901ed65b0493","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"84977627-30d0-4ae4-92d1-f7e4a986eca4","root":false,"$title":"Encerrar conversa","$position":{"top":"2871.86px","left":"2170px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true,"addonsSettings":{"shape":"50%","backgroundColor":"#07445e","commentsIdList":[]}},"de73c120-047f-4443-8e88-a73d2e26b333":{"$contentActions":[{"action":{"$id":"db3afc95-6fd9-4254-b817-2a5f534d929f","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"714f0f59-257d-46f4-ac3f-706b600e55c9","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"714f0f59-257d-46f4-ac3f-706b600e55c9","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"2ad22d60-e296-4761-904b-b4f8b1b0c9b3","$typeOfContent":"select","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"551773f6-6568-4563-9d88-9a4fd8488eda","type":"application/vnd.lime.select+json","content":{"text":"Qual informa√ß√£o deseja alterar?","options":[{"text":"Nome","previewText":"Nome","value":null,"index":0,"type":null},{"text":"Telefone","previewText":"Telefone","value":null,"index":1,"type":null},{"index":-1,"text":"Estado","previewText":"Estado","type":null,"value":null}],"limitMenu":false},"metadata":{}},"$cardContent":{"document":{"id":"551773f6-6568-4563-9d88-9a4fd8488eda","type":"application/vnd.lime.select+json","content":{"text":"Qual informa√ß√£o deseja alterar?","options":[{"text":"Nome","previewText":"Nome","value":null,"index":0,"type":null},{"text":"Telefone","previewText":"Telefone","value":null,"index":1,"type":null},{"index":-1,"text":"Estado","previewText":"Estado","type":null,"value":null}],"limitMenu":false}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"f0694a9f-845d-469a-aab4-1b3a914d0e86","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"fe94920e-d98d-47a4-bdde-c58f93884b8c","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"fa4d6312-95ff-4d99-9125-0a6ef6c7e391","typeOfStateId":"state","$connId":"con_398","$contentId":"2ad22d60-e296-4761-904b-b4f8b1b0c9b3","$id":"5da3e188-c4b2-471f-b5b2-877cd3122e47","conditions":[{"source":"context","comparison":"equals","values":["Nome"],"variable":"intentAction"}],"$invalid":false},{"stateId":"d46089d6-4789-4f4f-8b2a-2430e9f6a434","typeOfStateId":"state","$connId":"con_403","$contentId":"2ad22d60-e296-4761-904b-b4f8b1b0c9b3","$id":"e4743de4-144a-40c5-bb04-c468e7859ed6","conditions":[{"source":"context","comparison":"equals","values":["Telefone"],"variable":"intentAction"}],"$invalid":false},{"stateId":"8dda1a34-3b18-42cc-892d-25a71a03024a","typeOfStateId":"state","$connId":"con_408","$contentId":"2ad22d60-e296-4761-904b-b4f8b1b0c9b3","$id":"a2a7008f-3fb5-4a9b-8e3a-1c397cb280ca","conditions":[{"source":"context","comparison":"equals","values":["Estado"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"0a41e3c2-a8bf-4443-98b1-602c4381bab7","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - Exibicao","action":"Exibicao"},"conditions":[]},{"$id":"d14a89d4-f00a-4e9f-b9ba-4d94d0c45d1a","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"MergeContact","$title":"Definir contato - Para atualiza√ß√£o","$invalid":false,"settings":{"extras":{"uf":"{{dadosConsulta@estado}}"},"name":"{{dadosConsulta@nome}}","phoneNumber":"{{dadosConsulta@telefone}}"},"conditions":[]}],"$leavingCustomActions":[{"$id":"88f4b1f6-ffbf-4316-b2de-fe83041fc66f","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"Nome\",\n        \"2\": \"Telefone\", \n        \"3\": \"Estado\",  \n    };\n\n    const menuStrings = {\n        \"1\": [\"Nome\", \"name\", \"1\"],\n        \"2\": [ \"Telefone\", \"Tel\", \"2\"],\n        \"3\": [ \"Estado\", \"UF\", \"3\"]\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"056981d7-d7cf-40b5-8417-8d26603c5f60","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - input","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"2a96e23c-af28-4750-a010-0b10da862c79","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - input inesperado","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":["Nome","Telefone","Estado"],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-61237fef-825d-4559-9566-d169178e5008","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-4082818f-3616-4042-b144-b8d7b008c8c7","label":"MergeContact","background":"#FF1E90","canChangeBackground":false},{"id":"blip-tag-5c8fe321-5fbe-4312-ac3f-fba5829b88b8","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-1173d4a7-78de-48bc-a6a1-44aecdb16057","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-eb5fa513-bee3-4be6-8ef4-03d4d0f6534d","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"de73c120-047f-4443-8e88-a73d2e26b333","root":false,"$title":"Qual dado deseja alterar?","$position":{"top":"2202px","left":"2517px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"fa4d6312-95ff-4d99-9125-0a6ef6c7e391":{"$contentActions":[{"action":{"$id":"2052f58f-d3de-4b95-b6e3-0973c12f1ee3","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"183de5c1-ad62-40b6-aedb-de4edc38d115","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"183de5c1-ad62-40b6-aedb-de4edc38d115","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"b19a08d0-a91b-4b1b-8a44-aa257b8248d8","$typeOfContent":"text","type":"SendMessage","settings":{"id":"11a6528f-a6b5-49b5-a785-9b9024450ed4","type":"text/plain","content":"Informe seu <b>nome completo.</b>","metadata":{}},"$cardContent":{"document":{"id":"11a6528f-a6b5-49b5-a785-9b9024450ed4","type":"text/plain","content":"Informe seu <b>nome completo.</b>"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"1c683b9c-eda6-4195-9fa0-5e80efa4b3a8","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"ce06662b-0eca-4b90-a1a8-5faf2baee5cf","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"77219a5e-8ed1-42e3-ae76-ba8ea6b1184b","typeOfStateId":"state","$connId":"con_413","$id":"bdab80ec-74bf-4da6-9cdc-d2467a97fa59","conditions":[{"source":"context","comparison":"notEquals","values":["false"],"variable":"nome"}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"d9f29de8-ad5f-42f8-8954-6c19edc695cd","$typeOfContent":"","type":"ExecuteScript","$title":"Trata input - Nome","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    try {\n        const regex = /^[ a-zA-Z√†√®√¨√≤√π√Ä√à√å√í√ô√°√©√≠√≥√∫√Ω√Å√â√ç√ì√ö√ù√¢√™√Æ√¥√ª√Ç√ä√é√î√õ√£√±√µ√É√ë√ï√§√´√Ø√∂√º√ø√Ñ√ã√è√ñ√ú≈∏√ß√á√ü√ò√∏√Ö√•√Ü√¶≈ì'`'\\-]+$/;\n        \n        if (typeof input !== 'string' || /\\d/.test(input)) {\n            return false;\n        }\n        var words = input.trim().split(' ').filter(Boolean);\n        if (words.length < 2) {\n            return false;\n        }\n        var fullName = '';\n        for (var i = 0; i < words.length; i++) {\n            var name = words[i];\n            if (!regex.test(name)) {\n                return false;\n            }\n            fullName += name.charAt(0).toUpperCase() + name.slice(1) + ' ';\n        }\n\n        return fullName.trim();\n    } catch (e) {\n        return false;\n    }\n}\n","inputVariables":["input.content"],"outputVariable":"nome","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"407b24c4-1848-4d37-acea-671c2756ac3c","$typeOfContent":"","type":"MergeContact","$title":"Definir contato - nome","$invalid":false,"settings":{"extras":{},"name":"{{nome}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"background":"#FFEC03","label":"script","id":"blip-tag-ae3a595a-b66c-81cc-e3fd-8b0da4e7cc88","canChangeBackground":false},{"id":"blip-tag-d7a632c9-3520-4c71-b0f6-b30821d18868","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-100e47d5-d6c3-4d64-a761-3996fd84aa5f","label":"MergeContact","background":"#FF1E90","canChangeBackground":false},{"id":"blip-tag-e2e8f9ad-7626-4883-87c5-5fa33661b6ce","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-8a799956-7442-468a-a942-5eabb9af1f7d","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"fa4d6312-95ff-4d99-9125-0a6ef6c7e391","root":false,"$title":"Altera: Nome","$position":{"top":"2338.14px","left":"2297px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true,"addonsSettings":{"shape":"3px"}},"8dda1a34-3b18-42cc-892d-25a71a03024a":{"$contentActions":[{"action":{"$id":"4989d4e7-b836-4d51-b679-5aae465773d0","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"b76e660c-c73b-47fc-907d-26940e6d1e4d","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"b76e660c-c73b-47fc-907d-26940e6d1e4d","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ee806a87-9ce5-4d1e-a970-1e12ae40dad2","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"a04c9ec6-2ccf-42b9-bb98-b39be8081937","type":"text/plain","content":"Informe seu novo Estado, dessa forma:\n\n<b>Ex: RJ</b>","metadata":{}},"$cardContent":{"document":{"id":"a04c9ec6-2ccf-42b9-bb98-b39be8081937","type":"text/plain","content":"Informe seu novo Estado, dessa forma:\n\n<b>Ex: RJ</b>"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"74320287-30d1-427f-b5db-f1a07442a1f3","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"45c4b3b7-e5f9-4aee-b6f9-9f79aa3d30bc","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"77219a5e-8ed1-42e3-ae76-ba8ea6b1184b","typeOfStateId":"state","$connId":"con_418","$id":"c67cbc3e-da92-4353-9ead-a11c997c8929","conditions":[{"source":"context","comparison":"notEquals","values":["Input inesperado"],"variable":"validaUf"}],"$isBuilderDefaultOutput":true,"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"6e785695-ddc3-4b09-803a-4f5873fa80cd","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"Executar script - validaUf","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    if (!input || typeof input !== \"string\") return \"Input inesperado\";\n\n    // Lista de siglas v√°lidas do Brasil\n    const siglasValidas = [\n        \"AC\",\"AL\",\"AP\",\"AM\",\"BA\",\"CE\",\"DF\",\"ES\",\"GO\",\"MA\",\"MT\",\"MS\",\n        \"MG\",\"PA\",\"PB\",\"PR\",\"PE\",\"PI\",\"RJ\",\"RN\",\"RS\",\"RO\",\"RR\",\"SC\",\"SP\",\"SE\",\"TO\", \"DF\"\n    ];\n\n    // Normaliza input: remove espa√ßos e coloca em mai√∫scula\n    const uf = input.trim().toUpperCase();\n\n    // Retorna a UF se v√°lida, ou \"Input inesperado\" caso contr√°rio\n    return siglasValidas.includes(uf) ? uf : \"Input inesperado\";\n}","inputVariables":["input.content"],"outputVariable":"validaUf","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"dfaaf6df-236b-40dc-8940-d268c47d0f94","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"MergeContact","$title":"Definir contato - UF","$invalid":false,"settings":{"extras":{"uf":"{{validaUf}}"}},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-a3e3647b-56f2-458b-83c3-dd3db6121783","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-0802d399-c5e9-4475-bb4c-70308d7d613d","label":"MergeContact","background":"#FF1E90","canChangeBackground":false},{"id":"blip-tag-995ba73c-6181-401a-a149-581e53e0f8ba","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-e4166ff9-42a9-40d8-b4f0-052720732e31","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"8dda1a34-3b18-42cc-892d-25a71a03024a","root":false,"$title":"Altera: Estado","$position":{"top":"2324px","left":"2724px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"d46089d6-4789-4f4f-8b2a-2430e9f6a434":{"$contentActions":[{"action":{"$id":"705d8204-157f-4a23-9d00-f8a566b4e6f8","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"1da83a6f-c626-45b7-986a-a23c4fb983e7","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"1da83a6f-c626-45b7-986a-a23c4fb983e7","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"88953d92-52e8-4c87-b229-f2c245600d4a","$typeOfContent":"text","type":"SendMessage","settings":{"id":"2c3121f5-a36d-4c4f-96e2-10e5542035df","type":"text/plain","content":"Informe seu novo telefone com DDD, dessa forma:\n<b>Ex: 21999999999</b>","metadata":{}},"$cardContent":{"document":{"id":"2c3121f5-a36d-4c4f-96e2-10e5542035df","type":"text/plain","content":"Informe seu novo telefone com DDD, dessa forma:\n<b>Ex: 21999999999</b>"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"2e0c1ecf-996c-4e38-9bc6-fc2fb346c8c3","type":"text/plain","textContent":"Entrada do usu√°rio","content":"telefoneNotFormatted"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"telefoneNotFormatted","expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{config.inactivityStateId}}","typeOfStateId":"variable","$id":"55d1195c-d2fe-4793-a0a0-dd2bcccf1b27","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"77219a5e-8ed1-42e3-ae76-ba8ea6b1184b","typeOfStateId":"state","$connId":"con_423","$id":"4427e9fb-9297-4b87-b259-b26eced7532b","conditions":[{"source":"context","comparison":"notEquals","values":["false"],"variable":"telefone"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"4be259a1-f658-4de0-8700-2e4bdaa5f222","$typeOfContent":"","type":"TrackEvent","$title":"Exibi√ß√£o - Entrada","$invalid":false,"settings":{"extras":{"Identificador":"{{contact.identity}}","Nome":"{{contact.name}}","Telefone":"{{contact.phoneNumber}}","Email":"{{contact.email}}"},"action":"Entrada","category":"[{{application.identifier}}][{{state.name}}] Exibi√ß√£o"},"conditions":[]}],"$leavingCustomActions":[{"$id":"b6437777-5097-422a-b4ac-ee4f5b4d0c9b","$typeOfContent":"","type":"ExecuteScript","$title":"Ajusta - telefone","$invalid":false,"settings":{"function":"run","source":"function run(number) {\n  try {\n    if (!number) return false;\n\n    let digits = number.toString().replace(/\\D/g, \"\");\n\n    if (digits.startsWith(\"55\") && digits.length > 10) {\n      digits = digits.slice(2);\n    }\n\n    if (digits.startsWith(\"0\") && digits.length > 10) {\n      digits = digits.slice(1);\n    }\n\n    if (digits.length < 10) return false;\n\n\n    return digits;\n\n  } catch (e) {\n    return false;\n  }\n}\n","inputVariables":["input.content"],"outputVariable":"telefone","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"5a848105-cab1-4c99-a1ac-ccd841d54f94","$typeOfContent":"","type":"MergeContact","$title":"Definir contato - telefone","$invalid":false,"settings":{"extras":{},"phoneNumber":"{{telefone}}"},"conditions":[]},{"$id":"2d3cd994-8828-45a1-8fc1-acf4b90bcf8e","$typeOfContent":"","type":"TrackEvent","$title":"Exibi√ß√£o - Saida","$invalid":false,"settings":{"extras":{"Identificador":"{{contact.identity}}","Nome":"{{contact.name}}","Telefone":"{{contact.phoneNumber}}","Email":"{{contact.email}}"},"action":"Saida","category":"[{{application.identifier}}][{{state.name}}] Exibi√ß√£o"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"background":"#FFEC03","label":"script","id":"blip-tag-ae3a595a-b66c-81cc-e3fd-8b0da4e7cc88","canChangeBackground":false},{"id":"blip-tag-720b3f58-f16d-4dc5-a911-9dc42f2f02b1","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-97b0b57b-819d-4510-8c00-06c71d23aebe","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-5675c33b-3992-4420-903d-d8de07ff2676","label":"MergeContact","background":"#FF1E90","canChangeBackground":false},{"id":"blip-tag-7f82a8d2-de94-42f3-a8c9-5ca6970036d0","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-618beb59-1adc-4970-af97-c0834b613d82","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"d46089d6-4789-4f4f-8b2a-2430e9f6a434","root":false,"$title":"Altera: Telefone","$position":{"top":"2345px","left":"2518.43px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true},"77219a5e-8ed1-42e3-ae76-ba8ea6b1184b":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"3c9ad21e-e731-4899-8520-4a5e4800ea51","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"cac38f2b-93eb-4e3e-981d-fe5040e272fb","typeOfStateId":"state","$connId":"con_428","$id":"5d296e5d-577c-413b-aad5-1936324b8349","conditions":[{"source":"context","comparison":"startsWith","values":["2"],"variable":"statusAtualizaUsuario"}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"65f9980f-4d05-4f58-b344-d477e0793d19","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"body - Atualiza usu√°rio","$invalid":false,"settings":{"function":"run","source":"function run(nome, telefone, estado) {\n    return {\n        nome: nome,\n        telefone: telefone,\n        estado: estado\n    };\n}\n","inputVariables":["contact.name","contact.phoneNumber","contact.extras.uf"],"outputVariable":"bodyAtualiza","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"c9823ecd-2a07-44d5-a6aa-0ff560036c77","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ProcessHttp","$title":"HTTP - Atualiza Usu√°rio","$invalid":false,"settings":{"headers":{"Content-Type":"application/json","x-api-key":"{{config.apiKey}}"},"method":"PUT","uri":"{{config.urlClientes}}/{{cpfValido@input}}","responseStatusVariable":"statusAtualizaUsuario","responseBodyVariable":"responseAtualizaUsuario","body":"{{bodyAtualiza}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-38e849d1-19b7-4c8b-8bd1-81c4b35965d7","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-8be3ce30-eb07-443c-8d03-85642773d82a","label":"ProcessHttp","background":"#ff0000","canChangeBackground":false}],"id":"77219a5e-8ed1-42e3-ae76-ba8ea6b1184b","root":false,"$title":"[API] PUT - Atualiza Usu√°rio","$position":{"top":"2497px","left":"2517px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"50% 0 50% 0","backgroundColor":"#3f0323","commentsIdList":[]}},"cac38f2b-93eb-4e3e-981d-fe5040e272fb":{"$contentActions":[{"action":{"$id":"360fc047-1b3f-487c-835b-a47e6c9ec31c","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"9f20d0dc-6d53-4e45-a3a1-3b09f57b9d9b","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"9f20d0dc-6d53-4e45-a3a1-3b09f57b9d9b","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"dfbb0eeb-e0be-4279-8572-a3779fc83c6d","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"1c004937-8dec-4275-ba4d-5600c320064c","type":"text/plain","content":"Nesta etapa, √© feita a <b>requisi√ß√£o de atualiza√ß√£o</b> de um cadastro existente.\n\nO bot verifica se o <b>CPF informado<b> est√° presente no banco de dados. Se sim, ele atualiza as informa√ß√µes solicitadas, enviando no <b>body da requisi√ß√£o</b> os novos dados a serem gravados.\n\n <b>* Endpoint: </b> https://projetotccapi.onrender.com/api/v1/clientes/{{cpf}}\n <b>* M√©todo: </b> PUT","metadata":{}},"$cardContent":{"document":{"id":"1c004937-8dec-4275-ba4d-5600c320064c","type":"text/plain","content":"Nesta etapa, √© feita a <b>requisi√ß√£o de atualiza√ß√£o</b> de um cadastro existente.\n\nO bot verifica se o <b>CPF informado<b> est√° presente no banco de dados. Se sim, ele atualiza as informa√ß√µes solicitadas, enviando no <b>body da requisi√ß√£o</b> os novos dados a serem gravados.\n\n <b>* Endpoint: </b> https://projetotccapi.onrender.com/api/v1/clientes/{{cpf}}\n <b>* M√©todo: </b> PUT"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"125644e5-0455-4c94-8c28-f05119bf7dd0","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"77986a9c-f27b-459a-a524-b5277c80ff1d","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"77986a9c-f27b-459a-a524-b5277c80ff1d","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"83032c9d-d0b9-4fa1-aa26-aac25d2539ad","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"0ba89a9b-ff6a-4f49-93df-8d6e663822bc","type":"text/plain","content":"Abaixo segue o retorno da response da nossa requisi√ß√£o:\n\n{{responseAtualizaUsuario}}","metadata":{}},"$cardContent":{"document":{"id":"0ba89a9b-ff6a-4f49-93df-8d6e663822bc","type":"text/plain","content":"Abaixo segue o retorno da response da nossa requisi√ß√£o:\n\n{{responseAtualizaUsuario}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"29de6697-c57e-4291-a4ba-f7346b797acc","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"13209d62-b1da-4e55-8928-0654686eebe9","typeOfStateId":"state","$connId":"con_433","$id":"3fa2a92f-c81f-4393-b147-c7e30c28c764","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"c897792f-973d-4c54-b757-79c1cde2b6ef","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-5ee9e9c0-8a49-4318-845a-939cc2eb890f","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"cac38f2b-93eb-4e3e-981d-fe5040e272fb","root":false,"$title":"Explica etapa: [API] PUT - Atualiza Usu√°rio","$position":{"top":"2666.43px","left":"2517.43px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"13209d62-b1da-4e55-8928-0654686eebe9":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"3c9ad21e-e731-4899-8520-4a5e4800ea51","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"636f2720-706d-4af8-bcf8-4a00642ba4d6","typeOfStateId":"state","$connId":"con_438","$id":"5d296e5d-577c-413b-aad5-1936324b8349","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"c9823ecd-2a07-44d5-a6aa-0ff560036c77","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ProcessHttp","$title":"HTTP - Consulta Usu√°rio","$invalid":false,"settings":{"headers":{"Content-Type":"application/json","x-api-key":"{{config.apiKey}}"},"method":"GET","uri":"{{config.urlClientes}}/{{cpfValido@input}}","responseStatusVariable":"statusConsultaUsuario","responseBodyVariable":"responseConsultaUsuario"},"conditions":[]},{"$id":"946b55d3-a040-4814-96bd-f834a7c053bc","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"Process - dadosConsulta","$invalid":false,"settings":{"function":"run","source":"function run(responseConsultaUsuario) {\n\ttry {\n\t\tif (typeof responseConsultaUsuario === \"string\") {\n\t\t\tresponseConsultaUsuario = JSON.parse(responseConsultaUsuario);\n\t\t}\n\t\tif (!responseConsultaUsuario.success) {\n\t\t\treturn { success: false, error: responseConsultaUsuario.message || \"Erro na API\" };\n\t\t}\n\t\tif (!responseConsultaUsuario.data) {\n\t\t\treturn { success: false, error: \"Dados do cliente n√£o encontrados\" };\n\t\t}\n\n\t\tconst data = responseConsultaUsuario.data;\n\n\t\treturn {\n\t\t\tsuccess: true,\n\t\t\tnome: validateNullFromApi(data.nome, \"N√£o informado\"),\n\t\t\tcpf: validateNullFromApi(data.cpf, \"N√£o informado\"),\n\t\t\ttelefone: validateNullFromApi(data.telefone, \"N√£o informado\"),\n\t\t\testado: validateNullFromApi(data.estado, \"N√£o informado\")\n\t\t};\n\n\t} catch (err) {\n\t\treturn { success: false, error: \"Erro inesperado\", details: err.message };\n\t}\n}\n\n// Fun√ß√£o auxiliar\nfunction validateNullFromApi(val, valIfNotExists = \"\") {\n\treturn val == null || val === \"NULL\" ? valIfNotExists : val;\n}\n\n","inputVariables":["responseConsultaUsuario"],"outputVariable":"dadosConsulta","LocalTimeZoneEnabled":false},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"636f2720-706d-4af8-bcf8-4a00642ba4d6","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-92d7710e-88b1-4585-aa07-bd110ba5e319","label":"ProcessHttp","background":"#ff0000","canChangeBackground":false},{"id":"blip-tag-1971f2bc-402b-4178-ae8f-a59d6acfd64b","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false}],"id":"13209d62-b1da-4e55-8928-0654686eebe9","root":false,"$title":"[API] GET - Consulta Usu√°rio Ok","$position":{"top":"2865px","left":"2518px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"50% 0 50% 0","backgroundColor":"#3e0621","commentsIdList":[]}},"636f2720-706d-4af8-bcf8-4a00642ba4d6":{"$contentActions":[{"action":{"$id":"9c07b583-53ad-4267-b6e1-204d4d66394f","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"27e9d69a-8d93-4cfb-94df-09cdc7010372","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"27e9d69a-8d93-4cfb-94df-09cdc7010372","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"0d0e8bf2-0040-4e51-8d53-43f95235508e","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"e6264798-5eeb-438f-b8f8-981cc06f0e3f","type":"text/plain","content":"Ap√≥s a atualiza√ß√£o, √© realizada novamente a <b>requisi√ß√£o de consulta</b> para conferir se as altera√ß√µes foram aplicadas corretamente.\n\nO bot resgata o CPF e o envia ao endpoint com o m√©todo <b>GET,</b> permitindo visualizar as informa√ß√µes j√° corrigidas no sistema.\n\n<b>Endpoint:</b> https://projetotccapi.onrender.com/api/v1/clientes/{{cpf}}\n<b>M√©todo:</b> GET\n\n<b>Obs.:</b> Neste projeto, tamb√©m √© utilizada uma API Key.","metadata":{}},"$cardContent":{"document":{"id":"e6264798-5eeb-438f-b8f8-981cc06f0e3f","type":"text/plain","content":"Ap√≥s a atualiza√ß√£o, √© realizada novamente a <b>requisi√ß√£o de consulta</b> para conferir se as altera√ß√µes foram aplicadas corretamente.\n\nO bot resgata o CPF e o envia ao endpoint com o m√©todo <b>GET,</b> permitindo visualizar as informa√ß√µes j√° corrigidas no sistema.\n\n<b>Endpoint:</b> https://projetotccapi.onrender.com/api/v1/clientes/{{cpf}}\n<b>M√©todo:</b> GET\n\n<b>Obs.:</b> Neste projeto, tamb√©m √© utilizada uma API Key."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"c7c24272-8f8b-40e9-8728-acfaed79ce4a","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"cebd2686-92ef-4581-86c1-1a6f526e911d","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"cebd2686-92ef-4581-86c1-1a6f526e911d","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"25d2bc46-0e24-4b92-a0ca-998c893998d0","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"681566a1-84c7-4cc5-bd08-dd3679fb66a0","type":"text/plain","content":"Abaixo segue o retorno da response da nossa requisi√ß√£o:\n\n{{responseConsultaUsuario}}","metadata":{}},"$cardContent":{"document":{"id":"681566a1-84c7-4cc5-bd08-dd3679fb66a0","type":"text/plain","content":"Abaixo segue o retorno da response da nossa requisi√ß√£o:\n\n{{responseConsultaUsuario}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"4e652cb8-3b46-4712-9ab2-45129c216b41","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"typeOfStateId":"state","$id":"47e3f0b7-9b97-4c12-896c-e1bb3542b841","conditions":[{"source":"context","comparison":"startsWith","values":["2"],"variable":"statusConsultaUsuario"}],"$isBuilderDefaultOutput":true,"$invalid":false,"stateId":"c897792f-973d-4c54-b757-79c1cde2b6ef","$connId":"con_443"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-2899e0c2-f39d-4788-90a0-ca90c943e482","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"636f2720-706d-4af8-bcf8-4a00642ba4d6","root":false,"$title":"Explica etapa: [API] GET - Consulta Ussu√°rio ok","$position":{"top":"3078px","left":"2520px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"40b9338d-f48a-451a-a1cb-3972b3f3905f":{"$contentActions":[{"action":{"$id":"e59b792e-1bfd-4434-a15c-ba9dcf454174","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"2cfb586f-c136-4361-947f-af799efaea28","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"2cfb586f-c136-4361-947f-af799efaea28","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"31002c25-f66c-47ea-b185-7792c8811141","$typeOfContent":"raw-content","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendRawMessage","settings":{"metadata":{},"type":"text/plain","rawContent":"{{respostaFormatada}}"}},"$invalid":false},{"action":{"$id":"0e595f57-45e8-407c-a301-6b6daaf790cb","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"a86cdaec-090d-41d8-9285-28c50d45e28d","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a86cdaec-090d-41d8-9285-28c50d45e28d","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"5c0d46da-a3c3-4a17-8dae-9da833773062","$typeOfContent":"raw-content","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendRawMessage","settings":{"metadata":{},"type":"text/plain","rawContent":"{{fonteFormatada}}"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"97c85604-7f2d-4b6f-bd53-ff6f4fc68878","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"3142fc21-e250-422d-a914-4d0e8224e3e3","typeOfStateId":"state","$connId":"con_448","$id":"c86ca49f-943c-455b-adb2-539df31bc7f4","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"f7cb3303-2d76-4bd8-b1f3-5fab7868688d","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"Executar script - answerQuestion","$invalid":false,"settings":{"function":"run","source":"function run(responsePesquisa, questionId) {\n    try {\n        // Se responsePesquisa vier como string, faz o parse\n        var pesquisa = (typeof responsePesquisa === \"string\") ? JSON.parse(responsePesquisa) : responsePesquisa;\n\n        // Percorre a lista procurando pelo id igual ao questionId\n        for (var i = 0; i < pesquisa.data.length; i++) {\n            var item = pesquisa.data[i];\n            if (item.id == questionId) {\n                return {\n                    resposta: item.resposta,\n                    fonte: item.fonte\n                };\n            }\n        }\n\n        // Caso n√£o encontre\n        return {\n            resposta: \"Resposta n√£o encontrada\",\n            fonte: \"\"\n        };\n\n    } catch (e) {\n        return {\n            resposta: \"Erro ao processar responsePesquisa\",\n            fonte: \"\"\n        };\n    }\n}","inputVariables":["responsePesquisa","questionId"],"outputVariable":"answerQuestion","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"fa6e6be6-4f53-4b4f-acf9-9f060c5e1e58","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - resposta","$invalid":false,"settings":{"value":"{{answerQuestion@resposta}}","variable":"resposta"},"conditions":[]},{"$id":"c542396e-200d-4422-980e-6a328c037930","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - fonte","$invalid":false,"settings":{"value":"{{answerQuestion@fonte}}","variable":"fonte"},"conditions":[]},{"$id":"e2cf9176-ebbb-45f5-8ac1-5cc5c1965c6b","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"Executar script - respostaFormatada","$invalid":false,"settings":{"function":"run","source":"// function run(resposta) {\n//     try {\n//         if (typeof resposta === \"string\" && resposta.trim().startsWith(\"{\")) {\n//             resposta = JSON.parse(resposta);\n//             return resposta.result;\n//         }\n//         return resposta; // j√° √© texto, apenas retorna\n//     } catch (e) {\n//         return \"Erro ao formatar resposta\";\n//     }\n// }\n\nfunction run(resposta) {\n    try {\n        if (typeof resposta === \"string\" && resposta.trim().startsWith(\"{\")) {\n            resposta = JSON.parse(resposta);\n            resposta = resposta.result;\n        }\n        // Substitui \\n duplo ou simples representados como \\\\n\n        if (typeof resposta === \"string\") {\n            resposta = resposta.replace(/\\\\n/g, \"\\n\");\n        }\n        return resposta;\n    } catch (e) {\n        return \"Erro ao formatar resposta\";\n    }\n}\n\n","inputVariables":["resposta"],"outputVariable":"respostaFormatada","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"65a19938-4de7-4e7f-b653-2bc590e5f391","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"Executar script - fonteFormatada","$invalid":false,"settings":{"function":"run","source":"function run(fonte) {\n    try {\n        if (typeof fonte === \"string\" && fonte.trim().startsWith(\"{\")) {\n            fonte = JSON.parse(fonte);\n            fonte = fonte.result;\n        }\n        // Substitui \\n duplo ou simples representados como \\\\n\n        if (typeof fonte === \"string\") {\n            fonte = fonte.replace(/\\\\n/g, \"\\n\");\n        }\n        return fonte;\n    } catch (e) {\n        return \"Erro ao formatar fonte\";\n    }\n}\n","inputVariables":["fonte"],"outputVariable":"fonteFormatada","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"6362345a-f89d-43d0-9d21-2ab00a56ddfa","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-4ad8ca1f-5b15-4725-9fc7-dd01a006fcf4","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-976315ec-d61f-4d1d-bb01-a5c8e39b306c","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-5f427289-f746-4d03-b9d5-6e3e5553b9a9","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"40b9338d-f48a-451a-a1cb-3972b3f3905f","root":false,"$title":"Processa e responde","$position":{"top":"1778px","left":"938px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"c52830fc-03d8-45e0-a56d-e572777f53fc":{"$contentActions":[{"action":{"$id":"b053b59d-e6c2-404d-aba2-97e5d155ff1e","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"a57c896a-e0d6-4381-80a3-e55cf2035104","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a57c896a-e0d6-4381-80a3-e55cf2035104","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"5f141ee6-378a-41b5-8754-f55ffc914edd","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"5b48a960-d5e8-48aa-88ee-59e5c3aeae92","type":"text/plain","content":"Estamos passando por atualiza√ß√µes no sistema para melhor atend√™-lo.\n\nPedimos desculpas pelo ocorrido!\n\nRetorne mais tarde!\nEstarei por aqui para te orientar.\n\nAt√© l√°!","metadata":{}},"$cardContent":{"document":{"id":"5b48a960-d5e8-48aa-88ee-59e5c3aeae92","type":"text/plain","content":"Estamos passando por atualiza√ß√µes no sistema para melhor atend√™-lo.\n\nPedimos desculpas pelo ocorrido!\n\nRetorne mais tarde!\nEstarei por aqui para te orientar.\n\nAt√© l√°!"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"080bcf4d-d280-491d-952c-36bd8cce1f32","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"f1d968ea-1b9a-403f-b832-9dc749bd86cd","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fa5b74cc-4990-4966-90db-ef0bde3351cb","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-b29e5cc2-1694-46c1-b54c-632e4a77c9b9","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-59cf16f0-9c66-498a-b81e-bd4041e6aeb4","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"c52830fc-03d8-45e0-a56d-e572777f53fc","root":false,"$title":"Error - API","$position":{"top":"174.111px","left":"1998px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"5698fca8-6b9d-4a24-85e0-13ecdecb4b61":{"$contentActions":[{"action":{"$id":"39196713-3288-4e1d-99a1-46bec29415aa","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"d74afb46-3539-4794-bb9d-583380987492","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d74afb46-3539-4794-bb9d-583380987492","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"8a85113a-3161-494f-870c-a27916621b17","$typeOfContent":"text","type":"SendMessage","settings":{"id":"65bc9bdb-0d6d-434e-a967-a627a1940651","type":"text/plain","content":"Desculpe, realmente n√£o estou conseguindo entender o que gostaria de fazer.\n\nEstarei encerrando nossa conversa por aqui, caso precise basta enviar um oi. üòä","metadata":{}},"$cardContent":{"document":{"id":"65bc9bdb-0d6d-434e-a967-a627a1940651","type":"text/plain","content":"Desculpe, realmente n√£o estou conseguindo entender o que gostaria de fazer.\n\nEstarei encerrando nossa conversa por aqui, caso precise basta enviar um oi. üòä"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"5673bf55-031e-4137-aae9-5cb8c13ef671","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"d2051b50-745b-4b17-8158-50db102eba96","$typeOfContent":"","type":"TrackEvent","$title":"Finaliza Algo Mais - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Finaliza Algo Mais - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"$invalid":false,"typeOfStateId":"state","stateId":"fa5b74cc-4990-4966-90db-ef0bde3351cb"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-341d2398-3bdd-4ab2-9398-6f54c0ad514d","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-1787660b-eadc-4790-8935-9b5f9cfa880f","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"5698fca8-6b9d-4a24-85e0-13ecdecb4b61","root":false,"$title":"Finaliza√ß√£o - Erro persistente","$position":{"top":"467.111px","left":"2227px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true,"addonsSettings":{"shape":"50%","backgroundColor":"#07445e","commentsIdList":[]}},"de4a55fa-d3ff-48cf-8642-0b22b525af83":{"$contentActions":[{"action":{"$id":"b053b59d-e6c2-404d-aba2-97e5d155ff1e","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"a57c896a-e0d6-4381-80a3-e55cf2035104","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a57c896a-e0d6-4381-80a3-e55cf2035104","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"5f141ee6-378a-41b5-8754-f55ffc914edd","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"5b48a960-d5e8-48aa-88ee-59e5c3aeae92","type":"text/plain","content":"Desculpe, n√£o consegui entender sua mensagem.\n\nPor favor, escolha uma op√ß√£o no menu! üòä","metadata":{}},"$cardContent":{"document":{"id":"5b48a960-d5e8-48aa-88ee-59e5c3aeae92","type":"text/plain","content":"Desculpe, n√£o consegui entender sua mensagem.\n\nPor favor, escolha uma op√ß√£o no menu! üòä"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"080bcf4d-d280-491d-952c-36bd8cce1f32","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"f1d968ea-1b9a-403f-b832-9dc749bd86cd","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"{{currentBlock}}","$invalid":false,"typeOfStateId":"variable"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-4c4362e7-a203-4ae0-838d-627b7d7f115b","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-ece40d61-d717-414e-868d-70135319dbac","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"de4a55fa-d3ff-48cf-8642-0b22b525af83","root":false,"$title":"Error - Menu","$position":{"top":"179px","left":"2453px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"b381b050-7ffc-4cd8-ae69-84655b6a67c4":{"$contentActions":[{"action":{"$id":"b053b59d-e6c2-404d-aba2-97e5d155ff1e","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"a57c896a-e0d6-4381-80a3-e55cf2035104","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a57c896a-e0d6-4381-80a3-e55cf2035104","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"5f141ee6-378a-41b5-8754-f55ffc914edd","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"5b48a960-d5e8-48aa-88ee-59e5c3aeae92","type":"text/plain","content":"Ops!\nConfira se digitou o <b>n√∫mero correto do seu CPF,</b> por favor.\n\nVamos tentar de novo.","metadata":{}},"$cardContent":{"document":{"id":"5b48a960-d5e8-48aa-88ee-59e5c3aeae92","type":"text/plain","content":"Ops!\nConfira se digitou o <b>n√∫mero correto do seu CPF,</b> por favor.\n\nVamos tentar de novo."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"080bcf4d-d280-491d-952c-36bd8cce1f32","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"f1d968ea-1b9a-403f-b832-9dc749bd86cd","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"{{currentBlock}}","$invalid":false,"typeOfStateId":"variable"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-a509a689-a6bc-4fb5-be27-d4d4f1bbe7b5","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-190edbc5-d7d2-4ffd-92e2-3680e41379e2","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"b381b050-7ffc-4cd8-ae69-84655b6a67c4","root":false,"$title":"Error - CPF","$position":{"top":"407px","left":"1996px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"b41d6070-f123-4ea4-b563-9de2d79400e0":{"$contentActions":[{"action":{"$id":"b053b59d-e6c2-404d-aba2-97e5d155ff1e","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"a57c896a-e0d6-4381-80a3-e55cf2035104","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a57c896a-e0d6-4381-80a3-e55cf2035104","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"5f141ee6-378a-41b5-8754-f55ffc914edd","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"5b48a960-d5e8-48aa-88ee-59e5c3aeae92","type":"text/plain","content":"Ops!\n\nConfira se digitou o n√∫mero correto do seu telefone, por favor.\n\nVamos tentar de novo.","metadata":{}},"$cardContent":{"document":{"id":"5b48a960-d5e8-48aa-88ee-59e5c3aeae92","type":"text/plain","content":"Ops!\n\nConfira se digitou o n√∫mero correto do seu telefone, por favor.\n\nVamos tentar de novo."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"080bcf4d-d280-491d-952c-36bd8cce1f32","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"f1d968ea-1b9a-403f-b832-9dc749bd86cd","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"{{currentBlock}}","$invalid":false,"typeOfStateId":"variable"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-d06b0195-9f40-4c5a-8962-63af23c69bc8","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-17730597-e5e4-412c-9bd8-3f93aa94e728","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"b41d6070-f123-4ea4-b563-9de2d79400e0","root":false,"$title":"Error - Telefone","$position":{"top":"406px","left":"2454.78px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"75bc93ca-bdb0-4d7e-8d15-9c2223432af6":{"$contentActions":[{"action":{"$id":"b053b59d-e6c2-404d-aba2-97e5d155ff1e","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"a57c896a-e0d6-4381-80a3-e55cf2035104","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a57c896a-e0d6-4381-80a3-e55cf2035104","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"5f141ee6-378a-41b5-8754-f55ffc914edd","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"5b48a960-d5e8-48aa-88ee-59e5c3aeae92","type":"text/plain","content":"Ops!\nConfira se digitou seu <b>nome completo</b> devidamente, por favor.\n\nVamos tentar de novo.","metadata":{}},"$cardContent":{"document":{"id":"5b48a960-d5e8-48aa-88ee-59e5c3aeae92","type":"text/plain","content":"Ops!\nConfira se digitou seu <b>nome completo</b> devidamente, por favor.\n\nVamos tentar de novo."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"080bcf4d-d280-491d-952c-36bd8cce1f32","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"f1d968ea-1b9a-403f-b832-9dc749bd86cd","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"{{currentBlock}}","$invalid":false,"typeOfStateId":"variable"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-aaa782ad-6408-4ebc-8a11-36047b70670d","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-6bcd40ed-d9ef-4171-be98-fa1a2e473456","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"75bc93ca-bdb0-4d7e-8d15-9c2223432af6","root":false,"$title":"Error - Nome","$position":{"top":"292px","left":"1998px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"34805a0d-d1ae-4372-a21e-5397517690e2":{"$contentActions":[{"action":{"$id":"b053b59d-e6c2-404d-aba2-97e5d155ff1e","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"a57c896a-e0d6-4381-80a3-e55cf2035104","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a57c896a-e0d6-4381-80a3-e55cf2035104","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"5f141ee6-378a-41b5-8754-f55ffc914edd","$typeOfContent":"text","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"5b48a960-d5e8-48aa-88ee-59e5c3aeae92","type":"text/plain","content":"Ops!\nConfira se digitou a <b>sigla do seu Estado</b> devidamente, por favor.\n\nVamos tentar de novo.","metadata":{}},"$cardContent":{"document":{"id":"5b48a960-d5e8-48aa-88ee-59e5c3aeae92","type":"text/plain","content":"Ops!\nConfira se digitou a <b>sigla do seu Estado</b> devidamente, por favor.\n\nVamos tentar de novo."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"080bcf4d-d280-491d-952c-36bd8cce1f32","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"f1d968ea-1b9a-403f-b832-9dc749bd86cd","$typeOfContent":"","type":"TrackEvent","$title":"Quis comecar - Exibicao","$invalid":false,"settings":{"extras":{},"category":"Quis comecar - Exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"{{currentBlock}}","$invalid":false,"typeOfStateId":"variable"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-9fff79de-7c32-423e-88ef-cdf3b895f0b0","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-553a7883-4ca0-4642-8f33-4922e15910f4","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"34805a0d-d1ae-4372-a21e-5397517690e2","root":false,"$title":"Error - UF","$position":{"top":"292px","left":"2455.11px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"c3f2a9fd-39ba-4abf-8b77-dbda17822d52":{"$contentActions":[{"action":{"$id":"9f4700a1-2207-41fc-a485-07e04f456fc8","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"e50c55d7-e88c-4f2f-b4e3-b78891bab2b0","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":"1000"},"metadata":{}},"$cardContent":{"document":{"id":"e50c55d7-e88c-4f2f-b4e3-b78891bab2b0","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":"1000"}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"a1c6e5d7-c052-4f6c-a4bd-525ce6841cbd","$typeOfContent":"select","type":"SendMessage","settings":{"id":"dea302ac-5d00-429b-ab8a-159aca83e316","type":"application/vnd.lime.select+json","content":{"text":"Ol√°!\n\nVoc√™ ainda est√° dispon√≠vel para continuar seus estudos sobre <b>Governan√ßa e Estrutura√ß√£o de APIs REST em Plataformas Conversacionais.</b>\n\nCaso esteja, por favor, clique em <b>Continuar</b> para que possamos seguir com a nossa conversa! üòä\n\nSe j√° sanou todas as suas d√∫vidas √© s√≥ clicar em <b>Encerrar.</b>","options":[{"text":"Continuar","previewText":"Continuar","value":null,"index":0,"type":null},{"text":"Encerrar","previewText":"Encerrar","value":null,"index":1,"type":null}],"limitMenu":false},"metadata":{}},"$cardContent":{"document":{"id":"dea302ac-5d00-429b-ab8a-159aca83e316","type":"application/vnd.lime.select+json","content":{"text":"Ol√°!\n\nVoc√™ ainda est√° dispon√≠vel para continuar seus estudos sobre <b>Governan√ßa e Estrutura√ß√£o de APIs REST em Plataformas Conversacionais.</b>\n\nCaso esteja, por favor, clique em <b>Continuar</b> para que possamos seguir com a nossa conversa! üòä\n\nSe j√° sanou todas as suas d√∫vidas √© s√≥ clicar em <b>Encerrar.</b>","options":[{"text":"Continuar","previewText":"Continuar","value":null,"index":0,"type":null},{"text":"Encerrar","previewText":"Encerrar","value":null,"index":1,"type":null}],"limitMenu":false}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"52fa24d0-7601-4e51-b776-fbe8782895b8","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:10"},"$invalid":false}],"$conditionOutputs":[{"stateId":"669bd6a2-b8d0-453f-ad12-47809b99fc08","typeOfStateId":"state","$connId":"con_453","$id":"ee6c9103-8071-4688-941c-6ae42a24ff22","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"9bd4007a-1378-4c47-b71b-01bb251116cc","typeOfStateId":"state","$connId":"con_458","$id":"c8146d75-c905-403d-8465-ac62f9e678ca","conditions":[{"source":"context","comparison":"equals","values":["Continuar"],"variable":"intentAction"}],"$isBuilderDefaultOutput":true,"$invalid":false},{"stateId":"669bd6a2-b8d0-453f-ad12-47809b99fc08","typeOfStateId":"state","$connId":"con_463","$contentId":"a1c6e5d7-c052-4f6c-a4bd-525ce6841cbd","$id":"9a4d3105-cbab-4eab-aaf3-74971903d97d","conditions":[{"source":"context","comparison":"equals","values":["Encerrar"],"variable":"intentAction"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"f61e3f89-7890-4928-ba83-a5b36c903bbd","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - currentBlock","$invalid":false,"settings":{"variable":"currentBlock","value":"{{state.id}}"},"conditions":[]},{"$id":"50a47058-37c0-4331-8945-5d1176e010ec","$typeOfContent":"","type":"TrackEvent","$title":"Menu Inicial - Exibi√ß√£o","$invalid":false,"settings":{"extras":{"sessionId":"{{contact.extras.sessionId}}"},"category":"Menu Inicial - Exibi√ß√£o","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"165076f2-ea2d-4109-89f6-32eeb52f097b","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"intentAction\"","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n    const opcoesMenu = {\n        \"1\": \"Continuar\",\n        \"2\": \"Encerrar\",  \n    };\n\n    const menuStrings = {\n        \"1\": [\"Continuar\", \"1\"],\n        \"2\": [ \"Encerrar\", \"2\"],\n    };\n\n    // Verifique se input n√£o √© null ou undefined\n    if (input == null) {\n        return \"Input inesperado\";\n    }\n\n    // Converte a entrada para min√∫sculas\n    input = input.toLowerCase();\n\n    for (const prop in menuStrings) {\n        const options = menuStrings[prop];\n        // Use o m√©todo some para verificar se o input est√° nas op√ß√µes\n        const match = options.some(option => input === option.toLowerCase());\n        if (match) {\n            return opcoesMenu[prop];\n        }\n    }\n\n    return \"Input inesperado\";\n}\n\n","inputVariables":["input.content"],"outputVariable":"intentAction","LocalTimeZoneEnabled":false},"conditions":[{"source":"input","comparison":"exists","values":[]}]},{"$id":"34cb37ec-944d-459d-9c33-7975587fc85f","$typeOfContent":"","type":"TrackEvent","$title":"Menu Inicial - input","$invalid":false,"settings":{"extras":{"sessionId":"{{contact.extras.sessionId}}"},"category":"Menu Inicial - input","action":"{{intentAction}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"notEquals"}]},{"$id":"48335350-ba08-4ec0-b782-39872c399417","$typeOfContent":"","type":"TrackEvent","$title":"Menu Inicial - input inesperado","$invalid":false,"settings":{"extras":{"sessionId":"{{contact.extras.sessionId}}"},"category":"Menu Inicial - input inesperado","action":"{{input.content}}"},"conditions":[{"values":[],"source":"input","comparison":"exists"},{"values":["Input inesperado"],"source":"context","variable":"intentAction","comparison":"equals"}]}],"$inputSuggestions":["Continuar","Encerrar"],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"id":"blip-tag-3dc91361-8c71-4391-8e69-b078bc8869e8","label":"SetVariable","background":"#9900ef","canChangeBackground":false},{"id":"blip-tag-f8f1819a-8565-47bd-bb4e-73bd7b2aeebb","label":"TrackEvent","background":"#7bdcb5","canChangeBackground":false},{"id":"blip-tag-edd9be1c-5e17-4c2f-927a-0847c4743331","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false},{"id":"blip-tag-64e69101-e4b6-4e8b-94cf-57ad2193df72","label":"SendMessage","background":"#EE82EE","canChangeBackground":false},{"id":"blip-tag-c0040bba-4847-41c3-956a-023738a0ca33","label":"UserInput","background":"#2196f3","canChangeBackground":false}],"id":"c3f2a9fd-39ba-4abf-8b77-dbda17822d52","root":false,"$title":"Inatividade","$position":{"top":"318px","left":"1571px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"invalidOutputs":true,"isAiGenerated":false,"addonsSettings":{"backgroundColor":"#455a64","commentsIdList":[]}},"a25287ac-9772-4820-bee9-355e1db1b90c":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"3c9ad21e-e731-4899-8520-4a5e4800ea51","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"c897792f-973d-4c54-b757-79c1cde2b6ef","typeOfStateId":"state","$connId":"con_468","$id":"5d296e5d-577c-413b-aad5-1936324b8349","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"c9823ecd-2a07-44d5-a6aa-0ff560036c77","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ProcessHttp","$title":"HTTP - Consulta Usu√°rio","$invalid":false,"settings":{"headers":{"Content-Type":"application/json","x-api-key":"{{config.apiKey}}"},"method":"GET","uri":"{{config.urlClientes}}/{{cpfValido@input}}","responseStatusVariable":"statusConsultaUsuario","responseBodyVariable":"responseConsultaUsuario"},"conditions":[]},{"$id":"946b55d3-a040-4814-96bd-f834a7c053bc","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"ExecuteScript","$title":"Process - dadosConsulta","$invalid":false,"settings":{"function":"run","source":"function run(responseConsultaUsuario) {\n\ttry {\n\t\tif (typeof responseConsultaUsuario === \"string\") {\n\t\t\tresponseConsultaUsuario = JSON.parse(responseConsultaUsuario);\n\t\t}\n\t\tif (!responseConsultaUsuario.success) {\n\t\t\treturn { success: false, error: responseConsultaUsuario.message || \"Erro na API\" };\n\t\t}\n\t\tif (!responseConsultaUsuario.data) {\n\t\t\treturn { success: false, error: \"Dados do cliente n√£o encontrados\" };\n\t\t}\n\n\t\tconst data = responseConsultaUsuario.data;\n\n\t\treturn {\n\t\t\tsuccess: true,\n\t\t\tnome: validateNullFromApi(data.nome, \"N√£o informado\"),\n\t\t\tcpf: validateNullFromApi(data.cpf, \"N√£o informado\"),\n\t\t\ttelefone: validateNullFromApi(data.telefone, \"N√£o informado\"),\n\t\t\testado: validateNullFromApi(data.estado, \"N√£o informado\")\n\t\t};\n\n\t} catch (err) {\n\t\treturn { success: false, error: \"Erro inesperado\", details: err.message };\n\t}\n}\n\n// Fun√ß√£o auxiliar\nfunction validateNullFromApi(val, valIfNotExists = \"\") {\n\treturn val == null || val === \"NULL\" ? valIfNotExists : val;\n}\n\n","inputVariables":["responseConsultaUsuario"],"outputVariable":"dadosConsulta","LocalTimeZoneEnabled":false},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"e2cbbd3a-7908-4b88-bf6a-0718739010f3","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-dab4435d-a060-4bac-a164-cc2daa44724f","label":"ProcessHttp","background":"#ff0000","canChangeBackground":false},{"id":"blip-tag-8dd2e5f4-7d3e-4f25-b3d2-d7aa3f1a91f3","label":"ExecuteScript","background":"#1976d2","canChangeBackground":false}],"id":"a25287ac-9772-4820-bee9-355e1db1b90c","root":false,"$title":"[API] GET - Consulta Usu√°rio","$position":{"top":"3119px","left":"3401px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"50% 0 50% 0","backgroundColor":"#3e0621","commentsIdList":[]}},"3142fc21-e250-422d-a914-4d0e8224e3e3":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"6fb3ddd8-905c-43c2-83c0-0a060ad78855","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"6362345a-f89d-43d0-9d21-2ab00a56ddfa","typeOfStateId":"state","$connId":"con_473","$id":"2c16ee0a-6c32-4bdc-83e5-736f143dec92","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"076661c9-a016-45c8-a8c6-bc8453998820","$typeOfContent":"","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SetVariable","$title":"Definir vari√°vel - returnBlock","$invalid":false,"settings":{"variable":"returnBlock","value":"{{currentBlock}}"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-fd0b6e17-3313-4aa5-90c9-91b9e238c135","label":"SetVariable","background":"#9900ef","canChangeBackground":false}],"id":"3142fc21-e250-422d-a914-4d0e8224e3e3","root":false,"$title":"Ajusta - ReturnBlock","$position":{"top":"2065px","left":"1233.5px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"657c05dd-4d60-401f-9bef-25d9936a244b":{"$contentActions":[{"action":{"$id":"2093b5d0-b256-4719-a31e-65d3bf62566d","$typeOfContent":"chat-state","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"1eba6369-5aaa-463e-b53e-bc2deaeaabe7","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"1eba6369-5aaa-463e-b53e-bc2deaeaabe7","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"26715a9a-d349-4fec-82e2-5684132430ee","$typeOfContent":"media-document","$description":"","$inputSchema":{"type":"object","properties":{},"required":[]},"type":"SendMessage","settings":{"id":"e8275f65-818c-4b28-b3e7-77e6b393c255","type":"application/vnd.lime.media-link+json","content":{"title":"Fontes e Refer√™ncias.pdf","type":"application/pdf","uri":"https://blipmediastore.blob.core.windows.net/public-medias/Media_95502797-91d8-4803-bb94-fa7409f93bf9"},"metadata":{}},"$cardContent":{"document":{"id":"e8275f65-818c-4b28-b3e7-77e6b393c255","type":"application/vnd.lime.media-link+json","content":{"title":"Fontes e Refer√™ncias.pdf","type":"application/pdf","uri":"https://blipmediastore.blob.core.windows.net/public-medias/Media_95502797-91d8-4803-bb94-fa7409f93bf9"}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"68bafc9d-cfda-4f39-8213-ca6497cf3457","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"3142fc21-e250-422d-a914-4d0e8224e3e3","$invalid":false,"typeOfStateId":"state"},"$localCustomActions":[],"isAiGenerated":false,"$tags":[{"id":"blip-tag-07b73c07-6a08-478f-bb5a-51ef89e48440","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"657c05dd-4d60-401f-9bef-25d9936a244b","root":false,"$title":"Fontes","$position":{"top":"2387.57px","left":"1232.57px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}},"globalActions":{"$contentActions":[],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[],"id":"global-actions","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}}